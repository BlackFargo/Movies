var eC=Object.defineProperty;var tC=(n,e,t)=>e in n?eC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Jp=(n,e,t)=>tC(n,typeof e!="symbol"?e+"":e,t);function pb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var em={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function nC(){if(GE)return ou;GE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return ou.Fragment=e,ou.jsx=t,ou.jsxs=t,ou}var KE;function rC(){return KE||(KE=1,em.exports=nC()),em.exports}var XP=rC(),tm={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function iC(){if(QE)return ke;QE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,z={};function B(P,oe,de){this.props=P,this.context=oe,this.refs=z,this.updater=de||M}B.prototype.isReactComponent={},B.prototype.setState=function(P,oe){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,oe,"setState")},B.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=B.prototype;function G(P,oe,de){this.props=P,this.context=oe,this.refs=z,this.updater=de||M}var re=G.prototype=new $;re.constructor=G,D(re,B.prototype),re.isPureReactComponent=!0;var le=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function O(P,oe,de,ce,Se,Pe){return de=Pe.ref,{$$typeof:n,type:P,key:oe,ref:de!==void 0?de:null,props:Pe}}function R(P,oe){return O(P.type,oe,void 0,void 0,void 0,P.props)}function w(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function N(P){var oe={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(de){return oe[de]})}var k=/\/+/g;function x(P,oe){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):oe.toString(36)}function C(){}function xe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(C,C):(P.status="pending",P.then(function(oe){P.status==="pending"&&(P.status="fulfilled",P.value=oe)},function(oe){P.status==="pending"&&(P.status="rejected",P.reason=oe)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Le(P,oe,de,ce,Se){var Pe=typeof P;(Pe==="undefined"||Pe==="boolean")&&(P=null);var Oe=!1;if(P===null)Oe=!0;else switch(Pe){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(P.$$typeof){case n:case e:Oe=!0;break;case _:return Oe=P._init,Le(Oe(P._payload),oe,de,ce,Se)}}if(Oe)return Se=Se(P),Oe=ce===""?"."+x(P,0):ce,le(Se)?(de="",Oe!=null&&(de=Oe.replace(k,"$&/")+"/"),Le(Se,oe,de,"",function(En){return En})):Se!=null&&(w(Se)&&(Se=R(Se,de+(Se.key==null||P&&P.key===Se.key?"":(""+Se.key).replace(k,"$&/")+"/")+Oe)),oe.push(Se)),1;Oe=0;var Tt=ce===""?".":ce+":";if(le(P))for(var nt=0;nt<P.length;nt++)ce=P[nt],Pe=Tt+x(ce,nt),Oe+=Le(ce,oe,de,Pe,Se);else if(nt=b(P),typeof nt=="function")for(P=nt.call(P),nt=0;!(ce=P.next()).done;)ce=ce.value,Pe=Tt+x(ce,nt++),Oe+=Le(ce,oe,de,Pe,Se);else if(Pe==="object"){if(typeof P.then=="function")return Le(xe(P),oe,de,ce,Se);throw oe=String(P),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(P,oe,de){if(P==null)return P;var ce=[],Se=0;return Le(P,ce,"","",function(Pe){return oe.call(de,Pe,Se++)}),ce}function fe(P){if(P._status===-1){var oe=P._result;oe=oe(),oe.then(function(de){(P._status===0||P._status===-1)&&(P._status=1,P._result=de)},function(de){(P._status===0||P._status===-1)&&(P._status=2,P._result=de)}),P._status===-1&&(P._status=0,P._result=oe)}if(P._status===1)return P._result.default;throw P._result}var ve=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ue(){}return ke.Children={map:W,forEach:function(P,oe,de){W(P,function(){oe.apply(this,arguments)},de)},count:function(P){var oe=0;return W(P,function(){oe++}),oe},toArray:function(P){return W(P,function(oe){return oe})||[]},only:function(P){if(!w(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ke.Component=B,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=G,ke.StrictMode=i,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,ke.__COMPILER_RUNTIME={__proto__:null,c:function(P){return ee.H.useMemoCache(P)}},ke.cache=function(P){return function(){return P.apply(null,arguments)}},ke.cloneElement=function(P,oe,de){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ce=D({},P.props),Se=P.key,Pe=void 0;if(oe!=null)for(Oe in oe.ref!==void 0&&(Pe=void 0),oe.key!==void 0&&(Se=""+oe.key),oe)!pe.call(oe,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&oe.ref===void 0||(ce[Oe]=oe[Oe]);var Oe=arguments.length-2;if(Oe===1)ce.children=de;else if(1<Oe){for(var Tt=Array(Oe),nt=0;nt<Oe;nt++)Tt[nt]=arguments[nt+2];ce.children=Tt}return O(P.type,Se,void 0,void 0,Pe,ce)},ke.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},ke.createElement=function(P,oe,de){var ce,Se={},Pe=null;if(oe!=null)for(ce in oe.key!==void 0&&(Pe=""+oe.key),oe)pe.call(oe,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Se[ce]=oe[ce]);var Oe=arguments.length-2;if(Oe===1)Se.children=de;else if(1<Oe){for(var Tt=Array(Oe),nt=0;nt<Oe;nt++)Tt[nt]=arguments[nt+2];Se.children=Tt}if(P&&P.defaultProps)for(ce in Oe=P.defaultProps,Oe)Se[ce]===void 0&&(Se[ce]=Oe[ce]);return O(P,Pe,void 0,void 0,null,Se)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(P){return{$$typeof:d,render:P}},ke.isValidElement=w,ke.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:fe}},ke.memo=function(P,oe){return{$$typeof:g,type:P,compare:oe===void 0?null:oe}},ke.startTransition=function(P){var oe=ee.T,de={};ee.T=de;try{var ce=P(),Se=ee.S;Se!==null&&Se(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ue,ve)}catch(Pe){ve(Pe)}finally{ee.T=oe}},ke.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},ke.use=function(P){return ee.H.use(P)},ke.useActionState=function(P,oe,de){return ee.H.useActionState(P,oe,de)},ke.useCallback=function(P,oe){return ee.H.useCallback(P,oe)},ke.useContext=function(P){return ee.H.useContext(P)},ke.useDebugValue=function(){},ke.useDeferredValue=function(P,oe){return ee.H.useDeferredValue(P,oe)},ke.useEffect=function(P,oe,de){var ce=ee.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(P,oe)},ke.useId=function(){return ee.H.useId()},ke.useImperativeHandle=function(P,oe,de){return ee.H.useImperativeHandle(P,oe,de)},ke.useInsertionEffect=function(P,oe){return ee.H.useInsertionEffect(P,oe)},ke.useLayoutEffect=function(P,oe){return ee.H.useLayoutEffect(P,oe)},ke.useMemo=function(P,oe){return ee.H.useMemo(P,oe)},ke.useOptimistic=function(P,oe){return ee.H.useOptimistic(P,oe)},ke.useReducer=function(P,oe,de){return ee.H.useReducer(P,oe,de)},ke.useRef=function(P){return ee.H.useRef(P)},ke.useState=function(P){return ee.H.useState(P)},ke.useSyncExternalStore=function(P,oe,de){return ee.H.useSyncExternalStore(P,oe,de)},ke.useTransition=function(){return ee.H.useTransition()},ke.version="19.1.0",ke}var $E;function Ch(){return $E||($E=1,tm.exports=iC()),tm.exports}var j=Ch();const ut=pb(j);var nm={exports:{}},lu={},rm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function sC(){return YE||(YE=1,function(n){function e(W,fe){var ve=W.length;W.push(fe);e:for(;0<ve;){var Ue=ve-1>>>1,P=W[Ue];if(0<a(P,fe))W[Ue]=fe,W[ve]=P,ve=Ue;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var fe=W[0],ve=W.pop();if(ve!==fe){W[0]=ve;e:for(var Ue=0,P=W.length,oe=P>>>1;Ue<oe;){var de=2*(Ue+1)-1,ce=W[de],Se=de+1,Pe=W[Se];if(0>a(ce,ve))Se<P&&0>a(Pe,ce)?(W[Ue]=Pe,W[Se]=ve,Ue=Se):(W[Ue]=ce,W[de]=ve,Ue=de);else if(Se<P&&0>a(Pe,ve))W[Ue]=Pe,W[Se]=ve,Ue=Se;else break e}}return fe}function a(W,fe){var ve=W.sortIndex-fe.sortIndex;return ve!==0?ve:W.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,T=null,b=3,M=!1,D=!1,z=!1,B=!1,$=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var fe=t(g);fe!==null;){if(fe.callback===null)i(g);else if(fe.startTime<=W)i(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(g)}}function ee(W){if(z=!1,le(W),!D)if(t(p)!==null)D=!0,pe||(pe=!0,x());else{var fe=t(g);fe!==null&&Le(ee,fe.startTime-W)}}var pe=!1,O=-1,R=5,w=-1;function N(){return B?!0:!(n.unstable_now()-w<R)}function k(){if(B=!1,pe){var W=n.unstable_now();w=W;var fe=!0;try{e:{D=!1,z&&(z=!1,G(O),O=-1),M=!0;var ve=b;try{t:{for(le(W),T=t(p);T!==null&&!(T.expirationTime>W&&N());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,b=T.priorityLevel;var P=Ue(T.expirationTime<=W);if(W=n.unstable_now(),typeof P=="function"){T.callback=P,le(W),fe=!0;break t}T===t(p)&&i(p),le(W)}else i(p);T=t(p)}if(T!==null)fe=!0;else{var oe=t(g);oe!==null&&Le(ee,oe.startTime-W),fe=!1}}break e}finally{T=null,b=ve,M=!1}fe=void 0}}finally{fe?x():pe=!1}}}var x;if(typeof re=="function")x=function(){re(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xe=C.port2;C.port1.onmessage=k,x=function(){xe.postMessage(null)}}else x=function(){$(k,0)};function Le(W,fe){O=$(function(){W(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var fe=3;break;default:fe=b}var ve=b;b=fe;try{return W()}finally{b=ve}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(W,fe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ve=b;b=W;try{return fe()}finally{b=ve}},n.unstable_scheduleCallback=function(W,fe,ve){var Ue=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ue+ve:Ue):ve=Ue,W){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ve+P,W={id:_++,callback:fe,priorityLevel:W,startTime:ve,expirationTime:P,sortIndex:-1},ve>Ue?(W.sortIndex=ve,e(g,W),t(p)===null&&W===t(g)&&(z?(G(O),O=-1):z=!0,Le(ee,ve-Ue))):(W.sortIndex=P,e(p,W),D||M||(D=!0,pe||(pe=!0,x()))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var fe=b;return function(){var ve=b;b=fe;try{return W.apply(this,arguments)}finally{b=ve}}}}(im)),im}var XE;function aC(){return XE||(XE=1,rm.exports=sC()),rm.exports}var sm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function oC(){if(WE)return an;WE=1;var n=Ch();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},an.flushSync=function(p){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=_,i.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:M}):_==="script"&&i.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);i.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},an.requestFormReset=function(p){i.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.0",an}var ZE;function mb(){if(ZE)return sm.exports;ZE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sm.exports=oC(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function lC(){if(JE)return lu;JE=1;var n=aC(),e=Ch(),t=mb();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return d(h),r;if(m===u)return d(h),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=m;else{for(var E=!1,S=h.child;S;){if(S===o){E=!0,o=h,u=m;break}if(S===u){E=!0,u=h,o=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===o){E=!0,o=m,u=h;break}if(S===u){E=!0,u=m,o=h;break}S=S.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),re=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function x(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function xe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case B:return"Profiler";case z:return"StrictMode";case ee:return"Suspense";case pe:return"SuspenseList";case w:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case re:return(r.displayName||"Context")+".Provider";case G:return(r._context.displayName||"Context")+".Consumer";case le:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:xe(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return xe(r(s))}catch{}}return null}var Le=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ue=[],P=-1;function oe(r){return{current:r}}function de(r){0>P||(r.current=Ue[P],Ue[P]=null,P--)}function ce(r,s){P++,Ue[P]=r.current,r.current=s}var Se=oe(null),Pe=oe(null),Oe=oe(null),Tt=oe(null);function nt(r,s){switch(ce(Oe,s),ce(Pe,r),ce(Se,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?vE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=vE(s),r=EE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(Se),ce(Se,r)}function En(){de(Se),de(Pe),de(Oe)}function Jn(r){r.memoizedState!==null&&ce(Tt,r);var s=Se.current,o=EE(s,r.type);s!==o&&(ce(Pe,r),ce(Se,o))}function Rn(r){Pe.current===r&&(de(Se),de(Pe)),Tt.current===r&&(de(Tt),nu._currentValue=ve)}var _r=Object.prototype.hasOwnProperty,Gr=n.unstable_scheduleCallback,vr=n.unstable_cancelCallback,ks=n.unstable_shouldYield,Ls=n.unstable_requestPaint,hn=n.unstable_now,nl=n.unstable_getCurrentPriorityLevel,Us=n.unstable_ImmediatePriority,zs=n.unstable_UserBlockingPriority,Er=n.unstable_NormalPriority,V=n.unstable_LowPriority,K=n.unstable_IdlePriority,Z=n.log,ge=n.unstable_setDisableYieldValue,ue=null,ne=null;function me(r){if(typeof Z=="function"&&ge(r),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(ue,r)}catch{}}var Ce=Math.clz32?Math.clz32:Kr,ct=Math.log,Ct=Math.LN2;function Kr(r){return r>>>=0,r===0?32:31-(ct(r)/Ct|0)|0}var er=256,tr=4194304;function Cn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Qr(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?h=Cn(u):(E&=S,E!==0?h=Cn(E):o||(o=S&~r,o!==0&&(h=Cn(o))))):(S=u&~m,S!==0?h=Cn(S):E!==0?h=Cn(E):o||(o=u&~r,o!==0&&(h=Cn(o)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:h}function $r(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Li(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rl(){var r=er;return er<<=1,(er&4194048)===0&&(er=256),r}function il(){var r=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),r}function Yr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Xr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function sl(r,s,o,u,h,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,I=r.expirationTimes,H=r.hiddenUpdates;for(o=E&~o;0<o;){var J=31-Ce(o),se=1<<J;S[J]=0,I[J]=-1;var Q=H[J];if(Q!==null)for(H[J]=null,J=0;J<Q.length;J++){var Y=Q[J];Y!==null&&(Y.lane&=-536870913)}o&=~se}u!==0&&Tr(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~s))}function Tr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Ce(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function al(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Ce(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Ui(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function xa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function zi(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:zE(r.type))}function rc(r,s){var o=fe.p;try{return fe.p=r,s()}finally{fe.p=o}}var dt=Math.random().toString(36).slice(2),Pt="__reactFiber$"+dt,It="__reactProps$"+dt,Bn="__reactContainer$"+dt,ol="__reactEvents$"+dt,nd="__reactListeners$"+dt,Bi="__reactHandles$"+dt,ic="__reactResources$"+dt,Bs="__reactMarker$"+dt;function qi(r){delete r[Pt],delete r[It],delete r[ol],delete r[nd],delete r[Bi]}function Wr(r){var s=r[Pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Bn]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=AE(r);r!==null;){if(o=r[Pt])return o;r=AE(r)}return s}r=o,o=r.parentNode}return null}function br(r){if(r=r[Pt]||r[Bn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Sr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function dn(r){var s=r[ic];return s||(s=r[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[Bs]=!0}var ll=new Set,Pa={};function nr(r,s){Zr(r,s),Zr(r+"Capture",s)}function Zr(r,s){for(Pa[r]=s,r=0;r<s.length;r++)ll.add(s[r])}var sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},qs={};function oc(r){return _r.call(qs,r)?!0:_r.call(ac,r)?!1:sc.test(r)?qs[r]=!0:(ac[r]=!0,!1)}function Fi(r,s,o){if(oc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ar(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Yt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Fs,lc;function Jr(r){if(Fs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Fs=s&&s[1]||"",lc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+r+lc}var ka=!1;function La(r,s){if(!r||ka)return"";ka=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Y){var Q=Y}Reflect.construct(r,[],se)}else{try{se.call()}catch(Y){Q=Y}r.call(se.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var I=E.split(`
`),H=S.split(`
`);for(h=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(u===I.length||h===H.length)for(u=I.length-1,h=H.length-1;1<=u&&0<=h&&I[u]!==H[h];)h--;for(;1<=u&&0<=h;u--,h--)if(I[u]!==H[h]){if(u!==1||h!==1)do if(u--,h--,0>h||I[u]!==H[h]){var J=`
`+I[u].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=u&&0<=h);break}}}finally{ka=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Jr(o):""}function ul(r){switch(r.tag){case 26:case 27:case 5:return Jr(r.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 15:return La(r.type,!1);case 11:return La(r.type.render,!1);case 1:return La(r.type,!0);case 31:return Jr("Activity");default:return""}}function Ua(r){try{var s="";do s+=ul(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function cl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rd(r){var s=cl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function za(r){r._valueTracker||(r._valueTracker=rd(r))}function fl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=cl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function js(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var id=/[\n"\\]/g;function Dt(r){return r.replace(id,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function In(r,s,o,u,h,m,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pn(s)):r.value!==""+pn(s)&&(r.value=""+pn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?ji(r,E,pn(s)):o!=null?ji(r,E,pn(o)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+pn(S):r.removeAttribute("name")}function Hs(r,s,o,u,h,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+pn(o):"",s=s!=null?""+pn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function ji(r,s,o){s==="number"&&js(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ei(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+pn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function rt(r,s,o){if(s!=null&&(s=""+pn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+pn(o):""}function Gs(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Le(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=pn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function qn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Ks.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function hl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&uc(r,h,u)}else for(var m in s)s.hasOwnProperty(m)&&uc(r,m,s[m])}function dl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(r){return ad.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ti=null;function Fn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ni=null,ri=null;function pl(r){var s=br(r);if(s&&(r=s.stateNode)){var o=r[It]||null;e:switch(r=s.stateNode,s.type){case"input":if(In(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[It]||null;if(!h)throw Error(i(90));In(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&fl(u)}break e;case"textarea":rt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ei(r,!!o.multiple,s,!1)}}}var wr=!1;function cc(r,s,o){if(wr)return r(s,o);wr=!0;try{var u=r(s);return u}finally{if(wr=!1,(ni!==null||ri!==null)&&(rf(),ni&&(s=ni,r=ri,ri=ni=null,pl(s),r)))for(s=0;s<r.length;s++)pl(r[s])}}function Qs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[It]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(rr)try{var $s={};Object.defineProperty($s,"passive",{get:function(){jn=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{jn=!1}var Rr=null,Hi=null,ii=null;function ml(){if(ii)return ii;var r,s=Hi,o=s.length,u,h="value"in Rr?Rr.value:Rr.textContent,m=h.length;for(r=0;r<o&&s[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===h[m-u];u++);return ii=h.slice(r,1<u?1-u:void 0)}function Cr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ir(){return!0}function gl(){return!1}function jt(r){function s(o,u,h,m,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ir:gl,this.isPropagationStopped=gl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=jt(Ze),Ys=_({},Ze,{view:0,detail:0}),fc=jt(Ys),Fa,ja,Dr,Xs=_({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Dr&&(Dr&&r.type==="mousemove"?(Fa=r.screenX-Dr.screenX,ja=r.screenY-Dr.screenY):ja=Fa=0,Dr=r),Fa)},movementY:function(r){return"movementY"in r?r.movementY:ja}}),Hn=jt(Xs),hc=_({},Xs,{dataTransfer:0}),od=jt(hc),Ws=_({},Ys,{relatedTarget:0}),Ha=jt(Ws),yl=_({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=jt(yl),dc=_({},Ze,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ka=jt(dc),ld=_({},Ze,{data:0}),_l=jt(ld),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=mc[r])?!!s[r]:!1}function Js(){return vl}var gc=_({},Ys,{key:function(r){if(r.key){var s=Zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Cr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(r){return r.type==="keypress"?Cr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qa=jt(gc),yc=_({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=jt(yc),si=_({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),_c=jt(si),vc=_({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ec=jt(vc),Tc=_({},Xs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$a=jt(Tc),mn=_({},Ze,{newState:0,oldState:0}),bc=jt(mn),Sc=[9,13,27,32],Or=rr&&"CompositionEvent"in window,f=null;rr&&"documentMode"in document&&(f=document.documentMode);var y=rr&&"TextEvent"in window&&!f,v=rr&&(!Or||f&&8<f&&11>=f),A=" ",q=!1;function X(r,s){switch(r){case"keyup":return Sc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ke=!1;function kt(r,s){switch(r){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(q=!0,A);case"textInput":return r=s.data,r===A&&q?null:r;default:return null}}function Qe(r,s){if(Ke)return r==="compositionend"||!Or&&X(r,s)?(r=ml(),ii=Hi=Rr=null,Ke=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v&&s.locale!=="ko"?null:s.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ht[r.type]:s==="textarea"}function ai(r,s,o,u){ni?ri?ri.push(u):ri=[u]:ni=u,s=cf(s,"onChange"),0<s.length&&(o=new qa("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Xt=null,Nr=null;function Tl(r){pE(r,0)}function Ac(r){var s=Sr(r);if(fl(s))return r}function Py(r,s){if(r==="change")return s}var ky=!1;if(rr){var ud;if(rr){var cd="oninput"in document;if(!cd){var Ly=document.createElement("div");Ly.setAttribute("oninput","return;"),cd=typeof Ly.oninput=="function"}ud=cd}else ud=!1;ky=ud&&(!document.documentMode||9<document.documentMode)}function Uy(){Xt&&(Xt.detachEvent("onpropertychange",zy),Nr=Xt=null)}function zy(r){if(r.propertyName==="value"&&Ac(Nr)){var s=[];ai(s,Nr,r,Fn(r)),cc(Tl,s)}}function Ow(r,s,o){r==="focusin"?(Uy(),Xt=s,Nr=o,Xt.attachEvent("onpropertychange",zy)):r==="focusout"&&Uy()}function Nw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ac(Nr)}function Mw(r,s){if(r==="click")return Ac(s)}function Vw(r,s){if(r==="input"||r==="change")return Ac(s)}function xw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dn=typeof Object.is=="function"?Object.is:xw;function bl(r,s){if(Dn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_r.call(s,h)||!Dn(r[h],s[h]))return!1}return!0}function By(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qy(r,s){var o=By(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=By(o)}}function Fy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Fy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function jy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=js(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=js(r.document)}return s}function fd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Pw=rr&&"documentMode"in document&&11>=document.documentMode,Ya=null,hd=null,Sl=null,dd=!1;function Hy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dd||Ya==null||Ya!==js(u)||(u=Ya,"selectionStart"in u&&fd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Sl&&bl(Sl,u)||(Sl=u,u=cf(hd,"onSelect"),0<u.length&&(s=new qa("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ya)))}function ea(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Xa={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},pd={},Gy={};rr&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ta(r){if(pd[r])return pd[r];if(!Xa[r])return r;var s=Xa[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Gy)return pd[r]=s[o];return r}var Ky=ta("animationend"),Qy=ta("animationiteration"),$y=ta("animationstart"),kw=ta("transitionrun"),Lw=ta("transitionstart"),Uw=ta("transitioncancel"),Yy=ta("transitionend"),Xy=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function ir(r,s){Xy.set(r,s),nr(s,[r])}var Wy=new WeakMap;function Gn(r,s){if(typeof r=="object"&&r!==null){var o=Wy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ua(s)},Wy.set(r,s),s)}return{value:r,source:s,stack:Ua(s)}}var Kn=[],Wa=0,gd=0;function wc(){for(var r=Wa,s=gd=Wa=0;s<r;){var o=Kn[s];Kn[s++]=null;var u=Kn[s];Kn[s++]=null;var h=Kn[s];Kn[s++]=null;var m=Kn[s];if(Kn[s++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}m!==0&&Zy(o,h,m)}}function Rc(r,s,o,u){Kn[Wa++]=r,Kn[Wa++]=s,Kn[Wa++]=o,Kn[Wa++]=u,gd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function yd(r,s,o,u){return Rc(r,s,o,u),Cc(r)}function Za(r,s){return Rc(r,null,null,s),Cc(r)}function Zy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&s!==null&&(h=31-Ce(o),r=m.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),m):null}function Cc(r){if(50<$l)throw $l=0,Sp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ja={};function zw(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(r,s,o,u){return new zw(r,s,o,u)}function _d(r){return r=r.prototype,!(!r||!r.isReactComponent)}function oi(r,s){var o=r.alternate;return o===null?(o=On(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Jy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Ic(r,s,o,u,h,m){var E=0;if(u=r,typeof r=="function")_d(r)&&(E=1);else if(typeof r=="string")E=qR(r,o,Se.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case w:return r=On(31,o,s,h),r.elementType=w,r.lanes=m,r;case D:return na(o.children,h,m,s);case z:E=8,h|=24;break;case B:return r=On(12,o,s,h|2),r.elementType=B,r.lanes=m,r;case ee:return r=On(13,o,s,h),r.elementType=ee,r.lanes=m,r;case pe:return r=On(19,o,s,h),r.elementType=pe,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:case re:E=10;break e;case G:E=9;break e;case le:E=11;break e;case O:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=On(E,o,s,h),s.elementType=r,s.type=u,s.lanes=m,s}function na(r,s,o,u){return r=On(7,r,u,s),r.lanes=o,r}function vd(r,s,o){return r=On(6,r,null,s),r.lanes=o,r}function Ed(r,s,o){return s=On(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var eo=[],to=0,Dc=null,Oc=0,Qn=[],$n=0,ra=null,li=1,ui="";function ia(r,s){eo[to++]=Oc,eo[to++]=Dc,Dc=r,Oc=s}function e_(r,s,o){Qn[$n++]=li,Qn[$n++]=ui,Qn[$n++]=ra,ra=r;var u=li;r=ui;var h=32-Ce(u)-1;u&=~(1<<h),o+=1;var m=32-Ce(s)+h;if(30<m){var E=h-h%5;m=(u&(1<<E)-1).toString(32),u>>=E,h-=E,li=1<<32-Ce(s)+h|o<<h|u,ui=m+r}else li=1<<m|o<<h|u,ui=r}function Td(r){r.return!==null&&(ia(r,1),e_(r,1,0))}function bd(r){for(;r===Dc;)Dc=eo[--to],eo[to]=null,Oc=eo[--to],eo[to]=null;for(;r===ra;)ra=Qn[--$n],Qn[$n]=null,ui=Qn[--$n],Qn[$n]=null,li=Qn[--$n],Qn[$n]=null}var gn=null,vt=null,We=!1,sa=null,Mr=!1,Sd=Error(i(519));function aa(r){var s=Error(i(418,""));throw Rl(Gn(s,r)),Sd}function t_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Pt]=r,s[It]=u,o){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(o=0;o<Xl.length;o++)je(Xl[o],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Hs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),za(s);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Gs(s,u.value,u.defaultValue,u.children),za(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||_E(s.textContent,o)?(u.popover!=null&&(je("beforetoggle",s),je("toggle",s)),u.onScroll!=null&&je("scroll",s),u.onScrollEnd!=null&&je("scrollend",s),u.onClick!=null&&(s.onclick=ff),s=!0):s=!1,s||aa(r)}function n_(r){for(gn=r.return;gn;)switch(gn.tag){case 5:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:gn=gn.return}}function Al(r){if(r!==gn)return!1;if(!We)return n_(r),We=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||zp(r.type,r.memoizedProps)),o=!o),o&&vt&&aa(r),n_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){vt=ar(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}vt=null}}else s===27?(s=vt,as(r.type)?(r=jp,jp=null,vt=r):vt=s):vt=gn?ar(r.stateNode.nextSibling):null;return!0}function wl(){vt=gn=null,We=!1}function r_(){var r=sa;return r!==null&&(Sn===null?Sn=r:Sn.push.apply(Sn,r),sa=null),r}function Rl(r){sa===null?sa=[r]:sa.push(r)}var Ad=oe(null),oa=null,ci=null;function Gi(r,s,o){ce(Ad,s._currentValue),s._currentValue=o}function fi(r){r._currentValue=Ad.current,de(Ad)}function wd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Rd(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var I=0;I<s.length;I++)if(S.context===s[I]){m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),wd(m.return,o,r),u||(E=null);break e}m=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),wd(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Cl(r,s,o,u){r=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=h.type;Dn(h.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(h===Tt.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(nu):r=[nu])}h=h.return}r!==null&&Rd(s,r,o,u),s.flags|=262144}function Nc(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function la(r){oa=r,ci=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function sn(r){return i_(oa,r)}function Mc(r,s){return oa===null&&la(r),i_(r,s)}function i_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ci===null){if(r===null)throw Error(i(308));ci=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ci=ci.next=s;return o}var Bw=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},qw=n.unstable_scheduleCallback,Fw=n.unstable_NormalPriority,Ut={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new Bw,data:new Map,refCount:0}}function Il(r){r.refCount--,r.refCount===0&&qw(Fw,function(){r.controller.abort()})}var Dl=null,Id=0,no=0,ro=null;function jw(r,s){if(Dl===null){var o=Dl=[];Id=0,no=Op(),ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Id++,s.then(s_,s_),s}function s_(){if(--Id===0&&Dl!==null){ro!==null&&(ro.status="fulfilled");var r=Dl;Dl=null,no=0,ro=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Hw(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var a_=W.S;W.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&jw(r,s),a_!==null&&a_(r,s)};var ua=oe(null);function Dd(){var r=ua.current;return r!==null?r:lt.pooledCache}function Vc(r,s){s===null?ce(ua,ua.current):ce(ua,s.pool)}function o_(){var r=Dd();return r===null?null:{parent:Ut._currentValue,pool:r}}var Ol=Error(i(460)),l_=Error(i(474)),xc=Error(i(542)),Od={then:function(){}};function u_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pc(){}function c_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Pc,Pc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,h_(r),r;default:if(typeof s.status=="string")s.then(Pc,Pc);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,h_(r),r}throw Nl=s,Ol}}var Nl=null;function f_(){if(Nl===null)throw Error(i(459));var r=Nl;return Nl=null,r}function h_(r){if(r===Ol||r===xc)throw Error(i(483))}var Ki=!1;function Nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Qi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function $i(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Cc(r),Zy(r,null,o),s}return Rc(r,u,s,o),Cc(r)}function Ml(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,al(r,o)}}function Vd(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?h=m=s:m=m.next=s}else h=m=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var xd=!1;function Vl(){if(xd){var r=ro;if(r!==null)throw r}}function xl(r,s,o,u){xd=!1;var h=r.updateQueue;Ki=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,H=I.next;I.next=null,E===null?m=H:E.next=H,E=I;var J=r.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=H:S.next=H,J.lastBaseUpdate=I))}if(m!==null){var se=h.baseState;E=0,J=H=I=null,S=m;do{var Q=S.lane&-536870913,Y=Q!==S.lane;if(Y?($e&Q)===Q:(u&Q)===Q){Q!==0&&Q===no&&(xd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ne=r,we=S;Q=s;var at=o;switch(we.tag){case 1:if(Ne=we.payload,typeof Ne=="function"){se=Ne.call(at,se,Q);break e}se=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=we.payload,Q=typeof Ne=="function"?Ne.call(at,se,Q):Ne,Q==null)break e;se=_({},se,Q);break e;case 2:Ki=!0}}Q=S.callback,Q!==null&&(r.flags|=64,Y&&(r.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(H=J=Y,I=se):J=J.next=Y,E|=Q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(I=se),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=J,m===null&&(h.shared.lanes=0),ns|=E,r.lanes=E,r.memoizedState=se}}function d_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function p_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)d_(o[r],s)}var io=oe(null),kc=oe(0);function m_(r,s){r=_i,ce(kc,r),ce(io,s),_i=r|s.baseLanes}function Pd(){ce(kc,_i),ce(io,io.current)}function kd(){_i=kc.current,de(io),de(kc)}var Yi=0,ze=null,it=null,Ot=null,Lc=!1,so=!1,ca=!1,Uc=0,Pl=0,ao=null,Gw=0;function St(){throw Error(i(321))}function Ld(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Dn(r[o],s[o]))return!1;return!0}function Ud(r,s,o,u,h,m){return Yi=m,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?Z_:J_,ca=!1,m=o(u,h),ca=!1,so&&(m=y_(s,o,u,h)),g_(r),m}function g_(r){W.H=Hc;var s=it!==null&&it.next!==null;if(Yi=0,Ot=it=ze=null,Lc=!1,Pl=0,ao=null,s)throw Error(i(300));r===null||Gt||(r=r.dependencies,r!==null&&Nc(r)&&(Gt=!0))}function y_(r,s,o,u){ze=r;var h=0;do{if(so&&(ao=null),Pl=0,so=!1,25<=h)throw Error(i(301));if(h+=1,Ot=it=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=Zw,m=s(o,u)}while(so);return m}function Kw(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?kl(s):s,r=r.useState()[0],(it!==null?it.memoizedState:null)!==r&&(ze.flags|=1024),s}function zd(){var r=Uc!==0;return Uc=0,r}function Bd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function qd(r){if(Lc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lc=!1}Yi=0,Ot=it=ze=null,so=!1,Pl=Uc=0,ao=null}function Tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ze.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Nt(){if(it===null){var r=ze.alternate;r=r!==null?r.memoizedState:null}else r=it.next;var s=Ot===null?ze.memoizedState:Ot.next;if(s!==null)Ot=s,it=r;else{if(r===null)throw ze.alternate===null?Error(i(467)):Error(i(310));it=r,r={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ot===null?ze.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function Fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(r){var s=Pl;return Pl+=1,ao===null&&(ao=[]),r=c_(ao,r,s),s=ze,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?Z_:J_),r}function zc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return kl(r);if(r.$$typeof===re)return sn(r)}throw Error(i(438,String(r)))}function jd(r){var s=null,o=ze.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Fd(),ze.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=N;return s.index++,o}function hi(r,s){return typeof s=="function"?s(r):s}function Bc(r){var s=Nt();return Hd(s,it,r)}function Hd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}s.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{s=h.next;var S=E=null,I=null,H=s,J=!1;do{var se=H.lane&-536870913;if(se!==H.lane?($e&se)===se:(Yi&se)===se){var Q=H.revertLane;if(Q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),se===no&&(J=!0);else if((Yi&Q)===Q){H=H.next,Q===no&&(J=!0);continue}else se={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=se,E=m):I=I.next=se,ze.lanes|=Q,ns|=Q;se=H.action,ca&&o(m,se),m=H.hasEagerState?H.eagerState:o(m,se)}else Q={lane:se,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=Q,E=m):I=I.next=Q,ze.lanes|=se,ns|=se;H=H.next}while(H!==null&&H!==s);if(I===null?E=m:I.next=S,!Dn(m,r.memoizedState)&&(Gt=!0,J&&(o=ro,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=I,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Gd(r){var s=Nt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,m=s.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do m=r(m,E.action),E=E.next;while(E!==h);Dn(m,s.memoizedState)||(Gt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function __(r,s,o){var u=ze,h=Nt(),m=We;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Dn((it||h).memoizedState,o);E&&(h.memoizedState=o,Gt=!0),h=h.queue;var S=T_.bind(null,u,h,r);if(Ll(2048,8,S,[r]),h.getSnapshot!==s||E||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,oo(9,qc(),E_.bind(null,u,h,o,s),null),lt===null)throw Error(i(349));m||(Yi&124)!==0||v_(u,s,o)}return o}function v_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=ze.updateQueue,s===null?(s=Fd(),ze.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function E_(r,s,o,u){s.value=o,s.getSnapshot=u,b_(s)&&S_(r)}function T_(r,s,o){return o(function(){b_(s)&&S_(r)})}function b_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Dn(r,o)}catch{return!0}}function S_(r){var s=Za(r,2);s!==null&&Pn(s,r,2)}function Kd(r){var s=Tn();if(typeof r=="function"){var o=r;if(r=o(),ca){me(!0);try{o()}finally{me(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:r},s}function A_(r,s,o,u){return r.baseState=o,Hd(r,it,typeof u=="function"?u:hi)}function Qw(r,s,o,u,h){if(jc(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,w_(s,m)):(m.next=o.next,s.pending=o.next=m)}}function w_(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var m=W.T,E={};W.T=E;try{var S=o(h,u),I=W.S;I!==null&&I(E,S),R_(r,s,S)}catch(H){Qd(r,s,H)}finally{W.T=m}}else try{m=o(h,u),R_(r,s,m)}catch(H){Qd(r,s,H)}}function R_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){C_(r,s,u)},function(u){return Qd(r,s,u)}):C_(r,s,o)}function C_(r,s,o){s.status="fulfilled",s.value=o,I_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,w_(r,o)))}function Qd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,I_(s),s=s.next;while(s!==u)}r.action=null}function I_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function D_(r,s){return s}function O_(r,s){if(We){var o=lt.formState;if(o!==null){e:{var u=ze;if(We){if(vt){t:{for(var h=vt,m=Mr;h.nodeType!==8;){if(!m){h=null;break t}if(h=ar(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){vt=ar(h.nextSibling),u=h.data==="F!";break e}}aa(u)}u=!1}u&&(s=o[0])}}return o=Tn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:s},o.queue=u,o=Y_.bind(null,ze,u),u.dispatch=o,u=Kd(!1),m=Zd.bind(null,ze,!1,u.queue),u=Tn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=Qw.bind(null,ze,h,m,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function N_(r){var s=Nt();return M_(s,it,r)}function M_(r,s,o){if(s=Hd(r,s,D_)[0],r=Bc(hi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=kl(s)}catch(E){throw E===Ol?xc:E}else u=s;s=Nt();var h=s.queue,m=h.dispatch;return o!==s.memoizedState&&(ze.flags|=2048,oo(9,qc(),$w.bind(null,h,o),null)),[u,m,r]}function $w(r,s){r.action=s}function V_(r){var s=Nt(),o=it;if(o!==null)return M_(s,o,r);Nt(),s=s.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function oo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=ze.updateQueue,s===null&&(s=Fd(),ze.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function qc(){return{destroy:void 0,resource:void 0}}function x_(){return Nt().memoizedState}function Fc(r,s,o,u){var h=Tn();u=u===void 0?null:u,ze.flags|=r,h.memoizedState=oo(1|s,qc(),o,u)}function Ll(r,s,o,u){var h=Nt();u=u===void 0?null:u;var m=h.memoizedState.inst;it!==null&&u!==null&&Ld(u,it.memoizedState.deps)?h.memoizedState=oo(s,m,o,u):(ze.flags|=r,h.memoizedState=oo(1|s,m,o,u))}function P_(r,s){Fc(8390656,8,r,s)}function k_(r,s){Ll(2048,8,r,s)}function L_(r,s){return Ll(4,2,r,s)}function U_(r,s){return Ll(4,4,r,s)}function z_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function B_(r,s,o){o=o!=null?o.concat([r]):null,Ll(4,4,z_.bind(null,s,r),o)}function $d(){}function q_(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ld(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function F_(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ld(s,u[1]))return u[0];if(u=r(),ca){me(!0);try{r()}finally{me(!1)}}return o.memoizedState=[u,s],u}function Yd(r,s,o){return o===void 0||(Yi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Gv(),ze.lanes|=r,ns|=r,o)}function j_(r,s,o,u){return Dn(o,s)?o:io.current!==null?(r=Yd(r,o,u),Dn(r,s)||(Gt=!0),r):(Yi&42)===0?(Gt=!0,r.memoizedState=o):(r=Gv(),ze.lanes|=r,ns|=r,s)}function H_(r,s,o,u,h){var m=fe.p;fe.p=m!==0&&8>m?m:8;var E=W.T,S={};W.T=S,Zd(r,!1,s,o);try{var I=h(),H=W.S;if(H!==null&&H(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=Hw(I,u);Ul(r,s,J,xn(r))}else Ul(r,s,u,xn(r))}catch(se){Ul(r,s,{then:function(){},status:"rejected",reason:se},xn())}finally{fe.p=m,W.T=E}}function Yw(){}function Xd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=G_(r).queue;H_(r,h,s,ve,o===null?Yw:function(){return K_(r),o(u)})}function G_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:ve},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function K_(r){var s=G_(r).next.queue;Ul(r,s,{},xn())}function Wd(){return sn(nu)}function Q_(){return Nt().memoizedState}function $_(){return Nt().memoizedState}function Xw(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=xn();r=Qi(o);var u=$i(s,r,o);u!==null&&(Pn(u,s,o),Ml(u,s,o)),s={cache:Cd()},r.payload=s;return}s=s.return}}function Ww(r,s,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},jc(r)?X_(s,o):(o=yd(r,s,o,u),o!==null&&(Pn(o,r,u),W_(o,s,u)))}function Y_(r,s,o){var u=xn();Ul(r,s,o,u)}function Ul(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(jc(r))X_(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,S=m(E,o);if(h.hasEagerState=!0,h.eagerState=S,Dn(S,E))return Rc(r,s,h,0),lt===null&&wc(),!1}catch{}finally{}if(o=yd(r,s,h,u),o!==null)return Pn(o,r,u),W_(o,s,u),!0}return!1}function Zd(r,s,o,u){if(u={lane:2,revertLane:Op(),action:u,hasEagerState:!1,eagerState:null,next:null},jc(r)){if(s)throw Error(i(479))}else s=yd(r,o,u,2),s!==null&&Pn(s,r,2)}function jc(r){var s=r.alternate;return r===ze||s!==null&&s===ze}function X_(r,s){so=Lc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function W_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,al(r,o)}}var Hc={readContext:sn,use:zc,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Z_={readContext:sn,use:zc,useCallback:function(r,s){return Tn().memoizedState=[r,s===void 0?null:s],r},useContext:sn,useEffect:P_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Fc(4194308,4,z_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Fc(4194308,4,r,s)},useInsertionEffect:function(r,s){Fc(4,2,r,s)},useMemo:function(r,s){var o=Tn();s=s===void 0?null:s;var u=r();if(ca){me(!0);try{r()}finally{me(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Tn();if(o!==void 0){var h=o(s);if(ca){me(!0);try{o(s)}finally{me(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=Ww.bind(null,ze,r),[u.memoizedState,r]},useRef:function(r){var s=Tn();return r={current:r},s.memoizedState=r},useState:function(r){r=Kd(r);var s=r.queue,o=Y_.bind(null,ze,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:$d,useDeferredValue:function(r,s){var o=Tn();return Yd(o,r,s)},useTransition:function(){var r=Kd(!1);return r=H_.bind(null,ze,r.queue,!0,!1),Tn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=ze,h=Tn();if(We){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),lt===null)throw Error(i(349));($e&124)!==0||v_(u,s,o)}h.memoizedState=o;var m={value:o,getSnapshot:s};return h.queue=m,P_(T_.bind(null,u,m,r),[r]),u.flags|=2048,oo(9,qc(),E_.bind(null,u,m,o,s),null),o},useId:function(){var r=Tn(),s=lt.identifierPrefix;if(We){var o=ui,u=li;o=(u&~(1<<32-Ce(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Uc++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Gw++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Wd,useFormState:O_,useActionState:O_,useOptimistic:function(r){var s=Tn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Zd.bind(null,ze,!0,o),o.dispatch=s,[r,s]},useMemoCache:jd,useCacheRefresh:function(){return Tn().memoizedState=Xw.bind(null,ze)}},J_={readContext:sn,use:zc,useCallback:q_,useContext:sn,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:L_,useLayoutEffect:U_,useMemo:F_,useReducer:Bc,useRef:x_,useState:function(){return Bc(hi)},useDebugValue:$d,useDeferredValue:function(r,s){var o=Nt();return j_(o,it.memoizedState,r,s)},useTransition:function(){var r=Bc(hi)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:kl(r),s]},useSyncExternalStore:__,useId:Q_,useHostTransitionStatus:Wd,useFormState:N_,useActionState:N_,useOptimistic:function(r,s){var o=Nt();return A_(o,it,r,s)},useMemoCache:jd,useCacheRefresh:$_},Zw={readContext:sn,use:zc,useCallback:q_,useContext:sn,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:L_,useLayoutEffect:U_,useMemo:F_,useReducer:Gd,useRef:x_,useState:function(){return Gd(hi)},useDebugValue:$d,useDeferredValue:function(r,s){var o=Nt();return it===null?Yd(o,r,s):j_(o,it.memoizedState,r,s)},useTransition:function(){var r=Gd(hi)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:kl(r),s]},useSyncExternalStore:__,useId:Q_,useHostTransitionStatus:Wd,useFormState:V_,useActionState:V_,useOptimistic:function(r,s){var o=Nt();return it!==null?A_(o,it,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:jd,useCacheRefresh:$_},lo=null,zl=0;function Gc(r){var s=zl;return zl+=1,lo===null&&(lo=[]),c_(lo,r,s)}function Bl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Kc(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function ev(r){var s=r._init;return s(r._payload)}function tv(r){function s(U,L){if(r){var F=U.deletions;F===null?(U.deletions=[L],U.flags|=16):F.push(L)}}function o(U,L){if(!r)return null;for(;L!==null;)s(U,L),L=L.sibling;return null}function u(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function h(U,L){return U=oi(U,L),U.index=0,U.sibling=null,U}function m(U,L,F){return U.index=F,r?(F=U.alternate,F!==null?(F=F.index,F<L?(U.flags|=67108866,L):F):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function E(U){return r&&U.alternate===null&&(U.flags|=67108866),U}function S(U,L,F,te){return L===null||L.tag!==6?(L=vd(F,U.mode,te),L.return=U,L):(L=h(L,F),L.return=U,L)}function I(U,L,F,te){var Ee=F.type;return Ee===D?J(U,L,F.props.children,te,F.key):L!==null&&(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&ev(Ee)===L.type)?(L=h(L,F.props),Bl(L,F),L.return=U,L):(L=Ic(F.type,F.key,F.props,null,U.mode,te),Bl(L,F),L.return=U,L)}function H(U,L,F,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Ed(F,U.mode,te),L.return=U,L):(L=h(L,F.children||[]),L.return=U,L)}function J(U,L,F,te,Ee){return L===null||L.tag!==7?(L=na(F,U.mode,te,Ee),L.return=U,L):(L=h(L,F),L.return=U,L)}function se(U,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=vd(""+L,U.mode,F),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return F=Ic(L.type,L.key,L.props,null,U.mode,F),Bl(F,L),F.return=U,F;case M:return L=Ed(L,U.mode,F),L.return=U,L;case R:var te=L._init;return L=te(L._payload),se(U,L,F)}if(Le(L)||x(L))return L=na(L,U.mode,F,null),L.return=U,L;if(typeof L.then=="function")return se(U,Gc(L),F);if(L.$$typeof===re)return se(U,Mc(U,L),F);Kc(U,L)}return null}function Q(U,L,F,te){var Ee=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ee!==null?null:S(U,L,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===Ee?I(U,L,F,te):null;case M:return F.key===Ee?H(U,L,F,te):null;case R:return Ee=F._init,F=Ee(F._payload),Q(U,L,F,te)}if(Le(F)||x(F))return Ee!==null?null:J(U,L,F,te,null);if(typeof F.then=="function")return Q(U,L,Gc(F),te);if(F.$$typeof===re)return Q(U,L,Mc(U,F),te);Kc(U,F)}return null}function Y(U,L,F,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(F)||null,S(L,U,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return U=U.get(te.key===null?F:te.key)||null,I(L,U,te,Ee);case M:return U=U.get(te.key===null?F:te.key)||null,H(L,U,te,Ee);case R:var qe=te._init;return te=qe(te._payload),Y(U,L,F,te,Ee)}if(Le(te)||x(te))return U=U.get(F)||null,J(L,U,te,Ee,null);if(typeof te.then=="function")return Y(U,L,F,Gc(te),Ee);if(te.$$typeof===re)return Y(U,L,F,Mc(L,te),Ee);Kc(L,te)}return null}function Ne(U,L,F,te){for(var Ee=null,qe=null,be=L,Re=L=0,Qt=null;be!==null&&Re<F.length;Re++){be.index>Re?(Qt=be,be=null):Qt=be.sibling;var Xe=Q(U,be,F[Re],te);if(Xe===null){be===null&&(be=Qt);break}r&&be&&Xe.alternate===null&&s(U,be),L=m(Xe,L,Re),qe===null?Ee=Xe:qe.sibling=Xe,qe=Xe,be=Qt}if(Re===F.length)return o(U,be),We&&ia(U,Re),Ee;if(be===null){for(;Re<F.length;Re++)be=se(U,F[Re],te),be!==null&&(L=m(be,L,Re),qe===null?Ee=be:qe.sibling=be,qe=be);return We&&ia(U,Re),Ee}for(be=u(be);Re<F.length;Re++)Qt=Y(be,U,Re,F[Re],te),Qt!==null&&(r&&Qt.alternate!==null&&be.delete(Qt.key===null?Re:Qt.key),L=m(Qt,L,Re),qe===null?Ee=Qt:qe.sibling=Qt,qe=Qt);return r&&be.forEach(function(fs){return s(U,fs)}),We&&ia(U,Re),Ee}function we(U,L,F,te){if(F==null)throw Error(i(151));for(var Ee=null,qe=null,be=L,Re=L=0,Qt=null,Xe=F.next();be!==null&&!Xe.done;Re++,Xe=F.next()){be.index>Re?(Qt=be,be=null):Qt=be.sibling;var fs=Q(U,be,Xe.value,te);if(fs===null){be===null&&(be=Qt);break}r&&be&&fs.alternate===null&&s(U,be),L=m(fs,L,Re),qe===null?Ee=fs:qe.sibling=fs,qe=fs,be=Qt}if(Xe.done)return o(U,be),We&&ia(U,Re),Ee;if(be===null){for(;!Xe.done;Re++,Xe=F.next())Xe=se(U,Xe.value,te),Xe!==null&&(L=m(Xe,L,Re),qe===null?Ee=Xe:qe.sibling=Xe,qe=Xe);return We&&ia(U,Re),Ee}for(be=u(be);!Xe.done;Re++,Xe=F.next())Xe=Y(be,U,Re,Xe.value,te),Xe!==null&&(r&&Xe.alternate!==null&&be.delete(Xe.key===null?Re:Xe.key),L=m(Xe,L,Re),qe===null?Ee=Xe:qe.sibling=Xe,qe=Xe);return r&&be.forEach(function(JR){return s(U,JR)}),We&&ia(U,Re),Ee}function at(U,L,F,te){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:e:{for(var Ee=F.key;L!==null;){if(L.key===Ee){if(Ee=F.type,Ee===D){if(L.tag===7){o(U,L.sibling),te=h(L,F.props.children),te.return=U,U=te;break e}}else if(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&ev(Ee)===L.type){o(U,L.sibling),te=h(L,F.props),Bl(te,F),te.return=U,U=te;break e}o(U,L);break}else s(U,L);L=L.sibling}F.type===D?(te=na(F.props.children,U.mode,te,F.key),te.return=U,U=te):(te=Ic(F.type,F.key,F.props,null,U.mode,te),Bl(te,F),te.return=U,U=te)}return E(U);case M:e:{for(Ee=F.key;L!==null;){if(L.key===Ee)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){o(U,L.sibling),te=h(L,F.children||[]),te.return=U,U=te;break e}else{o(U,L);break}else s(U,L);L=L.sibling}te=Ed(F,U.mode,te),te.return=U,U=te}return E(U);case R:return Ee=F._init,F=Ee(F._payload),at(U,L,F,te)}if(Le(F))return Ne(U,L,F,te);if(x(F)){if(Ee=x(F),typeof Ee!="function")throw Error(i(150));return F=Ee.call(F),we(U,L,F,te)}if(typeof F.then=="function")return at(U,L,Gc(F),te);if(F.$$typeof===re)return at(U,L,Mc(U,F),te);Kc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(o(U,L.sibling),te=h(L,F),te.return=U,U=te):(o(U,L),te=vd(F,U.mode,te),te.return=U,U=te),E(U)):o(U,L)}return function(U,L,F,te){try{zl=0;var Ee=at(U,L,F,te);return lo=null,Ee}catch(be){if(be===Ol||be===xc)throw be;var qe=On(29,be,null,U.mode);return qe.lanes=te,qe.return=U,qe}finally{}}}var uo=tv(!0),nv=tv(!1),Yn=oe(null),Vr=null;function Xi(r){var s=r.alternate;ce(zt,zt.current&1),ce(Yn,r),Vr===null&&(s===null||io.current!==null||s.memoizedState!==null)&&(Vr=r)}function rv(r){if(r.tag===22){if(ce(zt,zt.current),ce(Yn,r),Vr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Vr=r)}}else Wi()}function Wi(){ce(zt,zt.current),ce(Yn,Yn.current)}function di(r){de(Yn),Vr===r&&(Vr=null),de(zt)}var zt=oe(0);function Qc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Fp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Jd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ep={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=xn(),h=Qi(u);h.payload=s,o!=null&&(h.callback=o),s=$i(r,h,u),s!==null&&(Pn(s,r,u),Ml(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=xn(),h=Qi(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=$i(r,h,u),s!==null&&(Pn(s,r,u),Ml(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=xn(),u=Qi(o);u.tag=2,s!=null&&(u.callback=s),s=$i(r,u,o),s!==null&&(Pn(s,r,o),Ml(s,r,o))}};function iv(r,s,o,u,h,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!bl(o,u)||!bl(h,m):!0}function sv(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&ep.enqueueReplaceState(s,s.state,null)}function fa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var $c=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function av(r){$c(r)}function ov(r){console.error(r)}function lv(r){$c(r)}function Yc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function uv(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function tp(r,s,o){return o=Qi(o),o.tag=3,o.payload={element:null},o.callback=function(){Yc(r,s)},o}function cv(r){return r=Qi(r),r.tag=3,r}function fv(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){uv(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){uv(s,o,u),typeof h!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Jw(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Cl(s,o,h,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return Vr===null?wp():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Od?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Cp(r,u,h)),!1;case 22:return o.flags|=65536,u===Od?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Cp(r,u,h)),!1}throw Error(i(435,o.tag))}return Cp(r,u,h),wp(),!1}if(We)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Sd&&(r=Error(i(422),{cause:u}),Rl(Gn(r,o)))):(u!==Sd&&(s=Error(i(423),{cause:u}),Rl(Gn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Gn(u,o),h=tp(r.stateNode,u,h),Vd(r,h),Et!==4&&(Et=2)),!1;var m=Error(i(520),{cause:u});if(m=Gn(m,o),Ql===null?Ql=[m]:Ql.push(m),Et!==4&&(Et=2),s===null)return!0;u=Gn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=tp(o.stateNode,u,r),Vd(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rs===null||!rs.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=cv(h),fv(h,r,o,u),Vd(o,h),!1}o=o.return}while(o!==null);return!1}var hv=Error(i(461)),Gt=!1;function Wt(r,s,o,u){s.child=r===null?nv(s,null,o,u):uo(s,r.child,o,u)}function dv(r,s,o,u,h){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return la(s),u=Ud(r,s,o,E,m,h),S=zd(),r!==null&&!Gt?(Bd(r,s,h),pi(r,s,h)):(We&&S&&Td(s),s.flags|=1,Wt(r,s,u,h),s.child)}function pv(r,s,o,u,h){if(r===null){var m=o.type;return typeof m=="function"&&!_d(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,mv(r,s,m,u,h)):(r=Ic(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!up(r,h)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:bl,o(E,u)&&r.ref===s.ref)return pi(r,s,h)}return s.flags|=1,r=oi(m,u),r.ref=s.ref,r.return=s,s.child=r}function mv(r,s,o,u,h){if(r!==null){var m=r.memoizedProps;if(bl(m,u)&&r.ref===s.ref)if(Gt=!1,s.pendingProps=u=m,up(r,h))(r.flags&131072)!==0&&(Gt=!0);else return s.lanes=r.lanes,pi(r,s,h)}return np(r,s,o,u,h)}function gv(r,s,o){var u=s.pendingProps,h=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(h=s.child=r.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return yv(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vc(s,m!==null?m.cachePool:null),m!==null?m_(s,m):Pd(),rv(s);else return s.lanes=s.childLanes=536870912,yv(r,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(Vc(s,m.cachePool),m_(s,m),Wi(),s.memoizedState=null):(r!==null&&Vc(s,null),Pd(),Wi());return Wt(r,s,h,o),s.child}function yv(r,s,o,u){var h=Dd();return h=h===null?null:{parent:Ut._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Vc(s,null),Pd(),rv(s),r!==null&&Cl(r,s,u,!0),null}function Xc(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function np(r,s,o,u,h){return la(s),o=Ud(r,s,o,u,void 0,h),u=zd(),r!==null&&!Gt?(Bd(r,s,h),pi(r,s,h)):(We&&u&&Td(s),s.flags|=1,Wt(r,s,o,h),s.child)}function _v(r,s,o,u,h,m){return la(s),s.updateQueue=null,o=y_(s,u,o,h),g_(r),u=zd(),r!==null&&!Gt?(Bd(r,s,m),pi(r,s,m)):(We&&u&&Td(s),s.flags|=1,Wt(r,s,o,m),s.child)}function vv(r,s,o,u,h){if(la(s),s.stateNode===null){var m=Ja,E=o.contextType;typeof E=="object"&&E!==null&&(m=sn(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ep,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Nd(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?sn(E):Ja,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Jd(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&ep.enqueueReplaceState(m,m.state,null),xl(s,u,m,h),Vl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var S=s.memoizedProps,I=fa(o,S);m.props=I;var H=m.context,J=o.contextType;E=Ja,typeof J=="object"&&J!==null&&(E=sn(J));var se=o.getDerivedStateFromProps;J=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||H!==E)&&sv(s,m,u,E),Ki=!1;var Q=s.memoizedState;m.state=Q,xl(s,u,m,h),Vl(),H=s.memoizedState,S||Q!==H||Ki?(typeof se=="function"&&(Jd(s,o,se,u),H=s.memoizedState),(I=Ki||iv(s,o,I,u,Q,H,E))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),m.props=u,m.state=H,m.context=E,u=I):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Md(r,s),E=s.memoizedProps,J=fa(o,E),m.props=J,se=s.pendingProps,Q=m.context,H=o.contextType,I=Ja,typeof H=="object"&&H!==null&&(I=sn(H)),S=o.getDerivedStateFromProps,(H=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==se||Q!==I)&&sv(s,m,u,I),Ki=!1,Q=s.memoizedState,m.state=Q,xl(s,u,m,h),Vl();var Y=s.memoizedState;E!==se||Q!==Y||Ki||r!==null&&r.dependencies!==null&&Nc(r.dependencies)?(typeof S=="function"&&(Jd(s,o,S,u),Y=s.memoizedState),(J=Ki||iv(s,o,J,u,Q,Y,I)||r!==null&&r.dependencies!==null&&Nc(r.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,I)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Y),m.props=u,m.state=Y,m.context=I,u=J):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,Xc(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=uo(s,r.child,null,h),s.child=uo(s,null,o,h)):Wt(r,s,o,h),s.memoizedState=m.state,r=s.child):r=pi(r,s,h),r}function Ev(r,s,o,u){return wl(),s.flags|=256,Wt(r,s,o,u),s.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(r){return{baseLanes:r,cachePool:o_()}}function sp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Xn),r}function Tv(r,s,o){var u=s.pendingProps,h=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(zt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(We){if(h?Xi(s):Wi(),We){var S=vt,I;if(I=S){e:{for(I=S,S=Mr;I.nodeType!==8;){if(!S){S=null;break e}if(I=ar(I.nextSibling),I===null){S=null;break e}}S=I}S!==null?(s.memoizedState={dehydrated:S,treeContext:ra!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},I=On(18,null,null,0),I.stateNode=S,I.return=s,s.child=I,gn=s,vt=null,I=!0):I=!1}I||aa(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Fp(S)?s.lanes=32:s.lanes=536870912,null;di(s)}return S=u.children,u=u.fallback,h?(Wi(),h=s.mode,S=Wc({mode:"hidden",children:S},h),u=na(u,h,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,h=s.child,h.memoizedState=ip(o),h.childLanes=sp(r,E,o),s.memoizedState=rp,u):(Xi(s),ap(s,S))}if(I=r.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(m)s.flags&256?(Xi(s),s.flags&=-257,s=op(r,s,o)):s.memoizedState!==null?(Wi(),s.child=r.child,s.flags|=128,s=null):(Wi(),h=u.fallback,S=s.mode,u=Wc({mode:"visible",children:u.children},S),h=na(h,S,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,uo(s,r.child,null,o),u=s.child,u.memoizedState=ip(o),u.childLanes=sp(r,E,o),s.memoizedState=rp,s=h);else if(Xi(s),Fp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(i(419)),u.stack="",u.digest=E,Rl({value:u,source:null,stack:null}),s=op(r,s,o)}else if(Gt||Cl(r,s,o,!1),E=(o&r.childLanes)!==0,Gt||E){if(E=lt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ui(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,Za(r,u),Pn(E,r,u),hv;S.data==="$?"||wp(),s=op(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=I.treeContext,vt=ar(S.nextSibling),gn=s,We=!0,sa=null,Mr=!1,r!==null&&(Qn[$n++]=li,Qn[$n++]=ui,Qn[$n++]=ra,li=r.id,ui=r.overflow,ra=s),s=ap(s,u.children),s.flags|=4096);return s}return h?(Wi(),h=u.fallback,S=s.mode,I=r.child,H=I.sibling,u=oi(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=oi(H,h):(h=na(h,S,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,S=r.child.memoizedState,S===null?S=ip(o):(I=S.cachePool,I!==null?(H=Ut._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=o_(),S={baseLanes:S.baseLanes|o,cachePool:I}),h.memoizedState=S,h.childLanes=sp(r,E,o),s.memoizedState=rp,u):(Xi(s),o=r.child,r=o.sibling,o=oi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function ap(r,s){return s=Wc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Wc(r,s){return r=On(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function op(r,s,o){return uo(s,r.child,null,o),r=ap(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function bv(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),wd(r.return,s,o)}function lp(r,s,o,u,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=h)}function Sv(r,s,o){var u=s.pendingProps,h=u.revealOrder,m=u.tail;if(Wt(r,s,u.children,o),u=zt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bv(r,o,s);else if(r.tag===19)bv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ce(zt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Qc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),lp(s,!1,h,o,m);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Qc(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}lp(s,!0,o,null,m);break;case"together":lp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ns|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Cl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=oi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=oi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function up(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Nc(r)))}function eR(r,s,o){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),Gi(s,Ut,r.memoizedState.cache),wl();break;case 27:case 5:Jn(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:Gi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Xi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Tv(r,s,o):(Xi(s),r=pi(r,s,o),r!==null?r.sibling:null);Xi(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Cl(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return Sv(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(zt,zt.current),u)break;return null;case 22:case 23:return s.lanes=0,gv(r,s,o);case 24:Gi(s,Ut,r.memoizedState.cache)}return pi(r,s,o)}function Av(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Gt=!0;else{if(!up(r,o)&&(s.flags&128)===0)return Gt=!1,eR(r,s,o);Gt=(r.flags&131072)!==0}else Gt=!1,We&&(s.flags&1048576)!==0&&e_(s,Oc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")_d(u)?(r=fa(u,r),s.tag=1,s=vv(null,s,u,r,o)):(s.tag=0,s=np(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===le){s.tag=11,s=dv(null,s,u,r,o);break e}else if(h===O){s.tag=14,s=pv(null,s,u,r,o);break e}}throw s=xe(u)||u,Error(i(306,s,""))}}return s;case 0:return np(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=fa(u,s.pendingProps),vv(r,s,u,h,o);case 3:e:{if(nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;h=m.element,Md(r,s),xl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Gi(s,Ut,u),u!==m.cache&&Rd(s,[Ut],o,!0),Vl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Ev(r,s,u,o);break e}else if(u!==h){h=Gn(Error(i(424)),s),Rl(h),s=Ev(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(vt=ar(r.firstChild),gn=s,We=!0,sa=null,Mr=!0,o=nv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(wl(),u===h){s=pi(r,s,o);break e}Wt(r,s,u,o)}s=s.child}return s;case 26:return Xc(r,s),r===null?(o=IE(s.type,null,s.pendingProps,null))?s.memoizedState=o:We||(o=s.type,r=s.pendingProps,u=hf(Oe.current).createElement(o),u[Pt]=s,u[It]=r,Jt(u,o,r),bt(u),s.stateNode=u):s.memoizedState=IE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Jn(s),r===null&&We&&(u=s.stateNode=wE(s.type,s.pendingProps,Oe.current),gn=s,Mr=!0,h=vt,as(s.type)?(jp=h,vt=ar(u.firstChild)):vt=h),Wt(r,s,s.pendingProps.children,o),Xc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&We&&((h=u=vt)&&(u=IR(u,s.type,s.pendingProps,Mr),u!==null?(s.stateNode=u,gn=s,vt=ar(u.firstChild),Mr=!1,h=!0):h=!1),h||aa(s)),Jn(s),h=s.type,m=s.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,zp(h,m)?u=null:E!==null&&zp(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=Ud(r,s,Kw,null,null,o),nu._currentValue=h),Xc(r,s),Wt(r,s,u,o),s.child;case 6:return r===null&&We&&((r=o=vt)&&(o=DR(o,s.pendingProps,Mr),o!==null?(s.stateNode=o,gn=s,vt=null,r=!0):r=!1),r||aa(s)),null;case 13:return Tv(r,s,o);case 4:return nt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=uo(s,null,u,o):Wt(r,s,u,o),s.child;case 11:return dv(r,s,s.type,s.pendingProps,o);case 7:return Wt(r,s,s.pendingProps,o),s.child;case 8:return Wt(r,s,s.pendingProps.children,o),s.child;case 12:return Wt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Gi(s,s.type,u.value),Wt(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,la(s),h=sn(h),u=u(h),s.flags|=1,Wt(r,s,u,o),s.child;case 14:return pv(r,s,s.type,s.pendingProps,o);case 15:return mv(r,s,s.type,s.pendingProps,o);case 19:return Sv(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Wc(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=oi(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return gv(r,s,o);case 24:return la(s),u=sn(Ut),r===null?(h=Dd(),h===null&&(h=lt,m=Cd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),s.memoizedState={parent:u,cache:h},Nd(s),Gi(s,Ut,h)):((r.lanes&o)!==0&&(Md(r,s),xl(s,null,null,o),Vl()),h=r.memoizedState,m=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Gi(s,Ut,u)):(u=m.cache,Gi(s,Ut,u),u!==h.cache&&Rd(s,[Ut],o,!0))),Wt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function mi(r){r.flags|=4}function wv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!VE(s)){if(s=Yn.current,s!==null&&(($e&4194048)===$e?Vr!==null:($e&62914560)!==$e&&($e&536870912)===0||s!==Vr))throw Nl=Od,l_;r.flags|=8192}}function Zc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?il():536870912,r.lanes|=s,po|=s)}function ql(r,s){if(!We)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function tR(r,s,o){var u=s.pendingProps;switch(bd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),fi(Ut),En(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Al(s)?mi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,r_())),gt(s),null;case 26:return o=s.memoizedState,r===null?(mi(s),o!==null?(gt(s),wv(s,o)):(gt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(mi(s),gt(s),wv(s,o)):(gt(s),s.flags&=-16777217):(r.memoizedProps!==u&&mi(s),gt(s),s.flags&=-16777217),null;case 27:Rn(s),o=Oe.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&mi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=Se.current,Al(s)?t_(s):(r=wE(h,u,o),s.stateNode=r,mi(s))}return gt(s),null;case 5:if(Rn(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&mi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(r=Se.current,Al(s))t_(s);else{switch(h=hf(Oe.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Pt]=s,r[It]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Jt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&mi(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&mi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Oe.current,Al(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=gn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Pt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||_E(r.nodeValue,o)),r||aa(s)}else r=hf(r).createTextNode(u),r[Pt]=s,s.stateNode=r}return gt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Al(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Pt]=s}else wl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),h=!1}else h=r_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(di(s),s):(di(s),null)}if(di(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Zc(s,s.updateQueue),gt(s),null;case 4:return En(),r===null&&xp(s.stateNode.containerInfo),gt(s),null;case 10:return fi(s.type),gt(s),null;case 19:if(de(zt),h=s.memoizedState,h===null)return gt(s),null;if(u=(s.flags&128)!==0,m=h.rendering,m===null)if(u)ql(h,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Qc(r),m!==null){for(s.flags|=128,ql(h,!1),r=m.updateQueue,s.updateQueue=r,Zc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Jy(o,r),o=o.sibling;return ce(zt,zt.current&1|2),s.child}r=r.sibling}h.tail!==null&&hn()>tf&&(s.flags|=128,u=!0,ql(h,!1),s.lanes=4194304)}else{if(!u)if(r=Qc(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Zc(s,r),ql(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!We)return gt(s),null}else 2*hn()-h.renderingStartTime>tf&&o!==536870912&&(s.flags|=128,u=!0,ql(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(r=h.last,r!==null?r.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=hn(),s.sibling=null,r=zt.current,ce(zt,u?r&1|2:r&1),s):(gt(s),null);case 22:case 23:return di(s),kd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&Zc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&de(ua),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),fi(Ut),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function nR(r,s){switch(bd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return fi(Ut),En(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Rn(s),null;case 13:if(di(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));wl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return de(zt),null;case 4:return En(),null;case 10:return fi(s.type),null;case 22:case 23:return di(s),kd(),r!==null&&de(ua),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return fi(Ut),null;case 25:return null;default:return null}}function Rv(r,s){switch(bd(s),s.tag){case 3:fi(Ut),En();break;case 26:case 27:case 5:Rn(s);break;case 4:En();break;case 13:di(s);break;case 19:de(zt);break;case 10:fi(s.type);break;case 22:case 23:di(s),kd(),r!==null&&de(ua);break;case 24:fi(Ut)}}function Fl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==h)}}catch(S){ot(s,s.return,S)}}function Zi(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=s;var I=o,H=S;try{H()}catch(J){ot(h,I,J)}}}u=u.next}while(u!==m)}}catch(J){ot(s,s.return,J)}}function Cv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{p_(s,o)}catch(u){ot(r,r.return,u)}}}function Iv(r,s,o){o.props=fa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ot(r,s,u)}}function jl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){ot(r,s,h)}}function xr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ot(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ot(r,s,h)}else o.current=null}function Dv(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ot(r,r.return,h)}}function cp(r,s,o){try{var u=r.stateNode;SR(u,r.type,o,s),u[It]=s}catch(h){ot(r,r.return,h)}}function Ov(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&as(r.type)||r.tag===4}function fp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ov(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&as(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ff));else if(u!==4&&(u===27&&as(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(hp(r,s,o),r=r.sibling;r!==null;)hp(r,s,o),r=r.sibling}function Jc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&as(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Jc(r,s,o),r=r.sibling;r!==null;)Jc(r,s,o),r=r.sibling}function Nv(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Jt(s,u,o),s[Pt]=r,s[It]=o}catch(m){ot(r,r.return,m)}}var gi=!1,At=!1,dp=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function rR(r,s){if(r=r.containerInfo,Lp=_f,r=jy(r),fd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,S=-1,I=-1,H=0,J=0,se=r,Q=null;t:for(;;){for(var Y;se!==o||h!==0&&se.nodeType!==3||(S=E+h),se!==m||u!==0&&se.nodeType!==3||(I=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(Y=se.firstChild)!==null;)Q=se,se=Y;for(;;){if(se===r)break t;if(Q===o&&++H===h&&(S=E),Q===m&&++J===u&&(I=E),(Y=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=Y}o=S===-1||I===-1?null:{start:S,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Up={focusedElem:r,selectionRange:o},_f=!1,Kt=s;Kt!==null;)if(s=Kt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Kt=r;else for(;Kt!==null;){switch(s=Kt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,h=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Ne=fa(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ne,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(we){ot(o,o.return,we)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)qp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Kt=r;break}Kt=s.return}}function Vv(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ji(r,o),u&4&&Fl(5,o);break;case 1:if(Ji(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){ot(o,o.return,E)}else{var h=fa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(o,o.return,E)}}u&64&&Cv(o),u&512&&jl(o,o.return);break;case 3:if(Ji(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{p_(r,s)}catch(E){ot(o,o.return,E)}}break;case 27:s===null&&u&4&&Nv(o);case 26:case 5:Ji(r,o),s===null&&u&4&&Dv(o),u&512&&jl(o,o.return);break;case 12:Ji(r,o);break;case 13:Ji(r,o),u&4&&kv(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=hR.bind(null,o),OR(r,o))));break;case 22:if(u=o.memoizedState!==null||gi,!u){s=s!==null&&s.memoizedState!==null||At,h=gi;var m=At;gi=u,(At=s)&&!m?es(r,o,(o.subtreeFlags&8772)!==0):Ji(r,o),gi=h,At=m}break;case 30:break;default:Ji(r,o)}}function xv(r){var s=r.alternate;s!==null&&(r.alternate=null,xv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&qi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pt=null,bn=!1;function yi(r,s,o){for(o=o.child;o!==null;)Pv(r,s,o),o=o.sibling}function Pv(r,s,o){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(ue,o)}catch{}switch(o.tag){case 26:At||xr(o,s),yi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||xr(o,s);var u=pt,h=bn;as(o.type)&&(pt=o.stateNode,bn=!1),yi(r,s,o),Zl(o.stateNode),pt=u,bn=h;break;case 5:At||xr(o,s);case 6:if(u=pt,h=bn,pt=null,yi(r,s,o),pt=u,bn=h,pt!==null)if(bn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(o.stateNode)}catch(m){ot(o,s,m)}else try{pt.removeChild(o.stateNode)}catch(m){ot(o,s,m)}break;case 18:pt!==null&&(bn?(r=pt,SE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),au(r)):SE(pt,o.stateNode));break;case 4:u=pt,h=bn,pt=o.stateNode.containerInfo,bn=!0,yi(r,s,o),pt=u,bn=h;break;case 0:case 11:case 14:case 15:At||Zi(2,o,s),At||Zi(4,o,s),yi(r,s,o);break;case 1:At||(xr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Iv(o,s,u)),yi(r,s,o);break;case 21:yi(r,s,o);break;case 22:At=(u=At)||o.memoizedState!==null,yi(r,s,o),At=u;break;default:yi(r,s,o)}}function kv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{au(r)}catch(o){ot(s,s.return,o)}}function iR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Mv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Mv),s;default:throw Error(i(435,r.tag))}}function pp(r,s){var o=iR(r);s.forEach(function(u){var h=dR.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Nn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],m=r,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(as(S.type)){pt=S.stateNode,bn=!1;break e}break;case 5:pt=S.stateNode,bn=!1;break e;case 3:case 4:pt=S.stateNode.containerInfo,bn=!0;break e}S=S.return}if(pt===null)throw Error(i(160));Pv(m,E,h),pt=null,bn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Lv(s,r),s=s.sibling}var sr=null;function Lv(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Nn(s,r),Mn(r),u&4&&(Zi(3,r,r.return),Fl(3,r),Zi(5,r,r.return));break;case 1:Nn(s,r),Mn(r),u&512&&(At||o===null||xr(o,o.return)),u&64&&gi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=sr;if(Nn(s,r),Mn(r),u&512&&(At||o===null||xr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Bs]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),Jt(m,u,o),m[Pt]=r,bt(m),u=m;break e;case"link":var E=NE("link","href",h).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}m=h.createElement(u),Jt(m,u,o),h.head.appendChild(m);break;case"meta":if(E=NE("meta","content",h).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}m=h.createElement(u),Jt(m,u,o),h.head.appendChild(m);break;default:throw Error(i(468,u))}m[Pt]=r,bt(m),u=m}r.stateNode=u}else ME(h,r.type,r.stateNode);else r.stateNode=OE(h,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?ME(h,r.type,r.stateNode):OE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&cp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Nn(s,r),Mn(r),u&512&&(At||o===null||xr(o,o.return)),o!==null&&u&4&&cp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Nn(s,r),Mn(r),u&512&&(At||o===null||xr(o,o.return)),r.flags&32){h=r.stateNode;try{qn(h,"")}catch(Y){ot(r,r.return,Y)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,cp(r,h,o!==null?o.memoizedProps:h)),u&1024&&(dp=!0);break;case 6:if(Nn(s,r),Mn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Y){ot(r,r.return,Y)}}break;case 3:if(mf=null,h=sr,sr=df(s.containerInfo),Nn(s,r),sr=h,Mn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{au(s.containerInfo)}catch(Y){ot(r,r.return,Y)}dp&&(dp=!1,Uv(r));break;case 4:u=sr,sr=df(r.stateNode.containerInfo),Nn(s,r),Mn(r),sr=u;break;case 12:Nn(s,r),Mn(r);break;case 13:Nn(s,r),Mn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ep=hn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pp(r,u)));break;case 22:h=r.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,H=gi,J=At;if(gi=H||h,At=J||I,Nn(s,r),At=J,gi=H,Mn(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||I||gi||At||ha(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){I=o=s;try{if(m=I.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=I.stateNode;var se=I.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Y){ot(I,I.return,Y)}}}else if(s.tag===6){if(o===null){I=s;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Y){ot(I,I.return,Y)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,pp(r,o))));break;case 19:Nn(s,r),Mn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,pp(r,u)));break;case 30:break;case 21:break;default:Nn(s,r),Mn(r)}}function Mn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Ov(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,m=fp(r);Jc(r,m,h);break;case 5:var E=o.stateNode;o.flags&32&&(qn(E,""),o.flags&=-33);var S=fp(r);Jc(r,S,E);break;case 3:case 4:var I=o.stateNode.containerInfo,H=fp(r);hp(r,H,I);break;default:throw Error(i(161))}}catch(J){ot(r,r.return,J)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Uv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Uv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ji(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vv(r,s.alternate,s),s=s.sibling}function ha(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Zi(4,s,s.return),ha(s);break;case 1:xr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Iv(s,s.return,o),ha(s);break;case 27:Zl(s.stateNode);case 26:case 5:xr(s,s.return),ha(s);break;case 22:s.memoizedState===null&&ha(s);break;case 30:ha(s);break;default:ha(s)}r=r.sibling}}function es(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:es(h,m,o),Fl(4,m);break;case 1:if(es(h,m,o),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){ot(u,u.return,H)}if(u=m,h=u.updateQueue,h!==null){var S=u.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)d_(I[h],S)}catch(H){ot(u,u.return,H)}}o&&E&64&&Cv(m),jl(m,m.return);break;case 27:Nv(m);case 26:case 5:es(h,m,o),o&&u===null&&E&4&&Dv(m),jl(m,m.return);break;case 12:es(h,m,o);break;case 13:es(h,m,o),o&&E&4&&kv(h,m);break;case 22:m.memoizedState===null&&es(h,m,o),jl(m,m.return);break;case 30:break;default:es(h,m,o)}s=s.sibling}}function mp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Il(o))}function gp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Il(r))}function Pr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zv(r,s,o,u),s=s.sibling}function zv(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Pr(r,s,o,u),h&2048&&Fl(9,s);break;case 1:Pr(r,s,o,u);break;case 3:Pr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Il(r)));break;case 12:if(h&2048){Pr(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){ot(s,s.return,I)}}else Pr(r,s,o,u);break;case 13:Pr(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?Pr(r,s,o,u):Hl(r,s):m._visibility&2?Pr(r,s,o,u):(m._visibility|=2,co(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&mp(E,s);break;case 24:Pr(r,s,o,u),h&2048&&gp(s.alternate,s);break;default:Pr(r,s,o,u)}}function co(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,E=s,S=o,I=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:co(m,E,S,I,h),Fl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?co(m,E,S,I,h):Hl(m,E):(J._visibility|=2,co(m,E,S,I,h)),h&&H&2048&&mp(E.alternate,E);break;case 24:co(m,E,S,I,h),h&&H&2048&&gp(E.alternate,E);break;default:co(m,E,S,I,h)}s=s.sibling}}function Hl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Hl(o,u),h&2048&&mp(u.alternate,u);break;case 24:Hl(o,u),h&2048&&gp(u.alternate,u);break;default:Hl(o,u)}s=s.sibling}}var Gl=8192;function fo(r){if(r.subtreeFlags&Gl)for(r=r.child;r!==null;)Bv(r),r=r.sibling}function Bv(r){switch(r.tag){case 26:fo(r),r.flags&Gl&&r.memoizedState!==null&&jR(sr,r.memoizedState,r.memoizedProps);break;case 5:fo(r);break;case 3:case 4:var s=sr;sr=df(r.stateNode.containerInfo),fo(r),sr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Gl,Gl=16777216,fo(r),Gl=s):fo(r));break;default:fo(r)}}function qv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Kl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Kt=u,jv(u,r)}qv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fv(r),r=r.sibling}function Fv(r){switch(r.tag){case 0:case 11:case 15:Kl(r),r.flags&2048&&Zi(9,r,r.return);break;case 3:Kl(r);break;case 12:Kl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ef(r)):Kl(r);break;default:Kl(r)}}function ef(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Kt=u,jv(u,r)}qv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Zi(8,s,s.return),ef(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ef(s));break;default:ef(s)}r=r.sibling}}function jv(r,s){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:Zi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=r;Kt!==null;){u=Kt;var h=u.sibling,m=u.return;if(xv(u),u===o){Kt=null;break e}if(h!==null){h.return=m,Kt=h;break e}Kt=m}}}var sR={getCacheForType:function(r){var s=sn(Ut),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},aR=typeof WeakMap=="function"?WeakMap:Map,et=0,lt=null,Fe=null,$e=0,tt=0,Vn=null,ts=!1,ho=!1,yp=!1,_i=0,Et=0,ns=0,da=0,_p=0,Xn=0,po=0,Ql=null,Sn=null,vp=!1,Ep=0,tf=1/0,nf=null,rs=null,Zt=0,is=null,mo=null,go=0,Tp=0,bp=null,Hv=null,$l=0,Sp=null;function xn(){if((et&2)!==0&&$e!==0)return $e&-$e;if(W.T!==null){var r=no;return r!==0?r:Op()}return zi()}function Gv(){Xn===0&&(Xn=($e&536870912)===0||We?rl():536870912);var r=Yn.current;return r!==null&&(r.flags|=32),Xn}function Pn(r,s,o){(r===lt&&(tt===2||tt===9)||r.cancelPendingCommit!==null)&&(yo(r,0),ss(r,$e,Xn,!1)),Xr(r,o),((et&2)===0||r!==lt)&&(r===lt&&((et&2)===0&&(da|=o),Et===4&&ss(r,$e,Xn,!1)),kr(r))}function Kv(r,s,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||$r(r,s),h=u?uR(r,s):Rp(r,s,!0),m=u;do{if(h===0){ho&&!u&&ss(r,s,0,!1);break}else{if(o=r.current.alternate,m&&!oR(o)){h=Rp(r,s,!1),m=!1;continue}if(h===2){if(m=s,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=r;h=Ql;var I=S.current.memoizedState.isDehydrated;if(I&&(yo(S,E).flags|=256),E=Rp(S,E,!1),E!==2){if(yp&&!I){S.errorRecoveryDisabledLanes|=m,da|=m,h=4;break e}m=Sn,Sn=h,m!==null&&(Sn===null?Sn=m:Sn.push.apply(Sn,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){yo(r,0),ss(r,s,0,!0);break}e:{switch(u=r,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ss(u,s,Xn,!ts);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Ep+300-hn(),10<h)){if(ss(u,s,Xn,!ts),Qr(u,0,!0)!==0)break e;u.timeoutHandle=TE(Qv.bind(null,u,o,Sn,nf,vp,s,Xn,da,po,ts,m,2,-0,0),h);break e}Qv(u,o,Sn,nf,vp,s,Xn,da,po,ts,m,0,-0,0)}}break}while(!0);kr(r)}function Qv(r,s,o,u,h,m,E,S,I,H,J,se,Q,Y){if(r.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(tu={stylesheets:null,count:0,unsuspend:FR},Bv(s),se=HR(),se!==null)){r.cancelPendingCommit=se(eE.bind(null,r,s,m,o,u,h,E,S,I,J,1,Q,Y)),ss(r,m,E,!H);return}eE(r,s,m,o,u,h,E,S,I)}function oR(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Dn(m(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ss(r,s,o,u){s&=~_p,s&=~da,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var m=31-Ce(h),E=1<<m;u[m]=-1,h&=~E}o!==0&&Tr(r,o,s)}function rf(){return(et&6)===0?(Yl(0),!1):!0}function Ap(){if(Fe!==null){if(tt===0)var r=Fe.return;else r=Fe,ci=oa=null,qd(r),lo=null,zl=0,r=Fe;for(;r!==null;)Rv(r.alternate,r),r=r.return;Fe=null}}function yo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,wR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ap(),lt=r,Fe=o=oi(r.current,null),$e=s,tt=0,Vn=null,ts=!1,ho=$r(r,s),yp=!1,po=Xn=_p=da=ns=Et=0,Sn=Ql=null,vp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-Ce(u),m=1<<h;s|=r[h],u&=~m}return _i=s,wc(),o}function $v(r,s){ze=null,W.H=Hc,s===Ol||s===xc?(s=f_(),tt=3):s===l_?(s=f_(),tt=4):tt=s===hv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,Fe===null&&(Et=1,Yc(r,Gn(s,r.current)))}function Yv(){var r=W.H;return W.H=Hc,r===null?Hc:r}function Xv(){var r=W.A;return W.A=sR,r}function wp(){Et=4,ts||($e&4194048)!==$e&&Yn.current!==null||(ho=!0),(ns&134217727)===0&&(da&134217727)===0||lt===null||ss(lt,$e,Xn,!1)}function Rp(r,s,o){var u=et;et|=2;var h=Yv(),m=Xv();(lt!==r||$e!==s)&&(nf=null,yo(r,s)),s=!1;var E=Et;e:do try{if(tt!==0&&Fe!==null){var S=Fe,I=Vn;switch(tt){case 8:Ap(),E=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var H=tt;if(tt=0,Vn=null,_o(r,S,I,H),o&&ho){E=0;break e}break;default:H=tt,tt=0,Vn=null,_o(r,S,I,H)}}lR(),E=Et;break}catch(J){$v(r,J)}while(!0);return s&&r.shellSuspendCounter++,ci=oa=null,et=u,W.H=h,W.A=m,Fe===null&&(lt=null,$e=0,wc()),E}function lR(){for(;Fe!==null;)Wv(Fe)}function uR(r,s){var o=et;et|=2;var u=Yv(),h=Xv();lt!==r||$e!==s?(nf=null,tf=hn()+500,yo(r,s)):ho=$r(r,s);e:do try{if(tt!==0&&Fe!==null){s=Fe;var m=Vn;t:switch(tt){case 1:tt=0,Vn=null,_o(r,s,m,1);break;case 2:case 9:if(u_(m)){tt=0,Vn=null,Zv(s);break}s=function(){tt!==2&&tt!==9||lt!==r||(tt=7),kr(r)},m.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:u_(m)?(tt=0,Vn=null,Zv(s)):(tt=0,Vn=null,_o(r,s,m,7));break;case 5:var E=null;switch(Fe.tag){case 26:E=Fe.memoizedState;case 5:case 27:var S=Fe;if(!E||VE(E)){tt=0,Vn=null;var I=S.sibling;if(I!==null)Fe=I;else{var H=S.return;H!==null?(Fe=H,sf(H)):Fe=null}break t}}tt=0,Vn=null,_o(r,s,m,5);break;case 6:tt=0,Vn=null,_o(r,s,m,6);break;case 8:Ap(),Et=6;break e;default:throw Error(i(462))}}cR();break}catch(J){$v(r,J)}while(!0);return ci=oa=null,W.H=u,W.A=h,et=o,Fe!==null?0:(lt=null,$e=0,wc(),Et)}function cR(){for(;Fe!==null&&!ks();)Wv(Fe)}function Wv(r){var s=Av(r.alternate,r,_i);r.memoizedProps=r.pendingProps,s===null?sf(r):Fe=s}function Zv(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=_v(o,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=_v(o,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:qd(s);default:Rv(o,s),s=Fe=Jy(s,_i),s=Av(o,s,_i)}r.memoizedProps=r.pendingProps,s===null?sf(r):Fe=s}function _o(r,s,o,u){ci=oa=null,qd(s),lo=null,zl=0;var h=s.return;try{if(Jw(r,h,s,o,$e)){Et=1,Yc(r,Gn(o,r.current)),Fe=null;return}}catch(m){if(h!==null)throw Fe=h,m;Et=1,Yc(r,Gn(o,r.current)),Fe=null;return}s.flags&32768?(We||u===1?r=!0:ho||($e&536870912)!==0?r=!1:(ts=r=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Jv(s,r)):sf(s)}function sf(r){var s=r;do{if((s.flags&32768)!==0){Jv(s,ts);return}r=s.return;var o=tR(s.alternate,s,_i);if(o!==null){Fe=o;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=r}while(s!==null);Et===0&&(Et=5)}function Jv(r,s){do{var o=nR(r.alternate,r);if(o!==null){o.flags&=32767,Fe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Fe=r;return}Fe=r=o}while(r!==null);Et=6,Fe=null}function eE(r,s,o,u,h,m,E,S,I){r.cancelPendingCommit=null;do af();while(Zt!==0);if((et&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=gd,sl(r,o,m,E,S,I),r===lt&&(Fe=lt=null,$e=0),mo=s,is=r,go=o,Tp=m,bp=h,Hv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,pR(Er,function(){return sE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=fe.p,fe.p=2,E=et,et|=4;try{rR(r,s,o)}finally{et=E,fe.p=h,W.T=u}}Zt=1,tE(),nE(),rE()}}function tE(){if(Zt===1){Zt=0;var r=is,s=mo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=fe.p;fe.p=2;var h=et;et|=4;try{Lv(s,r);var m=Up,E=jy(r.containerInfo),S=m.focusedElem,I=m.selectionRange;if(E!==S&&S&&S.ownerDocument&&Fy(S.ownerDocument.documentElement,S)){if(I!==null&&fd(S)){var H=I.start,J=I.end;if(J===void 0&&(J=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(J,S.value.length);else{var se=S.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),Ne=S.textContent.length,we=Math.min(I.start,Ne),at=I.end===void 0?we:Math.min(I.end,Ne);!Y.extend&&we>at&&(E=at,at=we,we=E);var U=qy(S,we),L=qy(S,at);if(U&&L&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var F=se.createRange();F.setStart(U.node,U.offset),Y.removeAllRanges(),we>at?(Y.addRange(F),Y.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),Y.addRange(F))}}}}for(se=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&se.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var te=se[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}_f=!!Lp,Up=Lp=null}finally{et=h,fe.p=u,W.T=o}}r.current=s,Zt=2}}function nE(){if(Zt===2){Zt=0;var r=is,s=mo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=fe.p;fe.p=2;var h=et;et|=4;try{Vv(r,s.alternate,s)}finally{et=h,fe.p=u,W.T=o}}Zt=3}}function rE(){if(Zt===4||Zt===3){Zt=0,Ls();var r=is,s=mo,o=go,u=Hv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,mo=is=null,iE(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(rs=null),xa(o),s=s.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(ue,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,h=fe.p,fe.p=2,W.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];m(S.value,{componentStack:S.stack})}}finally{W.T=s,fe.p=h}}(go&3)!==0&&af(),kr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Sp?$l++:($l=0,Sp=r):$l=0,Yl(0)}}function iE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Il(s)))}function af(r){return tE(),nE(),rE(),sE()}function sE(){if(Zt!==5)return!1;var r=is,s=Tp;Tp=0;var o=xa(go),u=W.T,h=fe.p;try{fe.p=32>o?32:o,W.T=null,o=bp,bp=null;var m=is,E=go;if(Zt=0,mo=is=null,go=0,(et&6)!==0)throw Error(i(331));var S=et;if(et|=4,Fv(m.current),zv(m,m.current,E,o),et=S,Yl(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(ue,m)}catch{}return!0}finally{fe.p=h,W.T=u,iE(r,s)}}function aE(r,s,o){s=Gn(o,s),s=tp(r.stateNode,s,2),r=$i(r,s,2),r!==null&&(Xr(r,2),kr(r))}function ot(r,s,o){if(r.tag===3)aE(r,r,o);else for(;s!==null;){if(s.tag===3){aE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){r=Gn(o,r),o=cv(2),u=$i(s,o,2),u!==null&&(fv(o,u,s,r),Xr(u,2),kr(u));break}}s=s.return}}function Cp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new aR;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(yp=!0,h.add(o),r=fR.bind(null,r,s,o),s.then(r,r))}function fR(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,lt===r&&($e&o)===o&&(Et===4||Et===3&&($e&62914560)===$e&&300>hn()-Ep?(et&2)===0&&yo(r,0):_p|=o,po===$e&&(po=0)),kr(r)}function oE(r,s){s===0&&(s=il()),r=Za(r,s),r!==null&&(Xr(r,s),kr(r))}function hR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),oE(r,o)}function dR(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),oE(r,o)}function pR(r,s){return Gr(r,s)}var of=null,vo=null,Ip=!1,lf=!1,Dp=!1,pa=0;function kr(r){r!==vo&&r.next===null&&(vo===null?of=vo=r:vo=vo.next=r),lf=!0,Ip||(Ip=!0,gR())}function Yl(r,s){if(!Dp&&lf){Dp=!0;do for(var o=!1,u=of;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var E=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Ce(42|r)+1)-1,m&=h&~(E&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,fE(u,m))}else m=$e,m=Qr(u,u===lt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||$r(u,m)||(o=!0,fE(u,m));u=u.next}while(o);Dp=!1}}function mR(){lE()}function lE(){lf=Ip=!1;var r=0;pa!==0&&(AR()&&(r=pa),pa=0);for(var s=hn(),o=null,u=of;u!==null;){var h=u.next,m=uE(u,s);m===0?(u.next=null,o===null?of=h:o.next=h,h===null&&(vo=o)):(o=u,(r!==0||(m&3)!==0)&&(lf=!0)),u=h}Yl(r)}function uE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-Ce(m),S=1<<E,I=h[E];I===-1?((S&o)===0||(S&u)!==0)&&(h[E]=Li(S,s)):I<=s&&(r.expiredLanes|=S),m&=~S}if(s=lt,o=$e,o=Qr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(tt===2||tt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&vr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||$r(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&vr(u),xa(o)){case 2:case 8:o=zs;break;case 32:o=Er;break;case 268435456:o=K;break;default:o=Er}return u=cE.bind(null,r),o=Gr(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&vr(u),r.callbackPriority=2,r.callbackNode=null,2}function cE(r,s){if(Zt!==0&&Zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(af()&&r.callbackNode!==o)return null;var u=$e;return u=Qr(r,r===lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Kv(r,u,s),uE(r,hn()),r.callbackNode!=null&&r.callbackNode===o?cE.bind(null,r):null)}function fE(r,s){if(af())return null;Kv(r,s,!0)}function gR(){RR(function(){(et&6)!==0?Gr(Us,mR):lE()})}function Op(){return pa===0&&(pa=rl()),pa}function hE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ba(""+r)}function dE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function yR(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var m=hE((h[It]||null).action),E=u.submitter;E&&(s=(s=E[It]||null)?hE(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var S=new qa("action","action",null,u,h);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pa!==0){var I=E?dE(h,E):new FormData(h);Xd(o,{pending:!0,data:I,method:h.method,action:m},null,I)}}else typeof m=="function"&&(S.preventDefault(),I=E?dE(h,E):new FormData(h),Xd(o,{pending:!0,data:I,method:h.method,action:m},m,I))},currentTarget:h}]})}}for(var Np=0;Np<md.length;Np++){var Mp=md[Np],_R=Mp.toLowerCase(),vR=Mp[0].toUpperCase()+Mp.slice(1);ir(_R,"on"+vR)}ir(Ky,"onAnimationEnd"),ir(Qy,"onAnimationIteration"),ir($y,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(kw,"onTransitionRun"),ir(Lw,"onTransitionStart"),ir(Uw,"onTransitionCancel"),ir(Yy,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function pE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var S=u[E],I=S.instance,H=S.currentTarget;if(S=S.listener,I!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=H;try{m(h)}catch(J){$c(J)}h.currentTarget=null,m=I}else for(E=0;E<u.length;E++){if(S=u[E],I=S.instance,H=S.currentTarget,S=S.listener,I!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=H;try{m(h)}catch(J){$c(J)}h.currentTarget=null,m=I}}}}function je(r,s){var o=s[ol];o===void 0&&(o=s[ol]=new Set);var u=r+"__bubble";o.has(u)||(mE(s,r,2,!1),o.add(u))}function Vp(r,s,o){var u=0;s&&(u|=4),mE(o,r,u,s)}var uf="_reactListening"+Math.random().toString(36).slice(2);function xp(r){if(!r[uf]){r[uf]=!0,ll.forEach(function(o){o!=="selectionchange"&&(ER.has(o)||Vp(o,!1,r),Vp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[uf]||(s[uf]=!0,Vp("selectionchange",!1,s))}}function mE(r,s,o,u){switch(zE(s)){case 2:var h=QR;break;case 8:h=$R;break;default:h=$p}o=h.bind(null,s,o,r),h=void 0,!jn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Pp(r,s,o,u,h){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Wr(S),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=m=E;continue e}S=S.parentNode}}u=u.return}cc(function(){var H=m,J=Fn(o),se=[];e:{var Q=Xy.get(r);if(Q!==void 0){var Y=qa,Ne=r;switch(r){case"keypress":if(Cr(o)===0)break e;case"keydown":case"keyup":Y=Qa;break;case"focusin":Ne="focus",Y=Ha;break;case"focusout":Ne="blur",Y=Ha;break;case"beforeblur":case"afterblur":Y=Ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=_c;break;case Ky:case Qy:case $y:Y=Ga;break;case Yy:Y=Ec;break;case"scroll":case"scrollend":Y=fc;break;case"wheel":Y=$a;break;case"copy":case"cut":case"paste":Y=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=El;break;case"toggle":case"beforetoggle":Y=bc}var we=(s&4)!==0,at=!we&&(r==="scroll"||r==="scrollend"),U=we?Q!==null?Q+"Capture":null:Q;we=[];for(var L=H,F;L!==null;){var te=L;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||U===null||(te=Qs(L,U),te!=null&&we.push(Wl(L,te,F))),at)break;L=L.return}0<we.length&&(Q=new Y(Q,Ne,null,o,J),se.push({event:Q,listeners:we}))}}if((s&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",Q&&o!==ti&&(Ne=o.relatedTarget||o.fromElement)&&(Wr(Ne)||Ne[Bn]))break e;if((Y||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(Ne=o.relatedTarget||o.toElement,Y=H,Ne=Ne?Wr(Ne):null,Ne!==null&&(at=l(Ne),we=Ne.tag,Ne!==at||we!==5&&we!==27&&we!==6)&&(Ne=null)):(Y=null,Ne=H),Y!==Ne)){if(we=Hn,te="onMouseLeave",U="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(we=El,te="onPointerLeave",U="onPointerEnter",L="pointer"),at=Y==null?Q:Sr(Y),F=Ne==null?Q:Sr(Ne),Q=new we(te,L+"leave",Y,o,J),Q.target=at,Q.relatedTarget=F,te=null,Wr(J)===H&&(we=new we(U,L+"enter",Ne,o,J),we.target=F,we.relatedTarget=at,te=we),at=te,Y&&Ne)t:{for(we=Y,U=Ne,L=0,F=we;F;F=Eo(F))L++;for(F=0,te=U;te;te=Eo(te))F++;for(;0<L-F;)we=Eo(we),L--;for(;0<F-L;)U=Eo(U),F--;for(;L--;){if(we===U||U!==null&&we===U.alternate)break t;we=Eo(we),U=Eo(U)}we=null}else we=null;Y!==null&&gE(se,Q,Y,we,!1),Ne!==null&&at!==null&&gE(se,at,Ne,we,!0)}}e:{if(Q=H?Sr(H):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var Ee=Py;else if(Lt(Q))if(ky)Ee=Vw;else{Ee=Nw;var qe=Ow}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&dl(H.elementType)&&(Ee=Py):Ee=Mw;if(Ee&&(Ee=Ee(r,H))){ai(se,Ee,o,J);break e}qe&&qe(r,Q,H),r==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&ji(Q,"number",Q.value)}switch(qe=H?Sr(H):window,r){case"focusin":(Lt(qe)||qe.contentEditable==="true")&&(Ya=qe,hd=H,Sl=null);break;case"focusout":Sl=hd=Ya=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Hy(se,o,J);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":Hy(se,o,J)}var be;if(Or)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ke?X(r,o)&&(Re="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(v&&o.locale!=="ko"&&(Ke||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ke&&(be=ml()):(Rr=J,Hi="value"in Rr?Rr.value:Rr.textContent,Ke=!0)),qe=cf(H,Re),0<qe.length&&(Re=new _l(Re,r,null,o,J),se.push({event:Re,listeners:qe}),be?Re.data=be:(be=he(o),be!==null&&(Re.data=be)))),(be=y?kt(r,o):Qe(r,o))&&(Re=cf(H,"onBeforeInput"),0<Re.length&&(qe=new _l("onBeforeInput","beforeinput",null,o,J),se.push({event:qe,listeners:Re}),qe.data=be)),yR(se,r,H,o,J)}pE(se,s)})}function Wl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function cf(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Qs(r,o),h!=null&&u.unshift(Wl(r,h,m)),h=Qs(r,s),h!=null&&u.push(Wl(r,h,m))),r.tag===3)return u;r=r.return}return[]}function Eo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function gE(r,s,o,u,h){for(var m=s._reactName,E=[];o!==null&&o!==u;){var S=o,I=S.alternate,H=S.stateNode;if(S=S.tag,I!==null&&I===u)break;S!==5&&S!==26&&S!==27||H===null||(I=H,h?(H=Qs(o,m),H!=null&&E.unshift(Wl(o,H,I))):h||(H=Qs(o,m),H!=null&&E.push(Wl(o,H,I)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var TR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function yE(r){return(typeof r=="string"?r:""+r).replace(TR,`
`).replace(bR,"")}function _E(r,s){return s=yE(s),yE(r)===s}function ff(){}function st(r,s,o,u,h,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||qn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&qn(r,""+u);break;case"className":Ar(r,"class",u);break;case"tabIndex":Ar(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(r,o,u);break;case"style":hl(r,u,m);break;case"data":if(s!=="object"){Ar(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ba(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&st(r,s,"name",h.name,h,null),st(r,s,"formEncType",h.formEncType,h,null),st(r,s,"formMethod",h.formMethod,h,null),st(r,s,"formTarget",h.formTarget,h,null)):(st(r,s,"encType",h.encType,h,null),st(r,s,"method",h.method,h,null),st(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ba(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ff);break;case"onScroll":u!=null&&je("scroll",r);break;case"onScrollEnd":u!=null&&je("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Ba(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":je("beforetoggle",r),je("toggle",r),Fi(r,"popover",u);break;case"xlinkActuate":Yt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,Fi(r,o,u))}}function kp(r,s,o,u,h,m){switch(o){case"style":hl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?qn(r,u):(typeof u=="number"||typeof u=="bigint")&&qn(r,""+u);break;case"onScroll":u!=null&&je("scroll",r);break;case"onScrollEnd":u!=null&&je("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ff);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),m=r[It]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Fi(r,o,u)}}}function Jt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",r),je("load",r);var u=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:st(r,s,m,E,o,null)}}h&&st(r,s,"srcSet",o.srcSet,o,null),u&&st(r,s,"src",o.src,o,null);return;case"input":je("invalid",r);var S=m=E=h=null,I=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":h=J;break;case"type":E=J;break;case"checked":I=J;break;case"defaultChecked":H=J;break;case"value":m=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:st(r,s,u,J,o,null)}}Hs(r,m,S,I,H,E,h,!1),za(r);return;case"select":je("invalid",r),u=E=m=null;for(h in o)if(o.hasOwnProperty(h)&&(S=o[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:st(r,s,h,S,o,null)}s=m,o=E,r.multiple=!!u,s!=null?ei(r,!!u,s,!1):o!=null&&ei(r,!!u,o,!0);return;case"textarea":je("invalid",r),m=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:st(r,s,E,S,o,null)}Gs(r,u,h,m),za(r);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(r,s,I,u,o,null)}return;case"dialog":je("beforetoggle",r),je("toggle",r),je("cancel",r),je("close",r);break;case"iframe":case"object":je("load",r);break;case"video":case"audio":for(u=0;u<Xl.length;u++)je(Xl[u],r);break;case"image":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"embed":case"source":case"link":je("error",r),je("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:st(r,s,H,u,o,null)}return;default:if(dl(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&kp(r,s,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&st(r,s,S,u,o,null))}function SR(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,S=null,I=null,H=null,J=null;for(Y in o){var se=o[Y];if(o.hasOwnProperty(Y)&&se!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=se;default:u.hasOwnProperty(Y)||st(r,s,Y,null,u,se)}}for(var Q in u){var Y=u[Q];if(se=o[Q],u.hasOwnProperty(Q)&&(Y!=null||se!=null))switch(Q){case"type":m=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":J=Y;break;case"value":E=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Y!==se&&st(r,s,Q,Y,u,se)}}In(r,E,S,I,H,J,m,h);return;case"select":Y=E=S=Q=null;for(m in o)if(I=o[m],o.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Y=I;default:u.hasOwnProperty(m)||st(r,s,m,null,u,I)}for(h in u)if(m=u[h],I=o[h],u.hasOwnProperty(h)&&(m!=null||I!=null))switch(h){case"value":Q=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==I&&st(r,s,h,m,u,I)}s=S,o=E,u=Y,Q!=null?ei(r,!!o,Q,!1):!!u!=!!o&&(s!=null?ei(r,!!o,s,!0):ei(r,!!o,o?[]:"",!1));return;case"textarea":Y=Q=null;for(S in o)if(h=o[S],o.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(r,s,S,null,u,h)}for(E in u)if(h=u[E],m=o[E],u.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":Q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&st(r,s,E,h,u,m)}rt(r,Q,Y);return;case"option":for(var Ne in o)if(Q=o[Ne],o.hasOwnProperty(Ne)&&Q!=null&&!u.hasOwnProperty(Ne))switch(Ne){case"selected":r.selected=!1;break;default:st(r,s,Ne,null,u,Q)}for(I in u)if(Q=u[I],Y=o[I],u.hasOwnProperty(I)&&Q!==Y&&(Q!=null||Y!=null))switch(I){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:st(r,s,I,Q,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!u.hasOwnProperty(we)&&st(r,s,we,null,u,Q);for(H in u)if(Q=u[H],Y=o[H],u.hasOwnProperty(H)&&Q!==Y&&(Q!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:st(r,s,H,Q,u,Y)}return;default:if(dl(s)){for(var at in o)Q=o[at],o.hasOwnProperty(at)&&Q!==void 0&&!u.hasOwnProperty(at)&&kp(r,s,at,void 0,u,Q);for(J in u)Q=u[J],Y=o[J],!u.hasOwnProperty(J)||Q===Y||Q===void 0&&Y===void 0||kp(r,s,J,Q,u,Y);return}}for(var U in o)Q=o[U],o.hasOwnProperty(U)&&Q!=null&&!u.hasOwnProperty(U)&&st(r,s,U,null,u,Q);for(se in u)Q=u[se],Y=o[se],!u.hasOwnProperty(se)||Q===Y||Q==null&&Y==null||st(r,s,se,Q,u,Y)}var Lp=null,Up=null;function hf(r){return r.nodeType===9?r:r.ownerDocument}function vE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function zp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bp=null;function AR(){var r=window.event;return r&&r.type==="popstate"?r===Bp?!1:(Bp=r,!0):(Bp=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(r){return bE.resolve(null).then(r).catch(CR)}:TE;function CR(r){setTimeout(function(){throw r})}function as(r){return r==="head"}function SE(r,s){var o=s,u=0,h=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&Zl(E.documentElement),o&2&&Zl(E.body),o&4)for(o=E.head,Zl(o),E=o.firstChild;E;){var S=E.nextSibling,I=E.nodeName;E[Bs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(h===0){r.removeChild(m),au(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);au(s)}function qp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qp(o),qi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function IR(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Bs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=ar(r.nextSibling),r===null)break}return null}function DR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ar(r.nextSibling),r===null))return null;return r}function Fp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function OR(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ar(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var jp=null;function AE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function wE(r,s,o){switch(s=hf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Zl(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);qi(r)}var Wn=new Map,RE=new Set;function df(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var vi=fe.d;fe.d={f:NR,r:MR,D:VR,C:xR,L:PR,m:kR,X:UR,S:LR,M:zR};function NR(){var r=vi.f(),s=rf();return r||s}function MR(r){var s=br(r);s!==null&&s.tag===5&&s.type==="form"?K_(s):vi.r(r)}var To=typeof document>"u"?null:document;function CE(r,s,o){var u=To;if(u&&typeof s=="string"&&s){var h=Dt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),RE.has(h)||(RE.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),Jt(s,"link",r),bt(s),u.head.appendChild(s)))}}function VR(r){vi.D(r),CE("dns-prefetch",r,null)}function xR(r,s){vi.C(r,s),CE("preconnect",r,s)}function PR(r,s,o){vi.L(r,s,o);var u=To;if(u&&r&&s){var h='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Dt(o.imageSizes)+'"]')):h+='[href="'+Dt(r)+'"]';var m=h;switch(s){case"style":m=bo(r);break;case"script":m=So(r)}Wn.has(m)||(r=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Wn.set(m,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Jl(m))||s==="script"&&u.querySelector(eu(m))||(s=u.createElement("link"),Jt(s,"link",r),bt(s),u.head.appendChild(s)))}}function kR(r,s){vi.m(r,s);var o=To;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Dt(u)+'"][href="'+Dt(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=So(r)}if(!Wn.has(m)&&(r=_({rel:"modulepreload",href:r},s),Wn.set(m,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(eu(m)))return}u=o.createElement("link"),Jt(u,"link",r),bt(u),o.head.appendChild(u)}}}function LR(r,s,o){vi.S(r,s,o);var u=To;if(u&&r){var h=dn(u).hoistableStyles,m=bo(r);s=s||"default";var E=h.get(m);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Jl(m)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Wn.get(m))&&Hp(r,o);var I=E=u.createElement("link");bt(I),Jt(I,"link",r),I._p=new Promise(function(H,J){I.onload=H,I.onerror=J}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,pf(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(m,E)}}}function UR(r,s){vi.X(r,s);var o=To;if(o&&r){var u=dn(o).hoistableScripts,h=So(r),m=u.get(h);m||(m=o.querySelector(eu(h)),m||(r=_({src:r,async:!0},s),(s=Wn.get(h))&&Gp(r,s),m=o.createElement("script"),bt(m),Jt(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function zR(r,s){vi.M(r,s);var o=To;if(o&&r){var u=dn(o).hoistableScripts,h=So(r),m=u.get(h);m||(m=o.querySelector(eu(h)),m||(r=_({src:r,async:!0,type:"module"},s),(s=Wn.get(h))&&Gp(r,s),m=o.createElement("script"),bt(m),Jt(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function IE(r,s,o,u){var h=(h=Oe.current)?df(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=bo(o.href),o=dn(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=bo(o.href);var m=dn(h).hoistableStyles,E=m.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=h.querySelector(Jl(r)))&&!m._p&&(E.instance=m,E.state.loading=5),Wn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(r,o),m||BR(h,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=So(o),o=dn(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function bo(r){return'href="'+Dt(r)+'"'}function Jl(r){return'link[rel="stylesheet"]['+r+"]"}function DE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function BR(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),bt(s),r.head.appendChild(s))}function So(r){return'[src="'+Dt(r)+'"]'}function eu(r){return"script[async]"+r}function OE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),Jt(u,"style",h),pf(u,o.precedence,r),s.instance=u;case"stylesheet":h=bo(o.href);var m=r.querySelector(Jl(h));if(m)return s.state.loading|=4,s.instance=m,bt(m),m;u=DE(o),(h=Wn.get(h))&&Hp(u,h),m=(r.ownerDocument||r).createElement("link"),bt(m);var E=m;return E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),Jt(m,"link",u),s.state.loading|=4,pf(m,o.precedence,r),s.instance=m;case"script":return m=So(o.src),(h=r.querySelector(eu(m)))?(s.instance=h,bt(h),h):(u=o,(h=Wn.get(m))&&(u=_({},o),Gp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),bt(h),Jt(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,pf(u,o.precedence,r));return s.instance}function pf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===s)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Hp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Gp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var mf=null;function NE(r,s,o){if(mf===null){var u=new Map,h=mf=new Map;h.set(o,u)}else h=mf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[Bs]||m[Pt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=r+E;var S=u.get(E);S?S.push(m):u.set(E,[m])}}return u}function ME(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function qR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function VE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var tu=null;function FR(){}function jR(r,s,o){if(tu===null)throw Error(i(475));var u=tu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=bo(o.href),m=r.querySelector(Jl(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=gf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,bt(m);return}m=r.ownerDocument||r,o=DE(o),(h=Wn.get(h))&&Hp(o,h),m=m.createElement("link"),bt(m);var E=m;E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),Jt(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=gf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function HR(){if(tu===null)throw Error(i(475));var r=tu;return r.stylesheets&&r.count===0&&Kp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Kp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function gf(){if(this.count--,this.count===0){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yf=null;function Kp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yf=new Map,s.forEach(GR,r),yf=null,gf.call(r))}function GR(r,s){if(!(s.state.loading&4)){var o=yf.get(r);if(o)var u=o.get(null);else{o=new Map,yf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=s.instance,E=h.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,h),o.set(E,h),this.count++,u=gf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var nu={$$typeof:re,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function KR(r,s,o,u,h,m,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function xE(r,s,o,u,h,m,E,S,I,H,J,se){return r=new KR(r,s,o,E,S,I,H,se),s=1,m===!0&&(s|=24),m=On(3,null,null,s),r.current=m,m.stateNode=r,s=Cd(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},Nd(m),r}function PE(r){return r?(r=Ja,r):Ja}function kE(r,s,o,u,h,m){h=PE(h),u.context===null?u.context=h:u.pendingContext=h,u=Qi(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=$i(r,u,s),o!==null&&(Pn(o,r,s),Ml(o,r,s))}function LE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Qp(r,s){LE(r,s),(r=r.alternate)&&LE(r,s)}function UE(r){if(r.tag===13){var s=Za(r,67108864);s!==null&&Pn(s,r,67108864),Qp(r,67108864)}}var _f=!0;function QR(r,s,o,u){var h=W.T;W.T=null;var m=fe.p;try{fe.p=2,$p(r,s,o,u)}finally{fe.p=m,W.T=h}}function $R(r,s,o,u){var h=W.T;W.T=null;var m=fe.p;try{fe.p=8,$p(r,s,o,u)}finally{fe.p=m,W.T=h}}function $p(r,s,o,u){if(_f){var h=Yp(u);if(h===null)Pp(r,s,u,vf,o),BE(r,u);else if(XR(h,r,s,o,u))u.stopPropagation();else if(BE(r,u),s&4&&-1<YR.indexOf(r)){for(;h!==null;){var m=br(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Cn(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var I=1<<31-Ce(E);S.entanglements[1]|=I,E&=~I}kr(m),(et&6)===0&&(tf=hn()+500,Yl(0))}}break;case 13:S=Za(m,2),S!==null&&Pn(S,m,2),rf(),Qp(m,2)}if(m=Yp(u),m===null&&Pp(r,s,u,vf,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else Pp(r,s,u,null,o)}}function Yp(r){return r=Fn(r),Xp(r)}var vf=null;function Xp(r){if(vf=null,r=Wr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return vf=r,null}function zE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nl()){case Us:return 2;case zs:return 8;case Er:case V:return 32;case K:return 268435456;default:return 32}default:return 32}}var Wp=!1,os=null,ls=null,us=null,ru=new Map,iu=new Map,cs=[],YR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BE(r,s){switch(r){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(s.pointerId)}}function su(r,s,o,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},s!==null&&(s=br(s),s!==null&&UE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function XR(r,s,o,u,h){switch(s){case"focusin":return os=su(os,r,s,o,u,h),!0;case"dragenter":return ls=su(ls,r,s,o,u,h),!0;case"mouseover":return us=su(us,r,s,o,u,h),!0;case"pointerover":var m=h.pointerId;return ru.set(m,su(ru.get(m)||null,r,s,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,iu.set(m,su(iu.get(m)||null,r,s,o,u,h)),!0}return!1}function qE(r){var s=Wr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,rc(r.priority,function(){if(o.tag===13){var u=xn();u=Ui(u);var h=Za(o,u);h!==null&&Pn(h,o,u),Qp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ef(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Yp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ti=u,o.target.dispatchEvent(u),ti=null}else return s=br(o),s!==null&&UE(s),r.blockedOn=o,!1;s.shift()}return!0}function FE(r,s,o){Ef(r)&&o.delete(s)}function WR(){Wp=!1,os!==null&&Ef(os)&&(os=null),ls!==null&&Ef(ls)&&(ls=null),us!==null&&Ef(us)&&(us=null),ru.forEach(FE),iu.forEach(FE)}function Tf(r,s){r.blockedOn===s&&(r.blockedOn=null,Wp||(Wp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,WR)))}var bf=null;function jE(r){bf!==r&&(bf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bf===r&&(bf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Xp(u||o)===null)continue;break}var m=br(o);m!==null&&(r.splice(s,3),s-=3,Xd(m,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function au(r){function s(I){return Tf(I,r)}os!==null&&Tf(os,r),ls!==null&&Tf(ls,r),us!==null&&Tf(us,r),ru.forEach(s),iu.forEach(s);for(var o=0;o<cs.length;o++){var u=cs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<cs.length&&(o=cs[0],o.blockedOn===null);)qE(o),o.blockedOn===null&&cs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],E=h[It]||null;if(typeof m=="function")E||jE(o);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[It]||null)S=E.formAction;else if(Xp(h)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),jE(o)}}}function Zp(r){this._internalRoot=r}Sf.prototype.render=Zp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=xn();kE(o,u,r,s,null,null)},Sf.prototype.unmount=Zp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;kE(r.current,2,null,r,null,null),rf(),s[Bn]=null}};function Sf(r){this._internalRoot=r}Sf.prototype.unstable_scheduleHydration=function(r){if(r){var s=zi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<cs.length&&s!==0&&s<cs[o].priority;o++);cs.splice(o,0,r),o===0&&qE(r)}};var HE=e.version;if(HE!=="19.1.0")throw Error(i(527,HE,"19.1.0"));fe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var ZR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{ue=Af.inject(ZR),ne=Af}catch{}}return lu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=av,m=ov,E=lv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=xE(r,1,!1,null,null,o,u,h,m,E,S,null),r[Bn]=s.current,xp(r),new Zp(s)},lu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",m=av,E=ov,S=lv,I=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=xE(r,1,!0,s,o??null,u,h,m,E,S,I,H),s.context=PE(null),o=s.current,u=xn(),u=Ui(u),h=Qi(u),h.callback=null,$i(o,h,u),o=u,s.current.lanes=o,Xr(s,o),kr(s),r[Bn]=s.current,xp(r),new Sf(s)},lu.version="19.1.0",lu}var eT;function uC(){if(eT)return nm.exports;eT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nm.exports=lC(),nm.exports}var WP=uC(),uu={},tT;function cC(){if(tT)return uu;tT=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.parse=c,uu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,M){const D=new l,z=b.length;if(z<2)return D;const B=(M==null?void 0:M.decode)||_;let $=0;do{const G=b.indexOf("=",$);if(G===-1)break;const re=b.indexOf(";",$),le=re===-1?z:re;if(G>le){$=b.lastIndexOf(";",G-1)+1;continue}const ee=d(b,$,G),pe=p(b,G,ee),O=b.slice(ee,pe);if(D[O]===void 0){let R=d(b,G+1,le),w=p(b,le,R);const N=B(b.slice(R,w));D[O]=N}$=le+1}while($<z);return D}function d(b,M,D){do{const z=b.charCodeAt(M);if(z!==32&&z!==9)return M}while(++M<D);return D}function p(b,M,D){for(;M>D;){const z=b.charCodeAt(--M);if(z!==32&&z!==9)return M+1}return D}function g(b,M,D){const z=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const B=z(M);if(!e.test(B))throw new TypeError(`argument val is invalid: ${M}`);let $=b+"="+B;if(!D)return $;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);$+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);$+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);$+="; Path="+D.path}if(D.expires){if(!T(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);$+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&($+="; HttpOnly"),D.secure&&($+="; Secure"),D.partitioned&&($+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return $}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return uu}cC();var nT="popstate";function fC(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Dm("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Ou(a)}return dC(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hC(){return Math.random().toString(36).substring(2,10)}function rT(n,e){return{usr:n.state,key:n.key,idx:e}}function Dm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:t,key:e&&e.key||i||hC()}}function Ou({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Go(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function dC(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let B=_(),$=B==null?null:B-g;g=B,p&&p({action:d,location:z.location,delta:$})}function b(B,$){d="PUSH";let G=Dm(z.location,B,$);g=_()+1;let re=rT(G,g),le=z.createHref(G);try{c.pushState(re,"",le)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(le)}l&&p&&p({action:d,location:z.location,delta:1})}function M(B,$){d="REPLACE";let G=Dm(z.location,B,$);g=_();let re=rT(G,g),le=z.createHref(G);c.replaceState(re,"",le),l&&p&&p({action:d,location:z.location,delta:0})}function D(B){return pC(B)}let z={get action(){return d},get location(){return n(a,c)},listen(B){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(nT,T),p=B,()=>{a.removeEventListener(nT,T),p=null}},createHref(B){return e(a,B)},createURL:D,encodeLocation(B){let $=D(B);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:b,replace:M,go(B){return c.go(B)}};return z}function pC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ou(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function gb(n,e,t="/"){return mC(n,e,t,!1)}function mC(n,e,t,i){let a=typeof e=="string"?Go(e):e,l=Ci(a.pathname||"/",t);if(l==null)return null;let c=yb(n);gC(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=CC(l);d=wC(c[p],g,i)}return d}function yb(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Si([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),yb(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:SC(g,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of _b(l.path))a(l,c,p)}),e}function _b(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=_b(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function gC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:AC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var yC=/^:[\w-]+$/,_C=3,vC=2,EC=1,TC=10,bC=-2,iT=n=>n==="*";function SC(n,e){let t=n.split("/"),i=t.length;return t.some(iT)&&(i+=bC),e&&(i+=vC),t.filter(a=>!iT(a)).reduce((a,l)=>a+(yC.test(l)?_C:l===""?EC:TC),i)}function AC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function wC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=Xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=Xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Si([l,T.pathname]),pathnameBase:NC(Si([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=Si([l,T.pathnameBase]))}return c}function Xf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=RC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let D=d[b]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const M=d[b];return T&&!M?g[_]=void 0:g[_]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function RC(n,e=!1,t=!0){dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function CC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function IC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Go(n):n;return{pathname:t?t.startsWith("/")?t:DC(t,e):e,search:MC(i),hash:VC(a)}}function DC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function am(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dg(n){let e=OC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function pg(n,e,t,i=!1){let a;typeof n=="string"?a=Go(n):(a={...n},mt(!a.pathname||!a.pathname.includes("?"),am("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),am("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),am("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}d=T>=0?e[T]:"/"}let p=IC(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Si=n=>n.join("/").replace(/\/\/+/g,"/"),NC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),MC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var vb=["POST","PUT","PATCH","DELETE"];new Set(vb);var PC=["GET",...vb];new Set(PC);var Ko=j.createContext(null);Ko.displayName="DataRouter";var Ih=j.createContext(null);Ih.displayName="DataRouterState";var Eb=j.createContext({isTransitioning:!1});Eb.displayName="ViewTransition";var kC=j.createContext(new Map);kC.displayName="Fetchers";var LC=j.createContext(null);LC.displayName="Await";var mr=j.createContext(null);mr.displayName="Navigation";var ju=j.createContext(null);ju.displayName="Location";var gr=j.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var mg=j.createContext(null);mg.displayName="RouteError";function UC(n,{relative:e}={}){mt(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=j.useContext(mr),{hash:a,pathname:l,search:c}=Hu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Si([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Qo(){return j.useContext(ju)!=null}function Ms(){return mt(Qo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(ju).location}var Tb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bb(n){j.useContext(mr).static||j.useLayoutEffect(n)}function Sb(){let{isDataRoute:n}=j.useContext(gr);return n?WC():zC()}function zC(){mt(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Ko),{basename:e,navigator:t}=j.useContext(mr),{matches:i}=j.useContext(gr),{pathname:a}=Ms(),l=JSON.stringify(dg(i)),c=j.useRef(!1);return bb(()=>{c.current=!0}),j.useCallback((p,g={})=>{if(dr(c.current,Tb),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=pg(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Si([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}j.createContext(null);function ZP(){let{matches:n}=j.useContext(gr),e=n[n.length-1];return e?e.params:{}}function Hu(n,{relative:e}={}){let{matches:t}=j.useContext(gr),{pathname:i}=Ms(),a=JSON.stringify(dg(t));return j.useMemo(()=>pg(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function BC(n,e){return Ab(n,e)}function Ab(n,e,t,i){var $;mt(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(mr),{matches:l}=j.useContext(gr),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let G=_&&_.path||"";wb(p,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=Ms(),b;if(e){let G=typeof e=="string"?Go(e):e;mt(g==="/"||(($=G.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${G.pathname}" was given in the \`location\` prop.`),b=G}else b=T;let M=b.pathname||"/",D=M;if(g!=="/"){let G=g.replace(/^\//,"").split("/");D="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let z=gb(n,{pathname:D});dr(_||z!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),dr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=GC(z&&z.map(G=>Object.assign({},G,{params:Object.assign({},d,G.params),pathname:Si([g,a.encodeLocation?a.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?g:Si([g,a.encodeLocation?a.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),l,t,i);return e&&B?j.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},B):B}function qC(){let n=XC(),e=xC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:a},t):null,c)}var FC=j.createElement(qC,null),jC=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?j.createElement(gr.Provider,{value:this.props.routeContext},j.createElement(mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HC({routeContext:n,match:e,children:t}){let i=j.useContext(Ko);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(gr.Provider,{value:n},t)}function GC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:T}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,_)=>{let T,b=!1,M=null,D=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,M=g.route.errorElement||FC,c&&(d<0&&_===0?(wb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):d===_&&(b=!0,D=g.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,_+1)),B=()=>{let $;return T?$=M:b?$=D:g.route.Component?$=j.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,j.createElement(HC,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:$})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?j.createElement(jC,{location:t.location,revalidation:t.revalidation,component:M,error:T,children:B(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):B()},null)}function gg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(n){let e=j.useContext(Ko);return mt(e,gg(n)),e}function QC(n){let e=j.useContext(Ih);return mt(e,gg(n)),e}function $C(n){let e=j.useContext(gr);return mt(e,gg(n)),e}function yg(n){let e=$C(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function YC(){return yg("useRouteId")}function XC(){var i;let n=j.useContext(mg),e=QC("useRouteError"),t=yg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function WC(){let{router:n}=KC("useNavigate"),e=yg("useNavigate"),t=j.useRef(!1);return bb(()=>{t.current=!0}),j.useCallback(async(a,l={})=>{dr(t.current,Tb),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var sT={};function wb(n,e,t){!e&&!sT[n]&&(sT[n]=!0,dr(!1,t))}j.memo(ZC);function ZC({routes:n,future:e,state:t}){return Ab(n,void 0,t,e)}function JP({to:n,replace:e,state:t,relative:i}){mt(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(mr);dr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(gr),{pathname:c}=Ms(),d=Sb(),p=pg(n,dg(l),c,i==="path"),g=JSON.stringify(p);return j.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function JC(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){mt(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Go(t));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:b="default"}=t,M=j.useMemo(()=>{let D=Ci(p,c);return D==null?null:{location:{pathname:D,search:g,hash:_,state:T,key:b},navigationType:i}},[c,p,g,_,T,b,i]);return dr(M!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:j.createElement(mr.Provider,{value:d},j.createElement(ju.Provider,{children:e,value:M}))}function ek({children:n,location:e}){return BC(Om(n),e)}function Om(n,e=[]){let t=[];return j.Children.forEach(n,(i,a)=>{if(!j.isValidElement(i))return;let l=[...e,a];if(i.type===j.Fragment){t.push.apply(t,Om(i.props.children,l));return}mt(i.type===JC,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Om(i.props.children,l)),t.push(c)}),t}var kf="get",Lf="application/x-www-form-urlencoded";function Dh(n){return n!=null&&typeof n.tagName=="string"}function tI(n){return Dh(n)&&n.tagName.toLowerCase()==="button"}function nI(n){return Dh(n)&&n.tagName.toLowerCase()==="form"}function rI(n){return Dh(n)&&n.tagName.toLowerCase()==="input"}function iI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sI(n,e){return n.button===0&&(!e||e==="_self")&&!iI(n)}var wf=null;function aI(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch{wf=!0}return wf}var oI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(n){return n!=null&&!oI.has(n)?(dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lf}"`),null):n}function lI(n,e){let t,i,a,l,c;if(nI(n)){let d=n.getAttribute("action");i=d?Ci(d,e):null,t=n.getAttribute("method")||kf,a=om(n.getAttribute("enctype"))||Lf,l=new FormData(n)}else if(tI(n)||rI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Ci(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||kf,a=om(n.getAttribute("formenctype"))||om(d.getAttribute("enctype"))||Lf,l=new FormData(d,n),!aI()){let{name:g,type:_,value:T}=n;if(_==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,T)}}else{if(Dh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kf,i=null,a=Lf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function _g(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await uI(l,t);return c.links?c.links():[]}return[]}));return mI(i.flat(1).filter(cI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function aT(n,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hI(n,e,{includeHydrateFallback:t}={}){return dI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function dI(n){return[...new Set(n)]}function pI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function mI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(pI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gI=new Set([100,101,204,205]);function yI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ci(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Rb(){let n=j.useContext(Ko);return _g(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _I(){let n=j.useContext(Ih);return _g(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vg=j.createContext(void 0);vg.displayName="FrameworkContext";function Cb(){let n=j.useContext(vg);return _g(n,"You must render this element inside a <HydratedRouter> element"),n}function vI(n,e){let t=j.useContext(vg),[i,a]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=$=>{$.forEach(G=>{c(G.isIntersecting)})},B=new IntersectionObserver(z,{threshold:.5});return b.current&&B.observe(b.current),()=>{B.disconnect()}}},[n]),j.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let M=()=>{a(!0)},D=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:cu(d,M),onBlur:cu(p,D),onMouseEnter:cu(g,M),onMouseLeave:cu(_,D),onTouchStart:cu(T,M)}]:[!1,b,{}]}function cu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function EI({page:n,...e}){let{router:t}=Rb(),i=j.useMemo(()=>gb(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?j.createElement(bI,{page:n,matches:i,...e}):null}function TI(n){let{manifest:e,routeModules:t}=Cb(),[i,a]=j.useState([]);return j.useEffect(()=>{let l=!1;return fI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function bI({page:n,matches:e,...t}){let i=Ms(),{manifest:a,routeModules:l}=Cb(),{basename:c}=Rb(),{loaderData:d,matches:p}=_I(),g=j.useMemo(()=>aT(n,e,p,a,i,"data"),[n,e,p,a,i]),_=j.useMemo(()=>aT(n,e,p,a,i,"assets"),[n,e,p,a,i]),T=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,z=!1;if(e.forEach($=>{var re;let G=a.routes[$.route.id];!G||!G.hasLoader||(!g.some(le=>le.route.id===$.route.id)&&$.route.id in d&&((re=l[$.route.id])!=null&&re.shouldRevalidate)||G.hasClientLoader?z=!0:D.add($.route.id))}),D.size===0)return[];let B=yI(n,c);return z&&D.size>0&&B.searchParams.set("_routes",e.filter($=>D.has($.route.id)).map($=>$.route.id).join(",")),[B.pathname+B.search]},[c,d,i,a,g,e,n,l]),b=j.useMemo(()=>hI(_,a),[_,a]),M=TI(_);return j.createElement(j.Fragment,null,T.map(D=>j.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),b.map(D=>j.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),M.map(({key:D,link:z})=>j.createElement("link",{key:D,...z})))}function SI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ib&&(window.__reactRouterVersion="7.6.2")}catch{}function tk({basename:n,children:e,window:t}){let i=j.useRef();i.current==null&&(i.current=fC({window:t,v5Compat:!0}));let a=i.current,[l,c]=j.useState({action:a.action,location:a.location}),d=j.useCallback(p=>{j.startTransition(()=>c(p))},[c]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.createElement(eI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eg=j.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:T,...b},M){let{basename:D}=j.useContext(mr),z=typeof g=="string"&&Db.test(g),B,$=!1;if(typeof g=="string"&&z&&(B=g,Ib))try{let w=new URL(window.location.href),N=g.startsWith("//")?new URL(w.protocol+g):new URL(g),k=Ci(N.pathname,D);N.origin===w.origin&&k!=null?g=k+N.search+N.hash:$=!0}catch{dr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=UC(g,{relative:a}),[re,le,ee]=vI(i,b),pe=RI(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:T});function O(w){e&&e(w),w.defaultPrevented||pe(w)}let R=j.createElement("a",{...b,...ee,href:B||G,onClick:$||l?e:O,ref:SI(M,le),target:p,"data-discover":!z&&t==="render"?"true":void 0});return re&&!z?j.createElement(j.Fragment,null,R,j.createElement(EI,{page:G})):R});Eg.displayName="Link";var Tg=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let T=Hu(c,{relative:g.relative}),b=Ms(),M=j.useContext(Ih),{navigator:D,basename:z}=j.useContext(mr),B=M!=null&&NI(T)&&d===!0,$=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,G=b.pathname,re=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(G=G.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&z&&(re=Ci(re,z)||re);const le=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ee=G===$||!a&&G.startsWith($)&&G.charAt(le)==="/",pe=re!=null&&(re===$||!a&&re.startsWith($)&&re.charAt($.length)==="/"),O={isActive:ee,isPending:pe,isTransitioning:B},R=ee?e:void 0,w;typeof i=="function"?w=i(O):w=[i,ee?"active":null,pe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(O):l;return j.createElement(Eg,{...g,"aria-current":R,className:w,ref:_,style:N,to:c,viewTransition:d},typeof p=="function"?p(O):p)});Tg.displayName="NavLink";var AI=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=kf,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...b},M)=>{let D=DI(),z=OI(d,{relative:g}),B=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&Db.test(d),G=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let le=re.nativeEvent.submitter,ee=(le==null?void 0:le.getAttribute("formmethod"))||c;D(le||re.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return j.createElement("form",{ref:M,method:B,action:z,onSubmit:i?p:G,...b,"data-discover":!$&&n==="render"?"true":void 0})});AI.displayName="Form";function wI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ob(n){let e=j.useContext(Ko);return mt(e,wI(n)),e}function RI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Sb(),p=Ms(),g=Hu(n,{relative:l});return j.useCallback(_=>{if(sI(_,e)){_.preventDefault();let T=t!==void 0?t:Ou(p)===Ou(g);d(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,i,e,n,a,l,c])}var CI=0,II=()=>`__${String(++CI)}__`;function DI(){let{router:n}=Ob("useSubmit"),{basename:e}=j.useContext(mr),t=YC();return j.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=lI(i,e);if(a.navigate===!1){let _=a.fetcherKey||II();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function OI(n,{relative:e}={}){let{basename:t}=j.useContext(mr),i=j.useContext(gr);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Hu(n||".",{relative:e})},c=Ms();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Si([t,l.pathname])),Ou(l)}function NI(n,e={}){let t=j.useContext(Eb);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ob("useViewTransitionState"),a=Hu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ci(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ci(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Xf(a.pathname,c)!=null||Xf(a.pathname,l)!=null}[...gI];var MI=mb();const Rf=pb(MI);var lm={exports:{}},um={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function VI(){if(oT)return um;oT=1;var n=Ch();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return um.useSyncExternalStoreWithSelector=function(p,g,_,T,b){var M=a(null);if(M.current===null){var D={hasValue:!1,value:null};M.current=D}else D=M.current;M=c(function(){function B(ee){if(!$){if($=!0,G=ee,ee=T(ee),b!==void 0&&D.hasValue){var pe=D.value;if(b(pe,ee))return re=pe}return re=ee}if(pe=re,t(G,ee))return pe;var O=T(ee);return b!==void 0&&b(pe,O)?(G=ee,pe):(G=ee,re=O)}var $=!1,G,re,le=_===void 0?null:_;return[function(){return B(g())},le===null?void 0:function(){return B(le())}]},[g,_,T,b]);var z=i(p,M[0],M[1]);return l(function(){D.hasValue=!0,D.value=z},[z]),d(z),z},um}var lT;function xI(){return lT||(lT=1,lm.exports=VI()),lm.exports}var PI=xI();function kI(n){n()}function LI(){let n=null,e=null;return{clear(){n=null,e=null},notify(){kI(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var uT={notify(){},get:()=>[]};function UI(n,e){let t,i=uT,a=0,l=!1;function c(z){_();const B=i.subscribe(z);let $=!1;return()=>{$||($=!0,B(),T())}}function d(){i.notify()}function p(){D.onStateChange&&D.onStateChange()}function g(){return l}function _(){a++,t||(t=n.subscribe(p),i=LI())}function T(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=uT)}function b(){l||(l=!0,_())}function M(){l&&(l=!1,T())}const D={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:M,getListeners:()=>i};return D}var zI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BI=zI(),qI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",FI=qI(),jI=()=>BI||FI?j.useLayoutEffect:j.useEffect,HI=jI(),cm=Symbol.for("react-redux-context"),fm=typeof globalThis<"u"?globalThis:{};function GI(){if(!j.createContext)return{};const n=fm[cm]??(fm[cm]=new Map);let e=n.get(j.createContext);return e||(e=j.createContext(null),n.set(j.createContext,e)),e}var ws=GI();function KI(n){const{children:e,context:t,serverState:i,store:a}=n,l=j.useMemo(()=>{const p=UI(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),c=j.useMemo(()=>a.getState(),[a]);HI(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=t||ws;return j.createElement(d.Provider,{value:l},e)}var nk=KI;function bg(n=ws){return function(){return j.useContext(n)}}var Nb=bg();function Mb(n=ws){const e=n===ws?Nb:bg(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var QI=Mb();function $I(n=ws){const e=n===ws?QI:Mb(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var rk=$I(),YI=(n,e)=>n===e;function XI(n=ws){const e=n===ws?Nb:bg(n),t=(i,a={})=>{const{equalityFn:l=YI}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:p,getServerState:g}=c;j.useRef(!0);const _=j.useCallback({[i.name](b){return i(b)}}[i.name],[i]),T=PI.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,_,l);return j.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var ik=XI();const WI=()=>{};var cT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},ZI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,M=g&63;p||(M=64,c||(b=64)),i.push(t[_],t[T],t[b],t[M])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Vb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new JI;const b=l<<2|d>>4;if(i.push(b),g!==64){const M=d<<4&240|g>>2;if(i.push(M),T!==64){const D=g<<6&192|T;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e1=function(n){const e=Vb(n);return xb.encodeByteArray(e,!0)},Wf=function(n){return e1(n).replace(/\./g,"")},Pb=function(n){try{return xb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=()=>t1().__FIREBASE_DEFAULTS__,r1=()=>{if(typeof process>"u"||typeof cT>"u")return;const n=cT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},i1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Pb(n[1]);return e&&JSON.parse(e)},Oh=()=>{try{return WI()||n1()||r1()||i1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kb=n=>{var e,t;return(t=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},s1=n=>{const e=kb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Lb=()=>{var n;return(n=Oh())===null||n===void 0?void 0:n.config},Ub=n=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wf(JSON.stringify(t)),Wf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function u1(){var n;const e=(n=Oh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function h1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d1(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class Vi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=y1,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?_1(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Vi(a,d,i)}}function _1(n,e){return n.replace(v1,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const v1=/\{\$([^}]+)}/g;function E1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(fT(l)&&fT(c)){if(!Sa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function fT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function du(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function pu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function T1(n,e){const t=new b1(n,e);return t.subscribe.bind(t)}class b1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");S1(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=hm),a.error===void 0&&(a.error=hm),a.complete===void 0&&(a.complete=hm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(n){return n.endsWith(".cloudworkstations.dev")}async function zb(n){return(await fetch(n,{credentials:"include"})).ok}class Aa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new a1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R1(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w1(n){return n===ma?void 0:n}function R1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new A1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const I1={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},D1=He.INFO,O1={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},N1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=O1[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=D1,this._logHandler=N1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const M1=(n,e)=>e.some(t=>n instanceof t);let hT,dT;function V1(){return hT||(hT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x1(){return dT||(dT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bb=new WeakMap,Nm=new WeakMap,qb=new WeakMap,dm=new WeakMap,Ag=new WeakMap;function P1(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(vs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Bb.set(t,n)}).catch(()=>{}),Ag.set(e,n),e}function k1(n){if(Nm.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Nm.set(n,e)}let Mm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Nm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L1(n){Mm=n(Mm)}function U1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(pm(this),e,...t);return qb.set(i,e.sort?e.sort():[e]),vs(i)}:x1().includes(n)?function(...e){return n.apply(pm(this),e),vs(Bb.get(this))}:function(...e){return vs(n.apply(pm(this),e))}}function z1(n){return typeof n=="function"?U1(n):(n instanceof IDBTransaction&&k1(n),M1(n,V1())?new Proxy(n,Mm):n)}function vs(n){if(n instanceof IDBRequest)return P1(n);if(dm.has(n))return dm.get(n);const e=z1(n);return e!==n&&(dm.set(n,e),Ag.set(e,n)),e}const pm=n=>Ag.get(n);function B1(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=vs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(vs(c.result),p.oldVersion,p.newVersion,vs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const q1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],mm=new Map;function pT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=F1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||q1.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return mm.set(e,l),l}L1(n=>({...n,get:(e,t,i)=>pT(e,t)||n.get(e,t,i),has:(e,t)=>!!pT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function H1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vm="@firebase/app",mT="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Sg("@firebase/app"),G1="@firebase/app-compat",K1="@firebase/analytics-compat",Q1="@firebase/analytics",$1="@firebase/app-check-compat",Y1="@firebase/app-check",X1="@firebase/auth",W1="@firebase/auth-compat",Z1="@firebase/database",J1="@firebase/data-connect",eD="@firebase/database-compat",tD="@firebase/functions",nD="@firebase/functions-compat",rD="@firebase/installations",iD="@firebase/installations-compat",sD="@firebase/messaging",aD="@firebase/messaging-compat",oD="@firebase/performance",lD="@firebase/performance-compat",uD="@firebase/remote-config",cD="@firebase/remote-config-compat",fD="@firebase/storage",hD="@firebase/storage-compat",dD="@firebase/firestore",pD="@firebase/vertexai",mD="@firebase/firestore-compat",gD="firebase",yD="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",_D={[Vm]:"fire-core",[G1]:"fire-core-compat",[Q1]:"fire-analytics",[K1]:"fire-analytics-compat",[Y1]:"fire-app-check",[$1]:"fire-app-check-compat",[X1]:"fire-auth",[W1]:"fire-auth-compat",[Z1]:"fire-rtdb",[J1]:"fire-data-connect",[eD]:"fire-rtdb-compat",[tD]:"fire-fn",[nD]:"fire-fn-compat",[rD]:"fire-iid",[iD]:"fire-iid-compat",[sD]:"fire-fcm",[aD]:"fire-fcm-compat",[oD]:"fire-perf",[lD]:"fire-perf-compat",[uD]:"fire-rc",[cD]:"fire-rc-compat",[fD]:"fire-gcs",[hD]:"fire-gcs-compat",[dD]:"fire-fst",[mD]:"fire-fst-compat",[pD]:"fire-vertex","fire-js":"fire-js",[gD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,vD=new Map,Pm=new Map;function gT(n,e){try{n.container.addComponent(e)}catch(t){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ko(n){const e=n.name;if(Pm.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,n);for(const t of Zf.values())gT(t,n);for(const t of vD.values())gT(t,n);return!0}function wg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Gu("app","Firebase",ED);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=yD;function bD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:xm,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Es.create("bad-app-name",{appName:String(a)});if(t||(t=Lb()),!t)throw Es.create("no-options");const l=Zf.get(a);if(l){if(Sa(t,l.options)&&Sa(i,l.config))return l;throw Es.create("duplicate-app",{appName:a})}const c=new C1(a);for(const p of Pm.values())c.addComponent(p);const d=new TD(t,i,c);return Zf.set(a,d),d}function Fb(n=xm){const e=Zf.get(n);if(!e&&n===xm&&Lb())return bD();if(!e)throw Es.create("no-app",{appName:n});return e}function Ts(n,e,t){var i;let a=(i=_D[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(d.join(" "));return}ko(new Aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="firebase-heartbeat-database",AD=1,Nu="firebase-heartbeat-store";let gm=null;function jb(){return gm||(gm=B1(SD,AD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),gm}async function wD(n){try{const t=(await jb()).transaction(Nu),i=await t.objectStore(Nu).get(Hb(n));return await t.done,i}catch(e){if(e instanceof Vi)Ii.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(t.message)}}}async function yT(n,e){try{const i=(await jb()).transaction(Nu,"readwrite");await i.objectStore(Nu).put(e,Hb(n)),await i.done}catch(t){if(t instanceof Vi)Ii.warn(t.message);else{const i=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(i.message)}}}function Hb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=1024,CD=30;class ID{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=_T();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>CD){const c=ND(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_T(),{heartbeatsToSend:i,unsentEntries:a}=DD(this._heartbeatsCache.heartbeats),l=Wf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ii.warn(t),""}}}function _T(){return new Date().toISOString().substring(0,10)}function DD(n,e=RD){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),vT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),vT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class OD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return yT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return yT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function vT(n){return Wf(JSON.stringify({version:2,heartbeats:n})).length}function ND(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n){ko(new Aa("platform-logger",e=>new j1(e),"PRIVATE")),ko(new Aa("heartbeat",e=>new ID(e),"PRIVATE")),Ts(Vm,mT,n),Ts(Vm,mT,"esm2017"),Ts("fire-js","")}MD("");var VD="firebase",xD="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(VD,xD,"app");function Rg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function Gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PD=Gb,Kb=new Gu("auth","Firebase",Gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Sg("@firebase/auth");function kD(n,...e){Jf.logLevel<=He.WARN&&Jf.warn(`Auth (${$o}): ${n}`,...e)}function Uf(n,...e){Jf.logLevel<=He.ERROR&&Jf.error(`Auth (${$o}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(n,...e){throw Ig(n,...e)}function fr(n,...e){return Ig(n,...e)}function Cg(n,e,t){const i=Object.assign(Object.assign({},PD()),{[e]:t});return new Gu("auth","Firebase",i).create(e,{appName:n.name})}function Ai(n){return Cg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LD(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zn(n,"argument-error"),Cg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ig(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Kb.create(n,...e)}function Ie(n,e,...t){if(!n)throw Ig(e,...t)}function Ti(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uf(e),new Error(e)}function Di(n,e){n||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function UD(){return ET()==="http:"||ET()==="https:"}function ET(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UD()||f1()||"connection"in navigator)?navigator.onLine:!0}function BD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=l1()||h1()}get(){return zD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jD=new Qu(3e4,6e4);function xi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function yr(n,e,t,i,a={}){return $b(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ku(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return c1()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Nh(n.emulatorConfig.host)&&(g.credentials="include"),Qb.fetch()(await Yb(n,n.config.apiHost,t,d),g)})}async function $b(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},qD),e);try{const a=new GD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Cf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Cf(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Cf(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Cg(n,_,g);Zn(n,_)}}catch(a){if(a instanceof Vi)throw a;Zn(n,"network-request-failed",{message:String(a)})}}async function $u(n,e,t,i,a={}){const l=await yr(n,e,t,i,a);return"mfaPendingCredential"in l&&Zn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Yb(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Dg(n.config,a):`${n.config.apiScheme}://${a}`;return FD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function HD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(fr(this.auth,"network-request-failed")),jD.get())})}}function Cf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=fr(n,e,i);return a.customData._tokenResponse=t,a}function TT(n){return n!==void 0&&n.enterprise!==void 0}class KD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QD(n,e){return yr(n,"GET","/v2/recaptchaConfig",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(n,e){return yr(n,"POST","/v1/accounts:delete",e)}async function eh(n,e){return yr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YD(n,e=!1){const t=yt(n),i=await t.getIdToken(e),a=Og(i);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Tu(ym(a.auth_time)),issuedAtTime:Tu(ym(a.iat)),expirationTime:Tu(ym(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ym(n){return Number(n)*1e3}function Og(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Pb(t);return a?JSON.parse(a):(Uf("Failed to decode base64 JWT payload"),null)}catch(a){return Uf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function bT(n){const e=Og(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Vi&&XD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function XD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(n){var e;const t=n.auth,i=await n.getIdToken(),a=await wa(n,eh(t,{idToken:i}));Ie(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Xb(l.providerUserInfo):[],d=JD(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Lm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function ZD(n){const e=yt(n);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JD(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Xb(n){return n.map(e=>{var{providerId:t}=e,i=Rg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(n,e){const t=await $b(n,{},async()=>{const i=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Yb(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Qb.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tO(n,e){return yr(n,"POST","/v2/accounts:revokeToken",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=bT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await eO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new No;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await wa(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YD(this,e)}reload(){return ZD(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await th(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await wa(this,$D(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,p,g,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,M=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,B=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,G=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:re,emailVerified:le,isAnonymous:ee,providerData:pe,stsTokenManager:O}=t;Ie(re&&O,e,"internal-error");const R=No.fromJSON(this.name,O);Ie(typeof re=="string",e,"internal-error"),hs(T,e.name),hs(b,e.name),Ie(typeof le=="boolean",e,"internal-error"),Ie(typeof ee=="boolean",e,"internal-error"),hs(M,e.name),hs(D,e.name),hs(z,e.name),hs(B,e.name),hs($,e.name),hs(G,e.name);const w=new cr({uid:re,auth:e,email:b,emailVerified:le,displayName:T,isAnonymous:ee,photoURL:D,phoneNumber:M,tenantId:z,stsTokenManager:R,createdAt:$,lastLoginAt:G});return pe&&Array.isArray(pe)&&(w.providerData=pe.map(N=>Object.assign({},N))),B&&(w._redirectEventId=B),w}static async _fromIdTokenResponse(e,t,i=!1){const a=new No;a.updateFromServerResponse(t);const l=new cr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await th(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Xb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new No;d.updateFromIdToken(i);const p=new cr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Lm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;function bi(n){Di(n instanceof Function,"Expected a class definition");let e=ST.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ST.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wb.type="NONE";const AT=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,e,t){return`firebase:${n}:${e}:${t}`}class Mo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=zf(this.userKey,a.apiKey,l),this.fullPersistenceKey=zf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await eh(this.auth,{idToken:e}).catch(()=>{});return t?cr._fromGetAccountInfoResponse(this.auth,t,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Mo(bi(AT),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||bi(AT);const c=zf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const b=await eh(e,{idToken:_}).catch(()=>{});if(!b)break;T=await cr._fromGetAccountInfoResponse(e,b,_)}else T=cr._fromJSON(e,_);g!==l&&(d=T),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Mo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Mo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rS(e))return"Blackberry";if(iS(e))return"Webos";if(Jb(e))return"Safari";if((e.includes("chrome/")||eS(e))&&!e.includes("edge/"))return"Chrome";if(nS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Zb(n=fn()){return/firefox\//i.test(n)}function Jb(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eS(n=fn()){return/crios\//i.test(n)}function tS(n=fn()){return/iemobile/i.test(n)}function nS(n=fn()){return/android/i.test(n)}function rS(n=fn()){return/blackberry/i.test(n)}function iS(n=fn()){return/webos/i.test(n)}function Ng(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nO(n=fn()){var e;return Ng(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rO(){return d1()&&document.documentMode===10}function sS(n=fn()){return Ng(n)||nS(n)||iS(n)||rS(n)||/windows phone/i.test(n)||tS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n,e=[]){let t;switch(n){case"Browser":t=wT(fn());break;case"Worker":t=`${wT(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$o}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,e={}){return yr(n,"GET","/v2/passwordPolicy",xi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=6;class oO{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:aO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new iO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await eh(this,{idToken:e}),i=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Ai(this));const t=e?yt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sO(this),t=new oO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await tO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pi(n){return yt(n)}class RT{constructor(e){this.auth=e,this.observer=null,this.addObserver=T1(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uO(n){Mh=n}function oS(n){return Mh.loadJS(n)}function cO(){return Mh.recaptchaEnterpriseScript}function fO(){return Mh.gapiScript}function hO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class dO{constructor(){this.enterprise=new pO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mO="recaptcha-enterprise",lS="NO_RECAPTCHA";class gO{constructor(e){this.type=mO,this.auth=Pi(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{QD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new KD(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;TT(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(lS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&TT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cO();p.length!==0&&(p+=d),oS(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function CT(n,e,t,i=!1,a=!1){const l=new gO(n);let c;if(a)c=lS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function nh(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await CT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await CT(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n,e){const t=wg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Sa(l,e??{}))return a;Zn(a,"already-initialized")}return t.initialize({options:e})}function _O(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(bi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function vO(n,e,t){const i=Pi(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=uS(e),{host:c,port:d}=EO(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(Sa(g,i.config.emulator)&&Sa(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,TO(),Nh(c)&&zb(`${l}//${c}${p}`)}function uS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EO(n){const e=uS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:IT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:IT(c)}}}function IT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,t){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function bO(n,e){return yr(n,"POST","/v1/accounts:update",e)}async function SO(n,e){return yr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(n,e){return $u(n,"POST","/v1/accounts:signInWithPassword",xi(n,e))}async function cS(n,e){return yr(n,"POST","/v1/accounts:sendOobCode",xi(n,e))}async function wO(n,e){return cS(n,e)}async function RO(n,e){return cS(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(n,e){return $u(n,"POST","/v1/accounts:signInWithEmailLink",xi(n,e))}async function IO(n,e){return $u(n,"POST","/v1/accounts:signInWithEmailLink",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Mg{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Mu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Mu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nh(e,t,"signInWithPassword",AO);case"emailLink":return CO(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nh(e,i,"signUpPassword",SO);case"emailLink":return IO(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return $u(n,"POST","/v1/accounts:signInWithIdp",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="http://localhost";class Ra extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Rg(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ra(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Vo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:DO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NO(n){const e=du(pu(n)).link,t=e?du(pu(e)).deep_link_id:null,i=du(pu(n)).deep_link_id;return(i?du(pu(i)).link:null)||i||t||e||n}class Vg{constructor(e){var t,i,a,l,c,d;const p=du(pu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,T=OO((a=p.mode)!==null&&a!==void 0?a:null);Ie(g&&_&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=NO(e);try{return new Vg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,t){return Mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Vg.parseLink(t);return Ie(i,"argument-error"),Mu._fromEmailAndCode(e,i.code,i.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends xg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Yu{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ra._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ps.credential(t,i)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Yu{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Yu{constructor(){super("twitter.com")}static credential(e,t){return Ra._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return gs.credential(t,i)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,e){return $u(n,"POST","/v1/accounts:signUp",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await cr._fromIdTokenResponse(e,i,a),c=DT(i);return new Ca({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=DT(i);return new Ca({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function DT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Vi{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new rh(e,t,i,a)}}function fS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(n,l,e,i):l})}async function VO(n,e,t=!1){const i=await wa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ca._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(n,e,t=!1){const{auth:i}=n;if(kn(i.app))return Promise.reject(Ai(i));const a="reauthenticate";try{const l=await wa(n,fS(i,a,e,n),t);Ie(l.idToken,i,"internal-error");const c=Og(l.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(n.uid===d,i,"user-mismatch"),Ca._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(n,e,t=!1){if(kn(n.app))return Promise.reject(Ai(n));const i="signIn",a=await fS(n,i,e),l=await Ca._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function xO(n,e){return dS(Pi(n),e)}async function sk(n,e){return hS(yt(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(n){const e=Pi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ak(n,e,t){const i=Pi(n);await nh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",RO)}async function ok(n,e,t){if(kn(n.app))return Promise.reject(Ai(n));const i=Pi(n),c=await nh(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&pS(n),p}),d=await Ca._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function lk(n,e,t){return kn(n.app)?Promise.reject(Ai(n)):xO(yt(n),Yo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pS(n),i})}async function uk(n,e){const t=yt(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await wO(t.auth,a);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(n,e){return yr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=yt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await wa(i,PO(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function fk(n,e){return kO(yt(n),null,e)}async function kO(n,e,t){const{auth:i}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(l.password=t);const c=await wa(n,bO(i,l));await n._updateTokensIfNecessary(c,!0)}function LO(n,e,t,i){return yt(n).onIdTokenChanged(e,t,i)}function UO(n,e,t){return yt(n).beforeAuthStateChanged(e,t)}function hk(n,e,t,i){return yt(n).onAuthStateChanged(e,t,i)}function dk(n){return yt(n).signOut()}async function pk(n){return yt(n).delete()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1e3,BO=10;class gS extends mS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);rO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,BO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},zO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gS.type="LOCAL";const qO=gS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends mS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yS.type="SESSION";const _S=yS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Vh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await FO(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Pg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function HO(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function GO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QO(){return vS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebaseLocalStorageDb",$O=1,sh="firebaseLocalStorage",TS="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xh(n,e){return n.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function YO(){const n=indexedDB.deleteDatabase(ES);return new Xu(n).toPromise()}function Um(){const n=indexedDB.open(ES,$O);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(sh,{keyPath:TS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(sh)?e(i):(i.close(),await YO(),e(await Um()))})})}async function OT(n,e,t){const i=xh(n,!0).put({[TS]:e,value:t});return new Xu(i).toPromise()}async function XO(n,e){const t=xh(n,!1).get(e),i=await new Xu(t).toPromise();return i===void 0?null:i.value}function NT(n,e){const t=xh(n,!0).delete(e);return new Xu(t).toPromise()}const WO=800,ZO=3;class bS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ZO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(QO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GO(),!this.activeServiceWorker)return;this.sender=new jO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await OT(e,ih,"1"),await NT(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>OT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>XO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=xh(a,!1).getAll();return new Xu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bS.type="LOCAL";const JO=bS;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n,e){return e?bi(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eN(n){return dS(n.auth,new kg(n),n.bypassAuthState)}function tN(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),hS(t,new kg(n),n.bypassAuthState)}async function nN(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),VO(t,new kg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Zn(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Qu(2e3,1e4);async function mk(n,e,t){if(kn(n.app))return Promise.reject(fr(n,"operation-not-supported-in-this-environment"));const i=Pi(n);LD(n,e,xg);const a=SS(i,t);return new va(i,"signInViaPopup",e,a).executeNotNull()}class va extends AS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rN.get())};e()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="pendingRedirect",Bf=new Map;class sN extends AS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const i=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(n,e){const t=uN(e),i=lN(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function oN(n,e){Bf.set(n._key(),e)}function lN(n){return bi(n._redirectPersistence)}function uN(n){return zf(iN,n.config.apiKey,n.name)}async function cN(n,e,t=!1){if(kn(n.app))return Promise.reject(Ai(n));const i=Pi(n),a=SS(i,e),c=await new sN(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=10*60*1e3;class hN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!wS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(fr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(MT(e))}saveEventToCache(e){this.cachedEventUids.add(MT(e)),this.lastProcessedEventTime=Date.now()}}function MT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,e={}){return yr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pN(n);for(const t of e)try{if(_N(t))return}catch{}Zn(n,"unauthorized-domain")}function _N(n){const e=km(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!gN.test(t))return!1;if(mN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Qu(3e4,6e4);function VT(){const n=Br().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EN(n){return new Promise((e,t)=>{var i,a,l;function c(){VT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VT(),t(fr(n,"network-request-failed"))},timeout:vN.get()})}if(!((a=(i=Br().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Br().gapi)===null||l===void 0)&&l.load)c();else{const d=hO("iframefcb");return Br()[d]=()=>{gapi.load?c():t(fr(n,"network-request-failed"))},oS(`${fO()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw qf=null,e})}let qf=null;function TN(n){return qf=qf||EN(n),qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Qu(5e3,15e3),SN="__/auth/iframe",AN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dg(e,AN):`https://${n.config.authDomain}/${SN}`,i={apiKey:e.apiKey,appName:n.name,v:$o},a=RN.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ku(i).slice(1)}`}async function IN(n){const e=await TN(n),t=Br().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:CN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=fr(n,"network-request-failed"),d=Br().setTimeout(()=>{l(c)},bN.get());function p(){Br().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ON=500,NN=600,MN="_blank",VN="http://localhost";class xT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xN(n,e,t,i=ON,a=NN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},DN),{width:i.toString(),height:a.toString(),top:l,left:c}),g=fn().toLowerCase();t&&(d=eS(g)?MN:t),Zb(g)&&(e=e||VN,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[M,D])=>`${b}${M}=${D},`,"");if(nO(g)&&d!=="_self")return PN(e||"",d),new xT(null);const T=window.open(e||"",d,_);Ie(T,n,"popup-blocked");try{T.focus()}catch{}return new xT(T)}function PN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__/auth/handler",LN="emulator/auth/handler",UN=encodeURIComponent("fac");async function PT(n,e,t,i,a,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:$o,eventId:a};if(e instanceof xg){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",E1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Yu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${UN}=${encodeURIComponent(p)}`:"";return`${zN(n)}?${Ku(d).slice(1)}${g}`}function zN({config:n}){return n.emulator?Dg(n,LN):`https://${n.authDomain}/${kN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,t,i,a){var l;Di((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await PT(e,t,i,km(),a);return xN(e,c,Pg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await PT(e,t,i,km(),a);return HO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Di(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await IN(e),i=new hN(e);return t.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_m,{type:_m},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[_m];c!==void 0&&t(!!c),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sS()||Jb()||Ng()}}const qN=BN;var kT="@firebase/auth",LT="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HN(n){ko(new Aa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aS(n)},g=new lO(i,a,l,p);return _O(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ko(new Aa("auth-internal",e=>{const t=Pi(e.getProvider("auth").getImmediate());return(i=>new FN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(kT,LT,jN(n)),Ts(kT,LT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=5*60,KN=Ub("authIdTokenMaxAge")||GN;let UT=null;const QN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>KN)return;const a=t==null?void 0:t.token;UT!==a&&(UT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gk(n=Fb()){const e=wg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yO(n,{popupRedirectResolver:qN,persistence:[JO,qO,_S]}),i=Ub("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=QN(l.toString());UO(t,c,()=>c(t.currentUser)),LO(t,d=>c(d))}}const a=kb("auth");return a&&vO(t,`http://${a}`),t}function $N(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=fr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",$N().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HN("Browser");var zT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,RS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function w(){}w.prototype=R.prototype,O.D=R.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(N,k,x){for(var C=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)C[xe-2]=arguments[xe];return R.prototype[k].apply(N,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,R,w){w||(w=0);var N=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)N[k]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(k=0;16>k;++k)N[k]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=O.g[0],w=O.g[1],k=O.g[2];var x=O.g[3],C=R+(x^w&(k^x))+N[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=x+(k^R&(w^k))+N[1]+3905402710&4294967295,x=R+(C<<12&4294967295|C>>>20),C=k+(w^x&(R^w))+N[2]+606105819&4294967295,k=x+(C<<17&4294967295|C>>>15),C=w+(R^k&(x^R))+N[3]+3250441966&4294967295,w=k+(C<<22&4294967295|C>>>10),C=R+(x^w&(k^x))+N[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=x+(k^R&(w^k))+N[5]+1200080426&4294967295,x=R+(C<<12&4294967295|C>>>20),C=k+(w^x&(R^w))+N[6]+2821735955&4294967295,k=x+(C<<17&4294967295|C>>>15),C=w+(R^k&(x^R))+N[7]+4249261313&4294967295,w=k+(C<<22&4294967295|C>>>10),C=R+(x^w&(k^x))+N[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=x+(k^R&(w^k))+N[9]+2336552879&4294967295,x=R+(C<<12&4294967295|C>>>20),C=k+(w^x&(R^w))+N[10]+4294925233&4294967295,k=x+(C<<17&4294967295|C>>>15),C=w+(R^k&(x^R))+N[11]+2304563134&4294967295,w=k+(C<<22&4294967295|C>>>10),C=R+(x^w&(k^x))+N[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=x+(k^R&(w^k))+N[13]+4254626195&4294967295,x=R+(C<<12&4294967295|C>>>20),C=k+(w^x&(R^w))+N[14]+2792965006&4294967295,k=x+(C<<17&4294967295|C>>>15),C=w+(R^k&(x^R))+N[15]+1236535329&4294967295,w=k+(C<<22&4294967295|C>>>10),C=R+(k^x&(w^k))+N[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=x+(w^k&(R^w))+N[6]+3225465664&4294967295,x=R+(C<<9&4294967295|C>>>23),C=k+(R^w&(x^R))+N[11]+643717713&4294967295,k=x+(C<<14&4294967295|C>>>18),C=w+(x^R&(k^x))+N[0]+3921069994&4294967295,w=k+(C<<20&4294967295|C>>>12),C=R+(k^x&(w^k))+N[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=x+(w^k&(R^w))+N[10]+38016083&4294967295,x=R+(C<<9&4294967295|C>>>23),C=k+(R^w&(x^R))+N[15]+3634488961&4294967295,k=x+(C<<14&4294967295|C>>>18),C=w+(x^R&(k^x))+N[4]+3889429448&4294967295,w=k+(C<<20&4294967295|C>>>12),C=R+(k^x&(w^k))+N[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=x+(w^k&(R^w))+N[14]+3275163606&4294967295,x=R+(C<<9&4294967295|C>>>23),C=k+(R^w&(x^R))+N[3]+4107603335&4294967295,k=x+(C<<14&4294967295|C>>>18),C=w+(x^R&(k^x))+N[8]+1163531501&4294967295,w=k+(C<<20&4294967295|C>>>12),C=R+(k^x&(w^k))+N[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=x+(w^k&(R^w))+N[2]+4243563512&4294967295,x=R+(C<<9&4294967295|C>>>23),C=k+(R^w&(x^R))+N[7]+1735328473&4294967295,k=x+(C<<14&4294967295|C>>>18),C=w+(x^R&(k^x))+N[12]+2368359562&4294967295,w=k+(C<<20&4294967295|C>>>12),C=R+(w^k^x)+N[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=x+(R^w^k)+N[8]+2272392833&4294967295,x=R+(C<<11&4294967295|C>>>21),C=k+(x^R^w)+N[11]+1839030562&4294967295,k=x+(C<<16&4294967295|C>>>16),C=w+(k^x^R)+N[14]+4259657740&4294967295,w=k+(C<<23&4294967295|C>>>9),C=R+(w^k^x)+N[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=x+(R^w^k)+N[4]+1272893353&4294967295,x=R+(C<<11&4294967295|C>>>21),C=k+(x^R^w)+N[7]+4139469664&4294967295,k=x+(C<<16&4294967295|C>>>16),C=w+(k^x^R)+N[10]+3200236656&4294967295,w=k+(C<<23&4294967295|C>>>9),C=R+(w^k^x)+N[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=x+(R^w^k)+N[0]+3936430074&4294967295,x=R+(C<<11&4294967295|C>>>21),C=k+(x^R^w)+N[3]+3572445317&4294967295,k=x+(C<<16&4294967295|C>>>16),C=w+(k^x^R)+N[6]+76029189&4294967295,w=k+(C<<23&4294967295|C>>>9),C=R+(w^k^x)+N[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=x+(R^w^k)+N[12]+3873151461&4294967295,x=R+(C<<11&4294967295|C>>>21),C=k+(x^R^w)+N[15]+530742520&4294967295,k=x+(C<<16&4294967295|C>>>16),C=w+(k^x^R)+N[2]+3299628645&4294967295,w=k+(C<<23&4294967295|C>>>9),C=R+(k^(w|~x))+N[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=x+(w^(R|~k))+N[7]+1126891415&4294967295,x=R+(C<<10&4294967295|C>>>22),C=k+(R^(x|~w))+N[14]+2878612391&4294967295,k=x+(C<<15&4294967295|C>>>17),C=w+(x^(k|~R))+N[5]+4237533241&4294967295,w=k+(C<<21&4294967295|C>>>11),C=R+(k^(w|~x))+N[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=x+(w^(R|~k))+N[3]+2399980690&4294967295,x=R+(C<<10&4294967295|C>>>22),C=k+(R^(x|~w))+N[10]+4293915773&4294967295,k=x+(C<<15&4294967295|C>>>17),C=w+(x^(k|~R))+N[1]+2240044497&4294967295,w=k+(C<<21&4294967295|C>>>11),C=R+(k^(w|~x))+N[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=x+(w^(R|~k))+N[15]+4264355552&4294967295,x=R+(C<<10&4294967295|C>>>22),C=k+(R^(x|~w))+N[6]+2734768916&4294967295,k=x+(C<<15&4294967295|C>>>17),C=w+(x^(k|~R))+N[13]+1309151649&4294967295,w=k+(C<<21&4294967295|C>>>11),C=R+(k^(w|~x))+N[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=x+(w^(R|~k))+N[11]+3174756917&4294967295,x=R+(C<<10&4294967295|C>>>22),C=k+(R^(x|~w))+N[2]+718787259&4294967295,k=x+(C<<15&4294967295|C>>>17),C=w+(x^(k|~R))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+x&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var w=R-this.blockSize,N=this.B,k=this.h,x=0;x<R;){if(k==0)for(;x<=w;)a(this,O,x),x+=this.blockSize;if(typeof O=="string"){for(;x<R;)if(N[k++]=O.charCodeAt(x++),k==this.blockSize){a(this,N),k=0;break}}else for(;x<R;)if(N[k++]=O[x++],k==this.blockSize){a(this,N),k=0;break}}this.h=k,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var w=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=w&255,w/=256;for(this.u(O),O=Array(16),R=w=0;4>R;++R)for(var N=0;32>N;N+=8)O[w++]=this.g[R]>>>N&255;return O};function l(O,R){var w=d;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=R(O)}function c(O,R){this.h=R;for(var w=[],N=!0,k=O.length-1;0<=k;k--){var x=O[k]|0;N&&x==R||(w[k]=x,N=!1)}this.g=w}var d={};function p(O){return-128<=O&&128>O?l(O,function(R){return new c([R|0],0>R?-1:0)}):new c([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return B(g(-O));for(var R=[],w=1,N=0;O>=w;N++)R[N]=O/w|0,w*=4294967296;return new c(R,0)}function _(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return B(_(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),N=T,k=0;k<O.length;k+=8){var x=Math.min(8,O.length-k),C=parseInt(O.substring(k,k+x),R);8>x?(x=g(Math.pow(R,x)),N=N.j(x).add(g(C))):(N=N.j(w),N=N.add(g(C)))}return N}var T=p(0),b=p(1),M=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-B(this).m();for(var O=0,R=1,w=0;w<this.g.length;w++){var N=this.i(w);O+=(0<=N?N:4294967296+N)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(z(this))return"-"+B(this).toString(O);for(var R=g(Math.pow(O,6)),w=this,N="";;){var k=le(w,R).g;w=$(w,k.j(R));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=k,D(w))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function z(O){return O.h==-1}n.l=function(O){return O=$(this,O),z(O)?-1:D(O)?0:1};function B(O){for(var R=O.g.length,w=[],N=0;N<R;N++)w[N]=~O.g[N];return new c(w,~O.h).add(b)}n.abs=function(){return z(this)?B(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],N=0,k=0;k<=R;k++){var x=N+(this.i(k)&65535)+(O.i(k)&65535),C=(x>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);N=C>>>16,x&=65535,C&=65535,w[k]=C<<16|x}return new c(w,w[w.length-1]&-2147483648?-1:0)};function $(O,R){return O.add(B(R))}n.j=function(O){if(D(this)||D(O))return T;if(z(this))return z(O)?B(this).j(B(O)):B(B(this).j(O));if(z(O))return B(this.j(B(O)));if(0>this.l(M)&&0>O.l(M))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,w=[],N=0;N<2*R;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<O.g.length;k++){var x=this.i(N)>>>16,C=this.i(N)&65535,xe=O.i(k)>>>16,Le=O.i(k)&65535;w[2*N+2*k]+=C*Le,G(w,2*N+2*k),w[2*N+2*k+1]+=x*Le,G(w,2*N+2*k+1),w[2*N+2*k+1]+=C*xe,G(w,2*N+2*k+1),w[2*N+2*k+2]+=x*xe,G(w,2*N+2*k+2)}for(N=0;N<R;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=R;N<2*R;N++)w[N]=0;return new c(w,0)};function G(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function re(O,R){this.g=O,this.h=R}function le(O,R){if(D(R))throw Error("division by zero");if(D(O))return new re(T,T);if(z(O))return R=le(B(O),R),new re(B(R.g),B(R.h));if(z(R))return R=le(O,B(R)),new re(B(R.g),R.h);if(30<O.g.length){if(z(O)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var w=b,N=R;0>=N.l(O);)w=ee(w),N=ee(N);var k=pe(w,1),x=pe(N,1);for(N=pe(N,2),w=pe(w,2);!D(N);){var C=x.add(N);0>=C.l(O)&&(k=k.add(w),x=C),N=pe(N,1),w=pe(w,1)}return R=$(O,k.j(R)),new re(k,R)}for(k=T;0<=O.l(R);){for(w=Math.max(1,Math.floor(O.m()/R.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=g(w),C=x.j(R);z(C)||0<C.l(O);)w-=N,x=g(w),C=x.j(R);D(x)&&(x=b),k=k.add(x),O=$(O,C)}return new re(k,O)}n.A=function(O){return le(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],N=0;N<R;N++)w[N]=this.i(N)&O.i(N);return new c(w,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],N=0;N<R;N++)w[N]=this.i(N)|O.i(N);return new c(w,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],N=0;N<R;N++)w[N]=this.i(N)^O.i(N);return new c(w,this.h^O.h)};function ee(O){for(var R=O.g.length+1,w=[],N=0;N<R;N++)w[N]=O.i(N)<<1|O.i(N-1)>>>31;return new c(w,O.h)}function pe(O,R){var w=R>>5;R%=32;for(var N=O.g.length-w,k=[],x=0;x<N;x++)k[x]=0<R?O.i(x+w)>>>R|O.i(x+w+1)<<32-R:O.i(x+w);return new c(k,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,RS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,bs=c}).apply(typeof zT<"u"?zT:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CS,mu,IS,Ff,zm,DS,OS,NS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,v){return f==Array.prototype||f==Object.prototype||(f[y]=v.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var y=0;y<f.length;++y){var v=f[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var v=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var q=f[A];if(!(q in v))break e;v=v[q]}f=f[f.length-1],A=v[f],y=y(A),y!=A&&y!=null&&e(v,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var v=0,A=!1,q={next:function(){if(!A&&v<f.length){var X=v++;return{value:y(X,f[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,v){return f.call.apply(f.bind,arguments)}function T(f,y,v){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),f.apply(y,q)}}return function(){return f.apply(y,arguments)}}function b(f,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,b.apply(null,arguments)}function M(f,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function D(f,y){function v(){}v.prototype=y.prototype,f.aa=y.prototype,f.prototype=new v,f.prototype.constructor=f,f.Qb=function(A,q,X){for(var he=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)he[Ke-2]=arguments[Ke];return y.prototype[q].apply(A,he)}}function z(f){const y=f.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=f[A];return v}return[]}function B(f,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const q=f.length||0,X=A.length||0;f.length=q+X;for(let he=0;he<X;he++)f[q+he]=A[he]}else f.push(A)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(f){return/^[\s\xa0]*$/.test(f)}function re(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function le(f){return le[" "](f),f}le[" "]=function(){};var ee=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function pe(f,y,v){for(const A in f)y.call(v,f[A],A,f)}function O(f,y){for(const v in f)y.call(void 0,f[v],v,f)}function R(f){const y={};for(const v in f)y[v]=f[v];return y}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let v,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(v in A)f[v]=A[v];for(let X=0;X<w.length;X++)v=w[X],Object.prototype.hasOwnProperty.call(A,v)&&(f[v]=A[v])}}function k(f){var y=1;f=f.split(":");const v=[];for(;0<y&&f.length;)v.push(f.shift()),y--;return f.length&&v.push(f.join(":")),v}function x(f){d.setTimeout(()=>{throw f},0)}function C(){var f=Ue;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,v){const A=Le.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Le=new $(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ve=!1,Ue=new xe,P=()=>{const f=d.Promise.resolve(void 0);fe=()=>{f.then(oe)}};var oe=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(v){x(v)}var y=Le;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ve=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return f}();function Pe(f,y){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var v=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ee){e:{try{le(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=f.fromElement:v=="mouseout"&&(y=f.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Oe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Pe.aa.h.call(this)}}D(Pe,ce);var Oe={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function En(f,y,v,A,q){this.listener=f,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=q,this.key=++nt,this.da=this.fa=!1}function Jn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Rn(f){this.src=f,this.g={},this.h=0}Rn.prototype.add=function(f,y,v,A,q){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var he=Gr(f,y,A,q);return-1<he?(y=f[he],v||(y.fa=!1)):(y=new En(y,this.src,X,!!A,q),y.fa=v,f.push(y)),y};function _r(f,y){var v=y.type;if(v in f.g){var A=f.g[v],q=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(A,q,1),X&&(Jn(y),f.g[v].length==0&&(delete f.g[v],f.h--))}}function Gr(f,y,v,A){for(var q=0;q<f.length;++q){var X=f[q];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==A)return q}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),ks={};function Ls(f,y,v,A,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Ls(f,y[X],v,A,q);return null}return v=ge(v),f&&f[Tt]?f.K(y,v,g(A)?!!A.capture:!1,q):hn(f,y,v,!1,A,q)}function hn(f,y,v,A,q,X){if(!y)throw Error("Invalid event type");var he=g(q)?!!q.capture:!!q,Ke=K(f);if(Ke||(f[vr]=Ke=new Rn(f)),v=Ke.add(y,v,A,he,X),v.proxy)return v;if(A=nl(),v.proxy=A,A.src=f,A.listener=v,f.addEventListener)Se||(q=he),q===void 0&&(q=!1),f.addEventListener(y.toString(),A,q);else if(f.attachEvent)f.attachEvent(Er(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function nl(){function f(v){return y.call(f.src,f.listener,v)}const y=V;return f}function Us(f,y,v,A,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)Us(f,y[X],v,A,q);else A=g(A)?!!A.capture:!!A,v=ge(v),f&&f[Tt]?(f=f.i,y=String(y).toString(),y in f.g&&(X=f.g[y],v=Gr(X,v,A,q),-1<v&&(Jn(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete f.g[y],f.h--)))):f&&(f=K(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Gr(y,v,A,q)),(v=-1<f?y[f]:null)&&zs(v))}function zs(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Tt])_r(y.i,f);else{var v=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(v,A,f.capture):y.detachEvent?y.detachEvent(Er(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=K(y))?(_r(v,f),v.h==0&&(v.src=null,y[vr]=null)):Jn(f)}}}function Er(f){return f in ks?ks[f]:ks[f]="on"+f}function V(f,y){if(f.da)f=!0;else{y=new Pe(y,this);var v=f.listener,A=f.ha||f.src;f.fa&&zs(f),f=v.call(A,y)}return f}function K(f){return f=f[vr],f instanceof Rn?f:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(f){return typeof f=="function"?f:(f[Z]||(f[Z]=function(y){return f.handleEvent(y)}),f[Z])}function ue(){de.call(this),this.i=new Rn(this),this.M=this,this.F=null}D(ue,de),ue.prototype[Tt]=!0,ue.prototype.removeEventListener=function(f,y,v,A){Us(this,f,y,v,A)};function ne(f,y){var v,A=f.F;if(A)for(v=[];A;A=A.F)v.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new ce(y,f);else if(y instanceof ce)y.target=y.target||f;else{var q=y;y=new ce(A,f),N(y,q)}if(q=!0,v)for(var X=v.length-1;0<=X;X--){var he=y.g=v[X];q=me(he,A,!0,y)&&q}if(he=y.g=f,q=me(he,A,!0,y)&&q,q=me(he,A,!1,y)&&q,v)for(X=0;X<v.length;X++)he=y.g=v[X],q=me(he,A,!1,y)&&q}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var v=f.g[y],A=0;A<v.length;A++)Jn(v[A]);delete f.g[y],f.h--}}this.F=null},ue.prototype.K=function(f,y,v,A){return this.i.add(String(f),y,!1,v,A)},ue.prototype.L=function(f,y,v,A){return this.i.add(String(f),y,!0,v,A)};function me(f,y,v,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var he=y[X];if(he&&!he.da&&he.capture==v){var Ke=he.listener,kt=he.ha||he.src;he.fa&&_r(f.i,he),q=Ke.call(kt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Ce(f,y,v){if(typeof f=="function")v&&(f=b(f,v));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function ct(f){f.g=Ce(()=>{f.g=null,f.i&&(f.i=!1,ct(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Ct extends de{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(f){de.call(this),this.h=f,this.g={}}D(Kr,de);var er=[];function tr(f){pe(f.g,function(y,v){this.g.hasOwnProperty(v)&&zs(y)},f),f.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),tr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=d.JSON.stringify,Qr=d.JSON.parse,$r=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Li(){}Li.prototype.h=null;function rl(f){return f.h||(f.h=f.i())}function il(){}var Yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xr(){ce.call(this,"d")}D(Xr,ce);function sl(){ce.call(this,"c")}D(sl,ce);var Tr={},al=null;function Ui(){return al=al||new ue}Tr.La="serverreachability";function xa(f){ce.call(this,Tr.La,f)}D(xa,ce);function zi(f){const y=Ui();ne(y,new xa(y))}Tr.STAT_EVENT="statevent";function rc(f,y){ce.call(this,Tr.STAT_EVENT,f),this.stat=y}D(rc,ce);function dt(f){const y=Ui();ne(y,new rc(y,f))}Tr.Ma="timingevent";function Pt(f,y){ce.call(this,Tr.Ma,f),this.size=y}D(Pt,ce);function It(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function ol(f,y,v,A,q,X){f.info(function(){if(f.g)if(X)for(var he="",Ke=X.split("&"),kt=0;kt<Ke.length;kt++){var Qe=Ke[kt].split("=");if(1<Qe.length){var Ht=Qe[0];Qe=Qe[1];var Lt=Ht.split("_");he=2<=Lt.length&&Lt[1]=="type"?he+(Ht+"="+Qe+"&"):he+(Ht+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+v+`
`+he})}function nd(f,y,v,A,q,X,he){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+v+`
`+X+" "+he})}function Bi(f,y,v,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bs(f,v)+(A?" "+A:"")})}function ic(f,y){f.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function Bs(f,y){if(!f.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(f=0;f<v.length;f++)if(Array.isArray(v[f])){var A=v[f];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<q.length;he++)q[he]=""}}}}return Cn(v)}catch{return y}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},br;function Sr(){}D(Sr,Li),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},br=new Sr;function dn(f,y,v,A){this.j=f,this.i=y,this.l=v,this.R=A||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var ll={},Pa={};function nr(f,y,v){f.L=1,f.v=Gs(In(y)),f.m=v,f.P=!0,Zr(f,null)}function Zr(f,y){f.F=Date.now(),qs(f),f.A=In(f.v);var v=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),pl(v.i,"t",A),f.C=0,v=f.j.J,f.h=new bt,f.g=Ec(f.j,v?y:null,!f.m),0<f.O&&(f.M=new Ct(b(f.Y,f,f.g),f.O)),y=f.U,v=f.g,A=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(er[0]=q.toString()),q=er);for(var X=0;X<q.length;X++){var he=Ls(v,q[X],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),zi(),ol(f.i,f.u,f.A,f.l,f.R,f.m)}dn.prototype.ca=function(f){f=f.target;const y=this.M;y&&Hn(f)==3?y.j():this.Y(f)},dn.prototype.Y=function(f){try{if(f==this.g)e:{const Lt=Hn(this.g);var y=this.g.Ba();const ai=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||Lt!=4||y==7||(y==8||0>=ai?zi(3):zi(2)),Fi(this);var v=this.g.Z();this.X=v;t:if(sc(this)){var A=hc(this.g);f="";var q=A.length,X=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),Ar(this);var he="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,f+=this.h.i.decode(A[y],{stream:!(X&&y==q-1)});A.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=v==200,nd(this.i,this.u,this.A,this.l,this.R,Lt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,kt=this.g;if((Ke=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ke)){var Qe=Ke;break t}}Qe=null}if(v=Qe)Bi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fs(this,v);else{this.o=!1,this.s=3,dt(12),Yt(this),Ar(this);break e}}if(this.P){v=!0;let Xt;for(;!this.J&&this.C<he.length;)if(Xt=ac(this,he),Xt==Pa){Lt==4&&(this.s=4,dt(14),v=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==ll){this.s=4,dt(15),Bi(this.i,this.l,he,"[Invalid Chunk]"),v=!1;break}else Bi(this.i,this.l,Xt,null),Fs(this,Xt);if(sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||he.length!=0||this.h.h||(this.s=1,dt(16),v=!1),this.o=this.o&&v,!v)Bi(this.i,this.l,he,"[Invalid Chunked Response]"),Yt(this),Ar(this);else if(0<he.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Js(Ht),Ht.M=!0,dt(11))}}else Bi(this.i,this.l,he,null),Fs(this,he);Lt==4&&Yt(this),this.o&&!this.J&&(Lt==4?yc(this.j,this):(this.o=!1,qs(this)))}else od(this.g),v==400&&0<he.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Yt(this),Ar(this)}}}catch{}finally{}};function sc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ac(f,y){var v=f.C,A=y.indexOf(`
`,v);return A==-1?Pa:(v=Number(y.substring(v,A)),isNaN(v)?ll:(A+=1,A+v>y.length?Pa:(y=y.slice(A,A+v),f.C=A+v,y)))}dn.prototype.cancel=function(){this.J=!0,Yt(this)};function qs(f){f.S=Date.now()+f.I,oc(f,f.I)}function oc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=It(b(f.ba,f),y)}function Fi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}dn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ic(this.i,this.A),this.L!=2&&(zi(),dt(17)),Yt(this),this.s=2,Ar(this)):oc(this,this.S-f)};function Ar(f){f.j.G==0||f.J||yc(f.j,f)}function Yt(f){Fi(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,tr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Fs(f,y){try{var v=f.j;if(v.G!=0&&(v.g==f||ul(v.h,f))){if(!f.K&&ul(v.h,f)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<f.F)Qa(v),Ga(v);else break e;vl(v),dt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=It(b(v.Za,v),6e3));if(1>=La(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else si(v,11)}else if((f.K||v.g==f)&&Qa(v),!G(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let Qe=q[y];if(v.T=Qe[0],Qe=Qe[1],v.G==2)if(Qe[0]=="c"){v.K=Qe[1],v.ia=Qe[2];const Ht=Qe[3];Ht!=null&&(v.la=Ht,v.j.info("VER="+v.la));const Lt=Qe[4];Lt!=null&&(v.Aa=Lt,v.j.info("SVER="+v.Aa));const ai=Qe[5];ai!=null&&typeof ai=="number"&&0<ai&&(A=1.5*ai,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xt=f.g;if(Xt){const Nr=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var X=A.h;X.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ua(X,X.h),X.h=null))}if(A.D){const Tl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(A.ya=Tl,rt(A.I,A.D,Tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-f.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var he=f;if(A.qa=vc(A,A.J?A.ia:null,A.W),he.K){pn(A.h,he);var Ke=he,kt=A.L;kt&&(Ke.I=kt),Ke.B&&(Fi(Ke),qs(Ke)),A.g=he}else mc(A);0<v.i.length&&Ka(v)}else Qe[0]!="stop"&&Qe[0]!="close"||si(v,7);else v.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?si(v,7):yl(v):Qe[0]!="noop"&&v.l&&v.l.ta(Qe),v.v=0)}}zi(4)}catch{}}var lc=class{constructor(f,y){this.g=f,this.map=y}};function Jr(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function La(f){return f.h?1:f.g?f.g.size:0}function ul(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ua(f,y){f.g?f.g.add(y):f.h=y}function pn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Jr.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function cl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const v of f.g.values())y=y.concat(v.D);return y}return z(f.i)}function rd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var y=[],v=f.length,A=0;A<v;A++)y.push(f[A]);return y}y=[],v=0;for(A in f)y[v++]=f[A];return y}function za(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var y=[];f=f.length;for(var v=0;v<f;v++)y.push(v);return y}y=[],v=0;for(const A in f)y[v++]=A;return y}}}function fl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var v=za(f),A=rd(f),q=A.length,X=0;X<q;X++)y.call(void 0,A[X],v&&v[X],f)}var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function id(f,y){if(f){f=f.split("&");for(var v=0;v<f.length;v++){var A=f[v].indexOf("="),q=null;if(0<=A){var X=f[v].substring(0,A);q=f[v].substring(A+1)}else X=f[v];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Dt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Dt){this.h=f.h,Hs(this,f.j),this.o=f.o,this.g=f.g,ji(this,f.s),this.l=f.l;var y=f.i,v=new ti;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ei(this,v),this.m=f.m}else f&&(y=String(f).match(js))?(this.h=!1,Hs(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),ji(this,y[4]),this.l=qn(y[5]||"",!0),ei(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Dt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ks(y,hl,!0),":");var v=this.g;return(v||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ks(y,hl,!0),"@"),f.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&f.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&f.push("/"),f.push(Ks(v,v.charAt(0)=="/"?sd:dl,!0))),(v=this.i.toString())&&f.push("?",v),(v=this.m)&&f.push("#",Ks(v,Ba)),f.join("")};function In(f){return new Dt(f)}function Hs(f,y,v){f.j=v?qn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ji(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ei(f,y,v){y instanceof ti?(f.i=y,cc(f.i,f.h)):(v||(y=Ks(y,ad)),f.i=new ti(y,f.h))}function rt(f,y,v){f.i.set(y,v)}function Gs(f){return rt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function qn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ks(f,y,v){return typeof f=="string"?(f=encodeURI(f).replace(y,uc),v&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function uc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var hl=/[#\/\?@]/g,dl=/[#\?:]/g,sd=/[#\?]/g,ad=/[#\?@]/g,Ba=/#/g;function ti(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Fn(f){f.g||(f.g=new Map,f.h=0,f.i&&id(f.i,function(y,v){f.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=ti.prototype,n.add=function(f,y){Fn(this),this.i=null,f=wr(this,f);var v=this.g.get(f);return v||this.g.set(f,v=[]),v.push(y),this.h+=1,this};function ni(f,y){Fn(f),y=wr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function ri(f,y){return Fn(f),y=wr(f,y),f.g.has(y)}n.forEach=function(f,y){Fn(this),this.g.forEach(function(v,A){v.forEach(function(q){f.call(y,q,A,this)},this)},this)},n.na=function(){Fn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const q=f[A];for(let X=0;X<q.length;X++)v.push(y[A])}return v},n.V=function(f){Fn(this);let y=[];if(typeof f=="string")ri(this,f)&&(y=y.concat(this.g.get(wr(this,f))));else{f=Array.from(this.g.values());for(let v=0;v<f.length;v++)y=y.concat(f[v])}return y},n.set=function(f,y){return Fn(this),this.i=null,f=wr(this,f),ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function pl(f,y,v){ni(f,y),0<v.length&&(f.i=null,f.g.set(wr(f,y),z(v)),f.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const X=encodeURIComponent(String(A)),he=this.V(A);for(A=0;A<he.length;A++){var q=X;he[A]!==""&&(q+="="+encodeURIComponent(String(he[A]))),f.push(q)}}return this.i=f.join("&")};function wr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function cc(f,y){y&&!f.j&&(Fn(f),f.i=null,f.g.forEach(function(v,A){var q=A.toLowerCase();A!=q&&(ni(this,A),pl(this,q,v))},f)),f.j=y}function Qs(f,y){const v=new Bn;if(d.Image){const A=new Image;A.onload=M(jn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=M(jn,v,"TestLoadImage: error",!1,y,A),A.onabort=M(jn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=M(jn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function rr(f,y){const v=new Bn,A=new AbortController,q=setTimeout(()=>{A.abort(),jn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?jn(v,"TestPingServer: ok",!0,y):jn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),jn(v,"TestPingServer: error",!1,y)})}function jn(f,y,v,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(v)}catch{}}function $s(){this.g=new $r}function Rr(f,y,v){const A=v||"";try{fl(f,function(q,X){let he=q;g(q)&&(he=Cn(q)),y.push(A+X+"="+encodeURIComponent(he))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function Hi(f){this.l=f.Ub||null,this.j=f.eb||!1}D(Hi,Li),Hi.prototype.g=function(){return new ii(this.l,this.j)},Hi.prototype.i=function(f){return function(){return f}}({});function ii(f,y){ue.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ii,ue),n=ii.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Ir(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Cr(this):Ir(this),this.readyState==3&&ml(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Cr(this))},n.Qa=function(f){this.g&&(this.response=f,Cr(this))},n.ga=function(){this.g&&Cr(this)};function Cr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ir(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,f.push(v[0]+": "+v[1]),v=y.next();return f.join(`\r
`)};function Ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function gl(f){let y="";return pe(f,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function jt(f,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=gl(v),typeof f=="string"?v!=null&&encodeURIComponent(String(v)):rt(f,y,v))}function Ze(f){ue.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ze,ue);var qa=/^https?$/i,Ys=["POST","PUT"];n=Ze.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():br.g(),this.v=this.o?rl(this.o):rl(br),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(X){fc(this,X);return}if(f=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)v.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())v.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),q=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ys,y,void 0))||A||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of v)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){fc(this,X)}};function fc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Fa(f),Dr(f)}function Fa(f){f.A||(f.A=!0,ne(f,"complete"),ne(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ne(this,"complete"),ne(this,"abort"),Dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},n.bb=function(){ja(this)};function ja(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Hn(f)!=4||f.Z()!=2)){if(f.u&&Hn(f)==4)Ce(f.Ea,0,f);else if(ne(f,"readystatechange"),Hn(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=he===0){var q=String(f.D).match(js)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),A=!qa.test(q?q.toLowerCase():"")}v=A}if(v)ne(f,"complete"),ne(f,"success");else{f.m=6;try{var X=2<Hn(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",Fa(f)}}finally{Dr(f)}}}}function Dr(f,y){if(f.g){Xs(f);const v=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||ne(f,"ready");try{v.onreadystatechange=A}catch{}}}function Xs(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Hn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Qr(y)}};function hc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function od(f){const y={};f=(f.g&&2<=Hn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(G(f[A]))continue;var v=k(f[A]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[q]||[];y[q]=X,X.push(v)}O(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(f,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[f]||y}function Ha(f){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,f),this.cb=Ws("retryDelaySeedMs",1e4,f),this.Wa=Ws("forwardChannelMaxRetries",2,f),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Jr(f&&f.concurrentRequestLimit),this.Da=new $s,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ha.prototype,n.la=8,n.G=1,n.connect=function(f,y,v,A){dt(0),this.W=f,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=vc(this,null,this.W),Ka(this)};function yl(f){if(dc(f),f.G==3){var y=f.U++,v=In(f.I);if(rt(v,"SID",f.K),rt(v,"RID",y),rt(v,"TYPE","terminate"),Zs(f,v),y=new dn(f,f.j,y),y.L=2,y.v=Gs(In(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qs(y)}_c(f)}function Ga(f){f.g&&(Js(f),f.g.cancel(),f.g=null)}function dc(f){Ga(f),f.u&&(d.clearTimeout(f.u),f.u=null),Qa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ka(f){if(!ka(f.h)&&!f.s){f.s=!0;var y=f.Ga;fe||P(),ve||(fe(),ve=!0),Ue.add(y,f),f.B=0}}function ld(f,y){return La(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=It(b(f.Ga,f,y),El(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new dn(this,this.j,f);let X=this.o;if(this.S&&(X?(X=R(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=pc(this,q,y),v=In(this.I),rt(v,"RID",f),rt(v,"CVER",22),this.D&&rt(v,"X-HTTP-Session-Id",this.D),Zs(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(gl(X)))+"&"+y:this.m&&jt(v,this.m,X)),Ua(this.h,q),this.Ua&&rt(v,"TYPE","init"),this.P?(rt(v,"$req",y),rt(v,"SID","null"),q.T=!0,nr(q,v,null)):nr(q,v,y),this.G=2}}else this.G==3&&(f?_l(this,f):this.i.length==0||ka(this.h)||_l(this))};function _l(f,y){var v;y?v=y.l:v=f.U++;const A=In(f.I);rt(A,"SID",f.K),rt(A,"RID",v),rt(A,"AID",f.T),Zs(f,A),f.m&&f.o&&jt(A,f.m,f.o),v=new dn(f,f.j,v,f.B+1),f.m===null&&(v.H=f.o),y&&(f.i=y.D.concat(f.i)),y=pc(f,v,1e3),v.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ua(f.h,v),nr(v,A,y)}function Zs(f,y){f.H&&pe(f.H,function(v,A){rt(y,A,v)}),f.l&&fl({},function(v,A){rt(y,A,v)})}function pc(f,y,v){v=Math.min(f.i.length,v);var A=f.l?b(f.l.Na,f.l,f):null;e:{var q=f.i;let X=-1;for(;;){const he=["count="+v];X==-1?0<v?(X=q[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let Ke=!0;for(let kt=0;kt<v;kt++){let Qe=q[kt].g;const Ht=q[kt].map;if(Qe-=X,0>Qe)X=Math.max(0,q[kt].g-100),Ke=!1;else try{Rr(Ht,he,"req"+Qe+"_")}catch{A&&A(Ht)}}if(Ke){A=he.join("&");break e}}}return f=f.i.splice(0,v),y.D=f,A}function mc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;fe||P(),ve||(fe(),ve=!0),Ue.add(y,f),f.v=0}}function vl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=It(b(f.Fa,f),El(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=It(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ga(this),gc(this))};function Js(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function gc(f){f.g=new dn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=In(f.qa);rt(y,"RID","rpc"),rt(y,"SID",f.K),rt(y,"AID",f.T),rt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&rt(y,"TO",f.ja),rt(y,"TYPE","xmlhttp"),Zs(f,y),f.m&&f.o&&jt(y,f.m,f.o),f.L&&(f.g.I=f.L);var v=f.g;f=f.ia,v.L=1,v.v=Gs(In(y)),v.m=null,v.P=!0,Zr(v,f)}n.Za=function(){this.C!=null&&(this.C=null,Ga(this),vl(this),dt(19))};function Qa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function yc(f,y){var v=null;if(f.g==y){Qa(f),Js(f),f.g=null;var A=2}else if(ul(f.h,y))v=y.D,pn(f.h,y),A=1;else return;if(f.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=f.B;A=Ui(),ne(A,new Pt(A,v)),Ka(f)}else mc(f);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&ld(f,y)||A==2&&vl(f)))switch(v&&0<v.length&&(y=f.h,y.i=y.i.concat(v)),q){case 1:si(f,5);break;case 4:si(f,10);break;case 3:si(f,6);break;default:si(f,2)}}}function El(f,y){let v=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(v*=2),v*y}function si(f,y){if(f.j.info("Error code "+y),y==2){var v=b(f.fb,f),A=f.Xa;const q=!A;A=new Dt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hs(A,"https"),Gs(A),q?Qs(A.toString(),v):rr(A.toString(),v)}else dt(2);f.G=0,f.l&&f.l.sa(y),_c(f),dc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function _c(f){if(f.G=0,f.ka=[],f.l){const y=cl(f.h);(y.length!=0||f.i.length!=0)&&(B(f.ka,y),B(f.ka,f.i),f.h.i.length=0,z(f.i),f.i.length=0),f.l.ra()}}function vc(f,y,v){var A=v instanceof Dt?In(v):new Dt(v);if(A.g!="")y&&(A.g=y+"."+A.g),ji(A,A.s);else{var q=d.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new Dt(null);A&&Hs(X,A),y&&(X.g=y),q&&ji(X,q),v&&(X.l=v),A=X}return v=f.D,y=f.ya,v&&y&&rt(A,v,y),rt(A,"VER",f.la),Zs(f,A),A}function Ec(f,y,v){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ze(new Hi({eb:v})):new Ze(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}n=Tc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $a(){}$a.prototype.g=function(f,y){return new mn(f,y)};function mn(f,y){ue.call(this),this.g=new Ha(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!G(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Or(this)}D(mn,ue),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){yl(this.g)},mn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var v={};v.__data__=f,f=v}else this.u&&(v={},v.__data__=Cn(f),f=v);y.i.push(new lc(y.Ya++,f)),y.G==3&&Ka(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,mn.aa.N.call(this)};function bc(f){Xr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const v in y){f=v;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}D(bc,Xr);function Sc(){sl.call(this),this.status=1}D(Sc,sl);function Or(f){this.g=f}D(Or,Tc),Or.prototype.ua=function(){ne(this.g,"a")},Or.prototype.ta=function(f){ne(this.g,new bc(f))},Or.prototype.sa=function(f){ne(this.g,new Sc)},Or.prototype.ra=function(){ne(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,NS=function(){return new $a},OS=function(){return Ui()},DS=Tr,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Ff=qi,Wr.COMPLETE="complete",IS=Wr,il.EventType=Yr,Yr.OPEN="a",Yr.CLOSE="b",Yr.ERROR="c",Yr.MESSAGE="d",ue.prototype.listen=ue.prototype.K,mu=il,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,CS=Ze}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});const BT="@firebase/firestore",qT="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Sg("@firebase/firestore");function Ro(){return Ia.logLevel}function _e(n,...e){if(Ia.logLevel<=He.DEBUG){const t=e.map(Lg);Ia.debug(`Firestore (${Xo}): ${n}`,...t)}}function Oi(n,...e){if(Ia.logLevel<=He.ERROR){const t=e.map(Lg);Ia.error(`Firestore (${Xo}): ${n}`,...t)}}function Lo(n,...e){if(Ia.logLevel<=He.WARN){const t=e.map(Lg);Ia.warn(`Firestore (${Xo}): ${n}`,...t)}}function Lg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,MS(n,i,t)}function MS(n,e,t){let i=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Oi(i),new Error(i)}function Je(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||MS(e,a,i)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class XN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WN{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new VS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class ZN{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JN{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new ZN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const i=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new FT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=t2(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function Bm(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Be(i,a);{const l=xS(),c=n2(l.encode(jT(n,t)),l.encode(jT(e,t)));return c!==0?c:Be(i,a)}}t+=i>65535?2:1}return Be(n.length,e.length)}function jT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function n2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Be(n[t],e[t]);return Be(n.length,e.length)}function Uo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=-62135596800,GT=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*GT);return new qt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<HT)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GT}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-HT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new qt(0,0))}static max(){return new Me(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__name__";class Lr{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&De(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Lr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const i=Lr.isNumericId(e),a=Lr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Lr.extractNumericId(e).compare(Lr.extractNumericId(t)):Bm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class ht extends Lr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const r2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Lr{construct(e,t,i){return new nn(e,t,i)}static isValidIdentifier(e){return r2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KT}static keyField(){return new nn([KT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ht.fromString(e))}static fromName(e){return new Ae(ht.fromString(e).popFirst(5))}static empty(){return new Ae(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function i2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new qt(t+1,0):new qt(t,i));return new Rs(a,Ae.empty(),e)}function s2(n){return new Rs(n.readTime,n.key,Vu)}class Rs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Rs(Me.min(),Ae.empty(),Vu)}static max(){return new Rs(Me.max(),Ae.empty(),Vu)}}function a2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==o2)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(a=>a?ae.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{c[g]=_,++d,d===l&&i(c)},_=>a(_))}})}static doWhile(e,t){return new ae((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function u2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=-1;function kh(n){return n==null}function ah(n){return n===0&&1/n==-1/0}function c2(n){return typeof n=="number"&&Number.isInteger(n)&&!ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="";function f2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=QT(e)),e=h2(n.get(t),e);return QT(e)}function h2(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case kS:t+="";break;default:t+=l}}return t}function QT(n){return n+kS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new tn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Ft(nn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new US("Invalid base64 string: "+l):l}}(e);return new rn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const t=d2.exec(n);if(Je(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Is(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="server_timestamp",BS="__type__",qS="__previous_value__",FS="__local_write_time__";function zg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[BS])===null||t===void 0?void 0:t.stringValue)===zS}function Lh(n){const e=n.mapValue.fields[qS];return zg(e)?Lh(e):e}function xu(n){const e=Cs(n.mapValue.fields[FS].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,i,a,l,c,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const oh="(default)";class Pu{constructor(e,t){this.projectId=e,this.database=t||oh}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="__type__",m2="__max__",Of={mapValue:{}},HS="__vector__",lh="value";function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zg(n)?4:y2(n)?9007199254740991:g2(n)?10:11:De(28295,{value:n})}function jr(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xu(n).isEqual(xu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Cs(a.timestampValue),d=Cs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Is(a.bytesValue).isEqual(Is(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?ah(c)===ah(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Uo(n.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if($T(c)!==$T(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!jr(c[p],d[p])))return!1;return!0}(n,e);default:return De(52216,{left:n})}}function ku(n,e){return(n.values||[]).find(t=>jr(t,e))!==void 0}function zo(n,e){if(n===e)return 0;const t=Ds(n),i=Ds(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=wt(l.integerValue||l.doubleValue),p=wt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return XT(n.timestampValue,e.timestampValue);case 4:return XT(xu(n),xu(e));case 5:return Bm(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Is(l),p=Is(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Be(d[g],p[g]);if(_!==0)return _}return Be(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Be(wt(l.latitude),wt(c.latitude));return d!==0?d:Be(wt(l.longitude),wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return WT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,_;const T=l.fields||{},b=c.fields||{},M=(d=T[lh])===null||d===void 0?void 0:d.arrayValue,D=(p=b[lh])===null||p===void 0?void 0:p.arrayValue,z=Be(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:WT(M,D)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Of.mapValue&&c===Of.mapValue)return 0;if(l===Of.mapValue)return 1;if(c===Of.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=Bm(p[T],_[T]);if(b!==0)return b;const M=zo(d[p[T]],g[_[T]]);if(M!==0)return M}return Be(p.length,_.length)}(n.mapValue,e.mapValue);default:throw De(23264,{Pe:t})}}function XT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Cs(n),i=Cs(e),a=Be(t.seconds,i.seconds);return a!==0?a:Be(t.nanos,i.nanos)}function WT(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=zo(t[a],i[a]);if(l)return l}return Be(t.length,i.length)}function Bo(n){return qm(n)}function qm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Cs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Is(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=qm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${qm(t.fields[c])}`;return a+"}"}(n.mapValue):De(61005,{value:n})}function jf(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(n);return e?16+jf(e):16;case 5:return 2*n.stringValue.length;case 6:return Is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+jf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Vs(i.fields,(l,c)=>{a+=l.length+jf(c)}),a}(n.mapValue);default:throw De(13486,{value:n})}}function ZT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fm(n){return!!n&&"integerValue"in n}function Bg(n){return!!n&&"arrayValue"in n}function JT(n){return!!n&&"nullValue"in n}function e0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hf(n){return!!n&&"mapValue"in n}function g2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jS])===null||t===void 0?void 0:t.stringValue)===HS}function bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=bu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function y2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(t)}setAll(e){let t=nn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=bu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Hf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Hf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Vs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new wn(bu(this.value))}}function GS(n){const e=[];return Vs(n.fields,(t,i)=>{const a=new nn([t]);if(Hf(i)){const l=GS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Me.min(),Me.min(),Me.min(),wn.empty(),0)}static newFoundDocument(e,t,i,a){return new cn(e,1,t,Me.min(),i,a,0)}static newNoDocument(e,t){return new cn(e,2,t,Me.min(),Me.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Me.min(),Me.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.position=e,this.inclusive=t}}function t0(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=zo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function n0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t="asc"){this.field=e,this.dir=t}}function _2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{}class xt extends KS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new E2(e,t,i):t==="array-contains"?new S2(e,i):t==="in"?new A2(e,i):t==="not-in"?new w2(e,i):t==="array-contains-any"?new R2(e,i):new xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new T2(e,i):new b2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zo(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends KS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new pr(e,t)}matches(e){return QS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function QS(n){return n.op==="and"}function $S(n){return v2(n)&&QS(n)}function v2(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function jm(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Bo(n.value);if($S(n))return n.filters.map(e=>jm(e)).join(",");{const e=n.filters.map(t=>jm(t)).join(",");return`${n.op}(${e})`}}function YS(n,e){return n instanceof xt?function(i,a){return a instanceof xt&&i.op===a.op&&i.field.isEqual(a.field)&&jr(i.value,a.value)}(n,e):n instanceof pr?function(i,a){return a instanceof pr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&YS(c,a.filters[d]),!0):!1}(n,e):void De(19439)}function XS(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(n):n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(XS).join(" ,")+"}"}(n):"Filter"}class E2 extends xt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class T2 extends xt{constructor(e,t){super(e,"in",t),this.keys=WS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class b2 extends xt{constructor(e,t){super(e,"not-in",t),this.keys=WS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class S2 extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bg(t)&&ku(t.arrayValue,this.value)}}class A2 extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class w2 extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class R2 extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ku(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function r0(n,e=null,t=[],i=[],a=null,l=null,c=null){return new C2(n,e,t,i,a,l,c)}function qg(n){const e=Ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>jm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Bo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Bo(i)).join(",")),e.Ie=t}return e.Ie}function Fg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!n0(n.startAt,e.startAt)&&n0(n.endAt,e.endAt)}function Hm(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function I2(n,e,t,i,a,l,c,d){return new Jo(n,e,t,i,a,l,c,d)}function jg(n){return new Jo(n)}function i0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZS(n){return n.collectionGroup!==null}function Su(n){const e=Ve(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ft(nn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Lu(l,i))}),t.has(nn.keyField().canonicalString())||e.Ee.push(new Lu(nn.keyField(),i))}return e.Ee}function qr(n){const e=Ve(n);return e.de||(e.de=D2(e,Su(n))),e.de}function D2(n,e){if(n.limitType==="F")return r0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Lu(a.field,l)});const t=n.endAt?new uh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new uh(n.startAt.position,n.startAt.inclusive):null;return r0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Gm(n,e){const t=n.filters.concat([e]);return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ch(n,e,t){return new Jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Uh(n,e){return Fg(qr(n),qr(e))&&n.limitType===e.limitType}function JS(n){return`${qg(qr(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>XS(a)).join(", ")}]`),kh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Bo(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Bo(a)).join(",")),`Target(${i})`}(qr(n))}; limitType=${n.limitType})`}function zh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Su(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const g=t0(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,Su(i),a)||i.endAt&&!function(c,d,p){const g=t0(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,Su(i),a))}(n,e)}function O2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eA(n){return(e,t)=>{let i=!1;for(const a of Su(n)){const l=N2(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function N2(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?zo(p,g):De(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return LS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new _t(Ae.comparator);function Ni(){return M2}const tA=new _t(Ae.comparator);function gu(...n){let e=tA;for(const t of n)e=e.insert(t.key,t);return e}function nA(n){let e=tA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ea(){return Au()}function rA(){return Au()}function Au(){return new Ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const V2=new _t(Ae.comparator),x2=new Ft(Ae.comparator);function Ge(...n){let e=x2;for(const t of n)e=e.add(t);return e}const P2=new Ft(Be);function k2(){return P2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function iA(n){return{integerValue:""+n}}function L2(n,e){return c2(e)?iA(e):Hg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function U2(n,e,t){return n instanceof Uu?function(a,l){const c={fields:{[BS]:{stringValue:zS},[FS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&zg(l)&&(l=Lh(l)),l&&(c.fields[qS]=l),{mapValue:c}}(t,e):n instanceof zu?aA(n,e):n instanceof Bu?oA(n,e):function(a,l){const c=sA(a,l),d=s0(c)+s0(a.Re);return Fm(c)&&Fm(a.Re)?iA(d):Hg(a.serializer,d)}(n,e)}function z2(n,e,t){return n instanceof zu?aA(n,e):n instanceof Bu?oA(n,e):t}function sA(n,e){return n instanceof fh?function(i){return Fm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Uu extends Bh{}class zu extends Bh{constructor(e){super(),this.elements=e}}function aA(n,e){const t=lA(e);for(const i of n.elements)t.some(a=>jr(a,i))||t.push(i);return{arrayValue:{values:t}}}class Bu extends Bh{constructor(e){super(),this.elements=e}}function oA(n,e){let t=lA(e);for(const i of n.elements)t=t.filter(a=>!jr(a,i));return{arrayValue:{values:t}}}class fh extends Bh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function s0(n){return wt(n.integerValue||n.doubleValue)}function lA(n){return Bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t){this.field=e,this.transform=t}}function q2(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof zu&&a instanceof zu||i instanceof Bu&&a instanceof Bu?Uo(i.elements,a.elements,jr):i instanceof fh&&a instanceof fh?jr(i.Re,a.Re):i instanceof Uu&&a instanceof Uu}(n.transform,e.transform)}class F2{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qh{}function uA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gg(n.key,hr.none()):new Wu(n.key,n.data,hr.none());{const t=n.data,i=wn.empty();let a=new Ft(nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new xs(n.key,i,new Ln(a.toArray()),hr.none())}}function j2(n,e,t){n instanceof Wu?function(a,l,c){const d=a.value.clone(),p=o0(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof xs?function(a,l,c){if(!Gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=o0(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(cA(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function wu(n,e,t,i){return n instanceof Wu?function(l,c,d,p){if(!Gf(l.precondition,c))return d;const g=l.value.clone(),_=l0(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof xs?function(l,c,d,p){if(!Gf(l.precondition,c))return d;const g=l0(l.fieldTransforms,p,c),_=c.data;return _.setAll(cA(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return Gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function H2(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=sA(i.transform,a||null);l!=null&&(t===null&&(t=wn.empty()),t.set(i.field,l))}return t||null}function a0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Uo(i,a,(l,c)=>q2(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wu extends qh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xs extends qh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function o0(n,e,t){const i=new Map;Je(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,z2(c,d,t[a]))}return i}function l0(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,U2(l,c,e))}return i}class Gg extends qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&j2(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=wu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=wu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=uA(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(t,i)=>a0(t,i))&&Uo(this.baseMutations,e.baseMutations,(t,i)=>a0(t,i))}}class Kg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Je(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return V2}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Kg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ye;function Y2(n){switch(n){case ie.OK:return De(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function fA(n){if(n===void 0)return Oi("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Mt.OK:return ie.OK;case Mt.CANCELLED:return ie.CANCELLED;case Mt.UNKNOWN:return ie.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ie.INTERNAL;case Mt.UNAVAILABLE:return ie.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ie.NOT_FOUND;case Mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Mt.ABORTED:return ie.ABORTED;case Mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Mt.DATA_LOSS:return ie.DATA_LOSS;default:return De(39323,{code:n})}}(Ye=Mt||(Mt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new bs([4294967295,4294967295],0);function u0(n){const e=xS().encode(n),t=new RS;return t.update(e),new Uint8Array(t.digest())}function c0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new bs([t,i],0),new bs([a,l],0)]}class Qg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(i<0)throw new yu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=bs.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(bs.fromNumber(i)));return a.compare(X2)===1&&(a=new bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=u0(e),[i,a]=c0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Qg(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=u0(e),[i,a]=c0(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Fh(Me.min(),a,new _t(Be),Ni(),Ge())}}class Zu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Zu(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class hA{constructor(e,t){this.targetId=e,this.Ce=t}}class dA{constructor(e,t,i=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class f0{constructor(){this.Fe=0,this.Me=h0(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ge(),t=Ge(),i=Ge();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:De(38017,{changeType:l})}}),new Zu(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=h0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class W2{constructor(e){this.ze=e,this.je=new Map,this.He=Ni(),this.Je=Nf(),this.Ye=Nf(),this.Ze=new _t(Be)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Hm(l))if(i===0){const c=new Ae(l.path);this.tt(t,c,cn.newNoDocument(c,Me.min()))}else Je(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Is(i).toUint8Array()}catch(p){if(p instanceof US)return Lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Qg(c,a,l)}catch(p){return Lo(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Hm(d.target)){const p=new Ae(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,cn.newNoDocument(p,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=Ge();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Fh(e,t,this.Ze,this.He,i);return this.He=Ni(),this.Je=Nf(),this.Ye=Nf(),this.Ze=new _t(Be),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new f0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ft(Be),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ft(Be),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new f0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Nf(){return new _t(Ae.comparator)}function h0(){return new _t(Ae.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},J2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eM={and:"AND",or:"OR"};class tM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Km(n,e){return n.useProto3Json||kh(e)?e:{value:e}}function hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nM(n,e){return hh(n,e.toTimestamp())}function Fr(n){return Je(!!n,49232),Me.fromTimestamp(function(t){const i=Cs(t);return new qt(i.seconds,i.nanos)}(n))}function $g(n,e){return Qm(n,e).canonicalString()}function Qm(n,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mA(n){const e=ht.fromString(n);return Je(EA(e),10190,{key:e.toString()}),e}function $m(n,e){return $g(n.databaseId,e.path)}function vm(n,e){const t=mA(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(yA(t))}function gA(n,e){return $g(n.databaseId,e)}function rM(n){const e=mA(n);return e.length===4?ht.emptyPath():yA(e)}function Ym(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yA(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function d0(n,e,t){return{name:$m(n,e),fields:t.value.mapValue.fields}}function iM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(Je(_===void 0||typeof _=="string",58123),rn.fromBase64String(_||"")):(Je(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),rn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?ie.UNKNOWN:fA(g.code);return new ye(_,g.message||"")}(c);t=new dA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=vm(n,i.document.name),l=Fr(i.document.updateTime),c=i.document.createTime?Fr(i.document.createTime):Me.min(),d=new wn({mapValue:{fields:i.document.fields}}),p=cn.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new Kf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=vm(n,i.document),l=i.readTime?Fr(i.readTime):Me.min(),c=cn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Kf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=vm(n,i.document),l=i.removedTargetIds||[];t=new Kf([],l,a,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new $2(a,l),d=i.targetId;t=new hA(d,c)}}return t}function sM(n,e){let t;if(e instanceof Wu)t={update:d0(n,e.key,e.value)};else if(e instanceof Gg)t={delete:$m(n,e.key)};else if(e instanceof xs)t={update:d0(n,e.key,e.data),updateMask:pM(e.fieldMask)};else{if(!(e instanceof G2))return De(16599,{ft:e.type});t={verify:$m(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof fh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw De(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:nM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)}(n,e.precondition)),t}function aM(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Fr(a.updateTime):Fr(l);return c.isEqual(Me.min())&&(c=Fr(l)),new F2(c,a.transformResults||[])}(t,e))):[]}function oM(n,e){return{documents:[gA(n,e.path)]}}function lM(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=gA(n,a);const l=function(g){if(g.length!==0)return vA(pr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:Io(b.field),direction:fM(b.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Km(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function uM(n){let e=rM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Je(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const b=_A(T);return b instanceof pr&&$S(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(D){return new Lu(Do(D.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,kh(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(T){const b=!!T.before,M=T.values||[];return new uh(M,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,M=T.values||[];return new uh(M,b)}(t.endAt)),I2(e,a,c,l,d,"F",p,g)}function cM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _A(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Do(t.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Do(t.unaryFilter.field);return xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(t.unaryFilter.field);return xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(t.unaryFilter.field);return xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(n):n.fieldFilter!==void 0?function(t){return xt.create(Do(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pr.create(t.compositeFilter.filters.map(i=>_A(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(t.compositeFilter.op))}(n):De(30097,{filter:n})}function fM(n){return Z2[n]}function hM(n){return J2[n]}function dM(n){return eM[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Do(n){return nn.fromServerFormat(n.fieldPath)}function vA(n){return n instanceof xt?function(t){if(t.op==="=="){if(e0(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(JT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(e0(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(JT(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:hM(t.op),value:t.value}}}(n):n instanceof pr?function(t){const i=t.getFilters().map(a=>vA(a));return i.length===1?i[0]:{compositeFilter:{op:dM(t.op),filters:i}}}(n):De(54877,{filter:n})}function pM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,i,a,l=Me.min(),c=Me.min(),d=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.wt=e}}function gM(n){const e=uM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.yn=new _M}addToCollectionParentIndex(e,t){return this.yn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Rs.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class _M{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Ft(ht.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ft(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TA=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(TA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new qo(0)}static ir(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LruGarbageCollector",vM=1048576;function g0([n,e],[t,i]){const a=Be(n,t);return a===0?Be(e,i):a}class EM{constructor(e){this.cr=e,this.buffer=new Ft(g0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();g0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){_e(m0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?_e(m0,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.Ir(3e5)})}}class bM{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(Ph.le);const i=new EM(t);return this.Er.forEachTarget(e,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(p0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,a,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),Ro()<=He.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function SM(n,e){return new bM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.changes=new Ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&wu(i.mutation,a,Ln.empty(),qt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ge()){const a=Ea();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=gu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ea();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ge()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Ni();const c=Au(),d=function(){return Au()}();return t.forEach((p,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof xs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),wu(_.mutation,g,_.mutation.getFieldMask(),qt.now())):c.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var T;return d.set(g,new wM(_,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Au();let a=new _t((c,d)=>c-d),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||Ln.empty();_=d.applyToLocalView(g,_),i.set(p,_);const T=(a.get(d.batchId)||Ge()).add(p);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=rA();_.forEach(b=>{if(!l.has(b)){const M=uA(t.get(b),i.get(b));M!==null&&T.set(b,M),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ae.resolve(Ea());let d=Vu,p=l;return c.next(g=>ae.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ge())).next(_=>({batchId:d,changes:nA(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let a=gu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,p=>{const g=function(T,b){return new Jo(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(_=>{_.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,cn.newInvalidDocument(_)))});let d=gu();return c.forEach((p,g)=>{const _=l.get(p);_!==void 0&&wu(_.mutation,g,Ln.empty(),qt.now()),zh(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Fr(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:gM(a.bundledQuery),readTime:Fr(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.overlays=new _t(Ae.comparator),this.Or=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ea();return ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=Ea(),l=t.length+1,c=new Ae(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new _t((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Ea(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ea(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return ae.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Q2(t,i));let l=this.Or.get(t);l===void 0&&(l=Ge(),this.Or.set(t,l)),this.Or.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.Nr=new Ft($t.Br),this.Lr=new Ft($t.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new $t(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new $t(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ae(new ht([])),i=new $t(t,e),a=new $t(t,e+1),l=[];return this.Lr.forEachInRange([i,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ae(new ht([])),i=new $t(t,e),a=new $t(t,e+1);let l=Ge();return this.Lr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new $t(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ae.comparator(e.key,t.key)||Be(e.Gr,t.Gr)}static kr(e,t){return Be(e.Gr,t.Gr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ft($t.Br)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new K2(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new $t(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Hr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Ug:this.Jn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),a=new $t(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,a],c=>{const d=this.jr(c.Gr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ft(Be);return t.forEach(a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{i=i.add(d.Gr)})}),ae.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new $t(new Ae(l),0);let d=new Ft(Be);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Gr)),!0)},c),ae.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const a=this.jr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Je(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return ae.forEach(t.mutations,a=>{const l=new $t(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new $t(t,0),a=this.zr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.Zr=e,this.docs=function(){return new _t(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let i=Ni();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Ni();const c=t.path,d=new Ae(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||a2(s2(_),i)<=0||(a.has(_.key)||zh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,a){De(9500)}Xr(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new MM(this)}getSize(e){return ae.resolve(this.size)}}class MM extends AM{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.persistence=e,this.ei=new Ma(t=>qg(t),Fg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ti=0,this.ni=new Yg,this.targetCount=0,this.ri=qo.rr()}forEachTarget(e,t){return this.ei.forEach((i,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),ae.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.ar(t),ae.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t){this.ii={},this.overlays={},this.si=new Ph(0),this.oi=!1,this.oi=!0,this._i=new DM,this.referenceDelegate=e(this),this.ai=new VM(this),this.indexManager=new yM,this.remoteDocumentCache=function(a){return new NM(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new mM(t),this.ci=new CM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new OM(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){_e("MemoryPersistence","Starting transaction:",e);const a=new xM(this.si.next());return this.referenceDelegate.li(),i(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,t){return ae.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class xM extends l2{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Ti=new Yg,this.Ii=null}static Ei(e){return new Xg(e)}get di(){if(this.Ii)return this.Ii;throw De(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,i=>{const a=Ae.fromPath(i);return this.Ai(e,a).next(l=>{l||t.removeEntry(a,Me.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ae.or([()=>ae.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class dh{constructor(e,t){this.persistence=e,this.Ri=new Ma(i=>f2(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=SM(this,t)}static Ei(e,t){return new dh(e,t)}li(){}hi(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return ae.forEach(this.Ri,(i,a)=>this.gr(e,i,a).next(l=>l?ae.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Me.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jf(e.data.value)),t}gr(e,t,i){return ae.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=a}static Ps(e,t){let i=Ge(),a=Ge();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Wg(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return p1()?8:u2(fn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new PM;return this.fs(e,t,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>l.result)}gs(e,t,i,a){return i.documentReadCount<this.Es?(Ro()<=He.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ae.resolve()):(Ro()<=He.DEBUG&&_e("QueryEngine","Query:",Co(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Ro()<=He.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):ae.resolve())}Rs(e,t){if(i0(t))return ae.resolve(null);let i=qr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=ch(t,null,"F"),i=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ge(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.ps(t,d);return this.ys(t,g,c,p.readTime)?this.Rs(e,ch(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,i,a){return i0(t)||a.isEqual(Me.min())?ae.resolve(null):this.As.getDocuments(e,i).next(l=>{const c=this.ps(t,l);return this.ys(t,c,i,a)?ae.resolve(null):(Ro()<=He.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Co(t)),this.ws(e,c,t,i2(a,Vu)).next(d=>d))})}ps(e,t){let i=new Ft(eA(e));return t.forEach((a,l)=>{zh(e,l)&&(i=i.add(l))}),i}ys(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,t,i){return Ro()<=He.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Co(t)),this.As.getDocumentsMatchingQuery(e,t,Rs.min(),i)}ws(e,t,i,a){return this.As.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="LocalStore",LM=3e8;class UM{constructor(e,t,i,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new _t(Be),this.Ds=new Ma(l=>qg(l),Fg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function zM(n,e,t,i){return new UM(n,e,t,i)}async function SA(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Ge();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ms:g,removedBatchIds:c,addedBatchIds:d}))})})}function BM(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const T=g.batch,b=T.keys();let M=ae.resolve();return b.forEach(D=>{M=M.next(()=>_.getEntry(p,D)).next(z=>{const B=g.docVersions.get(D);Je(B!==null,48541),z.version.compareTo(B)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))})}),M.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Ge();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function AA(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function qM(n,e){const t=Ve(n),i=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((_,T)=>{const b=a.get(T);if(!b)return;d.push(t.ai.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.ai.addMatchingKeys(l,_.addedDocuments,T)));let M=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(rn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,i)),a=a.insert(T,M),function(z,B,$){return z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=LM?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(b,M,_)&&d.push(t.ai.updateTargetData(l,M))});let p=Ni(),g=Ge();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(FM(l,c,e.documentUpdates).next(_=>{p=_.xs,g=_.Os})),!i.isEqual(Me.min())){const _=t.ai.getLastRemoteSnapshotVersion(l).next(T=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ss=a,l))}function FM(n,e,t){let i=Ge(),a=Ge();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Ni();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):_e(Zg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:c,Os:a}})}function jM(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ug),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function HM(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.ai.getTargetData(i,e).next(l=>l?(a=l,ae.resolve(a)):t.ai.allocateTargetId(i).next(c=>(a=new _s(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function Xm(n,e,t){const i=Ve(n),a=i.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Zo(c))throw c;_e(Zg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(a.target)}function y0(n,e,t){const i=Ve(n);let a=Me.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const T=Ve(p),b=T.Ds.get(_);return b!==void 0?ae.resolve(T.Ss.get(b)):T.ai.getTargetData(g,_)}(i,c,qr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?a:Me.min(),t?l:Ge())).next(d=>(GM(i,O2(e),d),{documents:d,Ns:l})))}function GM(n,e,t){let i=n.vs.get(e)||Me.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.vs.set(e,i)}class _0{constructor(){this.activeTargetIds=k2()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KM{constructor(){this.So=new _0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new _0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="ConnectivityMonitor";class E0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){_e(v0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){_e(v0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function Wm(){return Mf===null?Mf=function(){return 268435456+Math.round(2147483648*Math.random())}():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",$M={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YM{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===oh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(e,t,i,a,l){const c=Wm(),d=this.$o(e,t.toUriEncodedString());_e(Em,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,a,l);const{host:g}=new URL(d),_=Nh(g);return this.Ko(e,d,p,i,_).then(T=>(_e(Em,`Received RPC '${e}' ${c}: `,T),T),T=>{throw Lo(Em,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T})}Wo(e,t,i,a,l,c){return this.Qo(e,t,i,a,l)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}$o(e,t){const i=$M[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class WM extends YM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,a,l){const c=Wm();return new Promise((d,p)=>{const g=new CS;g.setWithCredentials(!0),g.listenOnce(IS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ff.NO_ERROR:const T=g.getResponseJson();_e(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Ff.TIMEOUT:_e(on,`RPC '${e}' ${c} timed out`),p(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const b=g.getStatus();if(_e(on,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const D=M==null?void 0:M.error;if(D&&D.status&&D.message){const z=function($){const G=$.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(G)>=0?G:ie.UNKNOWN}(D.status);p(new ye(z,D.message))}else p(new ye(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:De(9055,{s_:e,streamId:c,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{_e(on,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);_e(on,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,i,15)})}a_(e,t,i){const a=Wm(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=NS(),d=OS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");_e(on,`Creating RPC '${e}' stream ${a}: ${_}`,p);const T=c.createWebChannel(_,p);let b=!1,M=!1;const D=new XM({Go:B=>{M?_e(on,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(b||(_e(on,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),_e(on,`RPC '${e}' stream ${a} sending:`,B),T.send(B))},zo:()=>T.close()}),z=(B,$,G)=>{B.listen($,re=>{try{G(re)}catch(le){setTimeout(()=>{throw le},0)}})};return z(T,mu.EventType.OPEN,()=>{M||(_e(on,`RPC '${e}' stream ${a} transport opened.`),D.t_())}),z(T,mu.EventType.CLOSE,()=>{M||(M=!0,_e(on,`RPC '${e}' stream ${a} transport closed`),D.r_())}),z(T,mu.EventType.ERROR,B=>{M||(M=!0,Lo(on,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),D.r_(new ye(ie.UNAVAILABLE,"The operation could not be completed")))}),z(T,mu.EventType.MESSAGE,B=>{var $;if(!M){const G=B.data[0];Je(!!G,16349);const re=G,le=(re==null?void 0:re.error)||(($=re[0])===null||$===void 0?void 0:$.error);if(le){_e(on,`RPC '${e}' stream ${a} received error:`,le);const ee=le.status;let pe=function(w){const N=Mt[w];if(N!==void 0)return fA(N)}(ee),O=le.message;pe===void 0&&(pe=ie.INTERNAL,O="Unknown error status: "+ee+" with message "+le.message),M=!0,D.r_(new ye(pe,O)),T.close()}else _e(on,`RPC '${e}' stream ${a} received:`,G),D.i_(G)}}),z(d,DS.STAT_EVENT,B=>{B.stat===zm.PROXY?_e(on,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===zm.NOPROXY&&_e(on,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n){return new tM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,i=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-i);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class RA{constructor(e,t,i,a,l,c,d,p){this.bi=e,this.R_=i,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new wA(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===t&&this.B_(i,a)},i=>{e(()=>{const a=new ye(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return _e(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(_e(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZM extends RA{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=iM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?Fr(c.readTime):Me.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=Ym(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Hm(p)?{documents:oM(l,p)}:{query:lM(l,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=pA(l,c.resumeToken);const g=Km(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Me.min())>0){d.readTime=hh(l,c.snapshotVersion.toTimestamp());const g=Km(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=cM(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=Ym(this.serializer),t.removeTarget=e,this.F_(t)}}class JM extends RA{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=aM(e.writeResults,e.commitTime),i=Fr(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=Ym(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>sM(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{}class tV extends eV{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,Qm(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ie.UNKNOWN,l.toString())})}Wo(e,t,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Qm(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ie.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class nV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Oi(t),this.ea=!1):_e("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class rV{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{Va(this)&&(_e(Da,"Restarting streams for network reachability change."),await async function(p){const g=Ve(p);g.aa.add(4),await Ju(g),g.la.set("Unknown"),g.aa.delete(4),await Hh(g)}(this))})}),this.la=new nV(i,a)}}async function Hh(n){if(Va(n))for(const e of n.ua)await e(!0)}async function Ju(n){for(const e of n.ua)await e(!1)}function CA(n,e){const t=Ve(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),ny(t)?ty(t):el(t).b_()&&ey(t,e))}function Jg(n,e){const t=Ve(n),i=el(t);t._a.delete(e),i.b_()&&IA(t,e),t._a.size===0&&(i.b_()?i.v_():Va(t)&&t.la.set("Unknown"))}function ey(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(n).U_(e)}function IA(n,e){n.ha.Ke(e),el(n).K_(e)}function ty(n){n.ha=new W2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),el(n).start(),n.la.ta()}function ny(n){return Va(n)&&!el(n).w_()&&n._a.size>0}function Va(n){return Ve(n).aa.size===0}function DA(n){n.ha=void 0}async function iV(n){n.la.set("Online")}async function sV(n){n._a.forEach((e,t)=>{ey(n,e)})}async function aV(n,e){DA(n),ny(n)?(n.la.ia(e),ty(n)):n.la.set("Unknown")}async function oV(n,e,t){if(n.la.set("Online"),e instanceof dA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(i){_e(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ph(n,i)}else if(e instanceof Kf?n.ha.Xe(e):e instanceof hA?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Me.min()))try{const i=await AA(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l._a.get(g);_&&l._a.set(g,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const _=l._a.get(p);if(!_)return;l._a.set(p,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),IA(l,p);const T=new _s(_.target,p,g,_.sequenceNumber);ey(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){_e(Da,"Failed to raise snapshot:",i),await ph(n,i)}}async function ph(n,e,t){if(!Zo(e))throw e;n.aa.add(1),await Ju(n),n.la.set("Offline"),t||(t=()=>AA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e(Da,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Hh(n)})}function OA(n,e){return e().catch(t=>ph(n,t,e))}async function Gh(n){const e=Ve(n),t=Os(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Ug;for(;lV(e);)try{const a=await jM(e.localStore,i);if(a===null){e.oa.length===0&&t.v_();break}i=a.batchId,uV(e,a)}catch(a){await ph(e,a)}NA(e)&&MA(e)}function lV(n){return Va(n)&&n.oa.length<10}function uV(n,e){n.oa.push(e);const t=Os(n);t.b_()&&t.W_&&t.G_(e.mutations)}function NA(n){return Va(n)&&!Os(n).w_()&&n.oa.length>0}function MA(n){Os(n).start()}async function cV(n){Os(n).H_()}async function fV(n){const e=Os(n);for(const t of n.oa)e.G_(t.mutations)}async function hV(n,e,t){const i=n.oa.shift(),a=Kg.from(i,e,t);await OA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Gh(n)}async function dV(n,e){e&&Os(n).W_&&await async function(i,a){if(function(c){return Y2(c)&&c!==ie.ABORTED}(a.code)){const l=i.oa.shift();Os(i).D_(),await OA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Gh(i)}}(n,e),NA(n)&&MA(n)}async function b0(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),_e(Da,"RemoteStore received new credentials");const i=Va(t);t.aa.add(3),await Ju(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Hh(t)}async function pV(n,e){const t=Ve(n);e?(t.aa.delete(2),await Hh(t)):e||(t.aa.add(2),await Ju(t),t.la.set("Unknown"))}function el(n){return n.Pa||(n.Pa=function(t,i,a){const l=Ve(t);return l.Y_(),new ZM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:iV.bind(null,n),Jo:sV.bind(null,n),Zo:aV.bind(null,n),Q_:oV.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),ny(n)?ty(n):n.la.set("Unknown")):(await n.Pa.stop(),DA(n))})),n.Pa}function Os(n){return n.Ta||(n.Ta=function(t,i,a){const l=Ve(t);return l.Y_(),new JM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:cV.bind(null,n),Zo:dV.bind(null,n),z_:fV.bind(null,n),j_:hV.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Gh(n)):(await n.Ta.stop(),n.oa.length>0&&(_e(Da,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new ry(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(n,e){if(Oi("AsyncQueue",`${e}: ${n}`),Zo(n))return new ye(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=gu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new xo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.Ia=new _t(Ae.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):De(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class Fo{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Fo(e,t,xo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class gV{constructor(){this.queries=A0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const a=Ve(t),l=a.queries;a.queries=A0(),l.forEach((c,d)=>{for(const p of d.Ra)p.onError(i)})})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function A0(){return new Ma(n=>JS(n),Uh)}async function VA(n,e){const t=Ve(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Va()&&e.ma()&&(i=2):(l=new mV,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await t.onListen(a,!0);break;case 1:l.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=iy(c,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&sy(t)}async function xA(n,e){const t=Ve(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function yV(n,e){const t=Ve(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Ra)d.pa(a)&&(i=!0);c.Aa=a}}i&&sy(t)}function _V(n,e,t){const i=Ve(n),a=i.queries.get(e);if(a)for(const l of a.Ra)l.onError(t);i.queries.delete(e)}function sy(n){n.fa.forEach(e=>{e.next()})}var Zm,w0;(w0=Zm||(Zm={})).ya="default",w0.Cache="cache";class PA{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Fo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class LA{constructor(e){this.key=e}}class vV{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ge(),this.mutatedKeys=Ge(),this.Ua=eA(e),this.Ka=new xo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new S0,a=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const b=a.get(_),M=zh(this.query,T)?T:null,D=!!b&&this.mutatedKeys.has(b.key),z=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;b&&M?b.data.isEqual(M.data)?D!==z&&(i.track({type:3,doc:M}),B=!0):this.ja(b,M)||(i.track({type:2,doc:M}),B=!0,(p&&this.Ua(M,p)>0||g&&this.Ua(M,g)<0)&&(d=!0)):!b&&M?(i.track({type:0,doc:M}),B=!0):b&&!M&&(i.track({type:1,doc:b}),B=!0,(p||g)&&(d=!0)),B&&(M?(c=c.add(M),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{Ka:c,za:i,ys:d,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((_,T)=>function(M,D){const z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:B})}};return z(M)-z(D)}(_.type,T.type)||this.Ua(_.doc,T.doc)),this.Ha(i),a=a!=null&&a;const d=t&&!a?this.Ja():[],p=this.$a.size===0&&this.current&&!a?1:0,g=p!==this.Qa;return this.Qa=p,c.length!==0||g?{snapshot:new Fo(this.query,e.Ka,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new S0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ge(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new LA(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new kA(i))}),t}Xa(e){this.qa=e.Ns,this.$a=Ge();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Fo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const ay="SyncEngine";class EV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TV{constructor(e){this.key=e,this.tu=!1}}class bV{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ma(d=>JS(d),Uh),this.iu=new Map,this.su=new Set,this.ou=new _t(Ae.comparator),this._u=new Map,this.au=new Yg,this.uu={},this.cu=new Map,this.lu=qo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function SV(n,e,t=!0){const i=jA(n);let a;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await UA(i,e,t,!0),a}async function AV(n,e){const t=jA(n);await UA(t,e,!0,!1)}async function UA(n,e,t,i){const a=await HM(n.localStore,qr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await wV(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&CA(n.remoteStore,a),d}async function wV(n,e,t,i,a){n.Pu=(T,b,M)=>async function(z,B,$,G){let re=B.view.Ga($);re.ys&&(re=await y0(z.localStore,B.query,!1).then(({documents:O})=>B.view.Ga(O,re)));const le=G&&G.targetChanges.get(B.targetId),ee=G&&G.targetMismatches.get(B.targetId)!=null,pe=B.view.applyChanges(re,z.isPrimaryClient,le,ee);return C0(z,B.targetId,pe.Ya),pe.snapshot}(n,T,b,M);const l=await y0(n.localStore,e,!0),c=new vV(e,l.Ns),d=c.Ga(l.documents),p=Zu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);C0(n,t,g.Ya);const _=new EV(e,t,c);return n.ru.set(e,_),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),g.snapshot}async function RV(n,e,t){const i=Ve(n),a=i.ru.get(e),l=i.iu.get(a.targetId);if(l.length>1)return i.iu.set(a.targetId,l.filter(c=>!Uh(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Xm(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Jg(i.remoteStore,a.targetId),Jm(i,a.targetId)}).catch(Wo)):(Jm(i,a.targetId),await Xm(i.localStore,a.targetId,!0))}async function CV(n,e){const t=Ve(n),i=t.ru.get(e),a=t.iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Jg(t.remoteStore,i.targetId))}async function IV(n,e,t){const i=PV(n);try{const a=await function(c,d){const p=Ve(c),g=qt.now(),_=d.reduce((M,D)=>M.add(D.key),Ge());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let D=Ni(),z=Ge();return p.Cs.getEntries(M,_).next(B=>{D=B,D.forEach(($,G)=>{G.isValidDocument()||(z=z.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,D)).next(B=>{T=B;const $=[];for(const G of d){const re=H2(G,T.get(G.key).overlayedDocument);re!=null&&$.push(new xs(G.key,re,GS(re.value.mapValue),hr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,$,d)}).next(B=>{b=B;const $=B.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(M,B.batchId,$)})}).then(()=>({batchId:b.batchId,changes:nA(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.uu[c.currentUser.toKey()];g||(g=new _t(Be)),g=g.insert(d,p),c.uu[c.currentUser.toKey()]=g}(i,a.batchId,t),await ec(i,a.changes),await Gh(i.remoteStore)}catch(a){const l=iy(a,"Failed to persist write");t.reject(l)}}async function zA(n,e){const t=Ve(n);try{const i=await qM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t._u.get(l);c&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Je(c.tu,14607):a.removedDocuments.size>0&&(Je(c.tu,42227),c.tu=!1))}),await ec(t,i,e)}catch(i){await Wo(i)}}function R0(n,e,t){const i=Ve(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ve(c);p.onlineState=d;let g=!1;p.queries.forEach((_,T)=>{for(const b of T.Ra)b.ga(d)&&(g=!0)}),g&&sy(p)}(i.eventManager,e),a.length&&i.nu.Q_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function DV(n,e,t){const i=Ve(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i._u.get(e),l=a&&a.key;if(l){let c=new _t(Ae.comparator);c=c.insert(l,cn.newNoDocument(l,Me.min()));const d=Ge().add(l),p=new Fh(Me.min(),new Map,new _t(Be),c,d);await zA(i,p),i.ou=i.ou.remove(l),i._u.delete(e),oy(i)}else await Xm(i.localStore,e,!1).then(()=>Jm(i,e,t)).catch(Wo)}async function OV(n,e){const t=Ve(n),i=e.batch.batchId;try{const a=await BM(t.localStore,e);qA(t,i,null),BA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ec(t,a)}catch(a){await Wo(a)}}async function NV(n,e,t){const i=Ve(n);try{const a=await function(c,d){const p=Ve(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Je(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);qA(i,e,t),BA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ec(i,a)}catch(a){await Wo(a)}}function BA(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function qA(n,e,t){const i=Ve(n);let a=i.uu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.uu[i.currentUser.toKey()]=a}}function Jm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||FA(n,i)})}function FA(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Jg(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),oy(n))}function C0(n,e,t){for(const i of t)i instanceof kA?(n.au.addReference(i.key,e),MV(n,i)):i instanceof LA?(_e(ay,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||FA(n,i.key)):De(19791,{Iu:i})}function MV(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(_e(ay,"New document in limbo: "+t),n.su.add(i),oy(n))}function oy(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ae(ht.fromString(e)),i=n.lu.next();n._u.set(i,new TV(t)),n.ou=n.ou.insert(t,i),CA(n.remoteStore,new _s(qr(jg(t.path)),i,"TargetPurposeLimboResolution",Ph.le))}}async function ec(n,e,t){const i=Ve(n),a=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,p)=>{c.push(i.Pu(p,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){a.push(g);const T=Wg.Ps(p.targetId,g);l.push(T)}}))}),await Promise.all(c),i.nu.Q_(a),await async function(p,g){const _=Ve(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ae.forEach(g,b=>ae.forEach(b.ls,M=>_.persistence.referenceDelegate.addReference(T,b.targetId,M)).next(()=>ae.forEach(b.hs,M=>_.persistence.referenceDelegate.removeReference(T,b.targetId,M)))))}catch(T){if(!Zo(T))throw T;_e(Zg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const M=_.Ss.get(b),D=M.snapshotVersion,z=M.withLastLimboFreeSnapshotVersion(D);_.Ss=_.Ss.insert(b,z)}}}(i.localStore,l))}async function VV(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){_e(ay,"User change. New user:",e.toKey());const i=await SA(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(p=>{p.reject(new ye(ie.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ec(t,i.Ms)}}function xV(n,e){const t=Ve(n),i=t._u.get(e);if(i&&i.tu)return Ge().add(i.key);{let a=Ge();const l=t.iu.get(e);if(!l)return a;for(const c of l){const d=t.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}function jA(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DV.bind(null,e),e.nu.Q_=yV.bind(null,e.eventManager),e.nu.Tu=_V.bind(null,e.eventManager),e}function PV(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NV.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return zM(this.persistence,new kM,e.initialUser,this.serializer)}Ru(e){return new bA(Xg.Ei,this.serializer)}Au(e){return new KM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class kV extends mh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Je(this.persistence.referenceDelegate instanceof dh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new TM(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new bA(i=>dh.Ei(i,t),this.serializer)}}class eg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>R0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=VV.bind(null,this.syncEngine),await pV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gV}()}createDatastore(e){const t=jh(e.databaseInfo.databaseId),i=function(l){return new WM(l)}(e.databaseInfo);return function(l,c,d,p){return new tV(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new rV(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>R0(this.syncEngine,t,0),function(){return E0.C()?new E0:new QM}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,_){const T=new bV(a,l,c,d,p,g);return _&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ve(a);_e(Da,"RemoteStore shutting down."),l.aa.add(5),await Ju(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class LV{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=PS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{_e(Ns,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(_e(Ns,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=iy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function bm(n,e){n.asyncQueue.verifyOperationInProgress(),_e(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await SA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function I0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await UV(n);_e(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>b0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>b0(e.remoteStore,a)),n._onlineComponents=e}async function UV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(Ns,"Using user provided OfflineComponentProvider");try{await bm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),await bm(n,new mh)}}else _e(Ns,"Using default OfflineComponentProvider"),await bm(n,new kV(void 0));return n._offlineComponents}async function GA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(Ns,"Using user provided OnlineComponentProvider"),await I0(n,n._uninitializedComponentsProvider._online)):(_e(Ns,"Using default OnlineComponentProvider"),await I0(n,new eg))),n._onlineComponents}function zV(n){return GA(n).then(e=>e.syncEngine)}async function KA(n){const e=await GA(n),t=e.eventManager;return t.onListen=SV.bind(null,e.syncEngine),t.onUnlisten=RV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CV.bind(null,e.syncEngine),t}function BV(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new HA({next:b=>{_.yu(),c.enqueueAndForget(()=>xA(l,T));const M=b.docs.has(d);!M&&b.fromCache?g.reject(new ye(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&p&&p.source==="server"?g.reject(new ye(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new PA(jg(d.path),_,{includeMetadataChanges:!0,Fa:!0});return VA(l,T)}(await KA(n),n.asyncQueue,e,t,i)),i.promise}function qV(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new HA({next:b=>{_.yu(),c.enqueueAndForget(()=>xA(l,T)),b.fromCache&&p.source==="server"?g.reject(new ye(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new PA(d,_,{includeMetadataChanges:!0,Fa:!0});return VA(l,T)}(await KA(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n,e,t){if(!t)throw new ye(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FV(n,e,t,i){if(e===!0&&i===!0)throw new ye(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function O0(n){if(!Ae.isDocumentKey(n))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function N0(n){if(Ae.isDocumentKey(n))throw new ye(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Hr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kh(n);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jV(n,e){if(e<=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore.googleapis.com",M0=!0;class V0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=M0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:M0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vM)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new YN;switch(i.type){case"firstParty":return new JN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=D0.get(t);i&&(_e("ComponentProvider","Removing Datastore"),D0.delete(t),i.terminate())}(this),Promise.resolve()}}function HV(n,e,t,i={}){var a;n=Hr(n,Qh);const l=Nh(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&zb(`https://${p}`),c.host!==YA&&c.host!==p&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Sa(g,d)&&(n._setSettings(g),i.mockUserToken)){let _,T;if(typeof i.mockUserToken=="string")_=i.mockUserToken,T=un.MOCK_USER;else{_=o1(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new un(b)}n._authCredentials=new XN(new VS(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ss extends Ps{constructor(e,t,i){super(e,t,jg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Ae(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function _k(n,e,...t){if(n=yt(n),$A("collection","path",e),n instanceof Qh){const i=ht.fromString(e,...t);return N0(i),new Ss(n,null,i)}{if(!(n instanceof vn||n instanceof Ss))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return N0(i),new Ss(n.firestore,null,i)}}function vk(n,e,...t){if(n=yt(n),arguments.length===1&&(e=PS.newId()),$A("doc","path",e),n instanceof Qh){const i=ht.fromString(e,...t);return O0(i),new vn(n,null,new Ae(i))}{if(!(n instanceof vn||n instanceof Ss))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return O0(i),new vn(n.firestore,n instanceof Ss?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="AsyncQueue";class P0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new wA(this,"async_queue_retry"),this.ju=()=>{const i=Tm();i&&_e(x0,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=Tm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Tm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new wi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Zo(e))throw e;_e(x0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Oi("INTERNAL UNHANDLED ERROR: ",k0(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=ry.createAndSchedule(this,e,t,i,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&De(47125,{ec:k0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function k0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class tl extends Qh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new P0,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P0(e),this._firestoreClient=void 0,await e}}}function Ek(n,e){const t=typeof n=="object"?n:Fb(),i=typeof n=="string"?n:oh,a=wg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=s1("firestore");l&&HV(a,...l)}return a}function ly(n){if(n._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GV(n),n._firestoreClient}function GV(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,g,_){return new p2(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,QA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new LV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(rn.fromBase64String(e))}catch(t){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jo(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=/^__.*__$/;class QV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wu(e,this.data,t,this.fieldTransforms)}}class XA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{oc:n})}}class fy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a.lc(e),a}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return gh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(WA(this.oc)&&KV.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class $V{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||jh(e)}dc(e,t,i,a=!1){return new fy({oc:e,methodName:t,Ec:i,path:nn.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hy(n){const e=n._freezeSettings(),t=jh(n._databaseId);return new $V(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YV(n,e,t,i,a,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,a);py("Data must be an object, but it was:",c,i);const d=ZA(i,c);let p,g;if(l.merge)p=new Ln(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const b=tg(e,T,t);if(!c.contains(b))throw new ye(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ew(_,b)||_.push(b)}p=new Ln(_),g=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=c.fieldTransforms;return new QV(new wn(d),p,g)}class Xh extends Yh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}class dy extends Yh{_toFieldTransform(e){return new B2(e.path,new Uu)}isEqual(e){return e instanceof dy}}function XV(n,e,t,i){const a=n.dc(1,e,t);py("Data must be an object, but it was:",a,i);const l=[],c=wn.empty();Vs(i,(p,g)=>{const _=my(e,p,t);g=yt(g);const T=a.hc(_);if(g instanceof Xh)l.push(_);else{const b=tc(g,T);b!=null&&(l.push(_),c.set(_,b))}});const d=new Ln(l);return new XA(c,d,a.fieldTransforms)}function WV(n,e,t,i,a,l){const c=n.dc(1,e,t),d=[tg(e,i,t)],p=[a];if(l.length%2!=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(tg(e,l[b])),p.push(l[b+1]);const g=[],_=wn.empty();for(let b=d.length-1;b>=0;--b)if(!ew(g,d[b])){const M=d[b];let D=p[b];D=yt(D);const z=c.hc(M);if(D instanceof Xh)g.push(M);else{const B=tc(D,z);B!=null&&(g.push(M),_.set(M,B))}}const T=new Ln(g);return new XA(_,T,c.fieldTransforms)}function ZV(n,e,t,i=!1){return tc(t,n.dc(i?4:3,e))}function tc(n,e){if(JA(n=yt(n)))return py("Unsupported field value:",e,n),ZA(n,e);if(n instanceof Yh)return function(i,a){if(!WA(a.oc))throw a.Tc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=tc(d,a.Pc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=yt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return L2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=qt.fromDate(i);return{timestampValue:hh(a.serializer,l)}}if(i instanceof qt){const l=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hh(a.serializer,l)}}if(i instanceof uy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jo)return{bytesValue:pA(a.serializer,i._byteString)};if(i instanceof vn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$g(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof cy)return function(c,d){return{mapValue:{fields:{[jS]:{stringValue:HS},[lh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return Hg(d.serializer,g)})}}}}}}(i,a);throw a.Tc(`Unsupported field value: ${Kh(i)}`)}(n,e)}function ZA(n,e){const t={};return LS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(n,(i,a)=>{const l=tc(a,e.uc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function JA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof uy||n instanceof jo||n instanceof vn||n instanceof Yh||n instanceof cy)}function py(n,e,t){if(!JA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Kh(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function tg(n,e,t){if((e=yt(e))instanceof $h)return e._internalPath;if(typeof e=="string")return my(n,e);throw gh("Field path arguments must be of type string or ",n,!1,void 0,t)}const JV=new RegExp("[~\\*/\\[\\]]");function my(n,e,t){if(e.search(JV)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $h(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new ye(ie.INVALID_ARGUMENT,d+n+p)}function ew(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ex extends tw{data(){return super.data()}}function gy(n,e){return typeof e=="string"?my(n,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class _y extends yy{}function Tk(n,e,...t){let i=[];e instanceof yy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Ey).length,d=l.filter(p=>p instanceof vy).length;if(c>1||c>0&&d>0)throw new ye(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class vy extends _y{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new vy(e,t,i)}_apply(e){const t=this._parse(e);return nw(e._query,t),new Ps(e.firestore,e.converter,Gm(e._query,t))}_parse(e){const t=hy(e.firestore);return function(l,c,d,p,g,_,T){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){U0(T,_);const D=[];for(const z of T)D.push(L0(p,l,z));b={arrayValue:{values:D}}}else b=L0(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||U0(T,_),b=ZV(d,c,T,_==="in"||_==="not-in");return xt.create(g,_,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ey extends yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ey(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)nw(c,p),c=Gm(c,p)}(e._query,t),new Ps(e.firestore,e.converter,Gm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ty extends _y{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ty(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new ye(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(l,c)}(e._query,this._field,this._direction);return new Ps(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Jo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function bk(n,e="asc"){const t=e,i=gy("orderBy",n);return Ty._create(i,t)}class by extends _y{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new by(e,t,i)}_apply(e){return new Ps(e.firestore,e.converter,ch(e._query,this._limit,this._limitType))}}function Sk(n){return jV("limit",n),by._create("limit",n,"F")}function L0(n,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new ye(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZS(e)&&t.indexOf("/")!==-1)throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!Ae.isDocumentKey(i))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ZT(n,new Ae(i))}if(t instanceof vn)return ZT(n,t._key);throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(t)}.`)}function U0(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nw(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nx{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Vs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[lh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>wt(c.doubleValue));return new cy(l)}convertGeoPoint(e){return new uy(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Lh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);Je(EA(i),9688,{name:e});const a=new Pu(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(t)||Oi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rw extends tw{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(gy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qf extends rw{data(e={}){return super.data(e)}}class ix{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new _u(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qf(this._firestore,this._userDataWriter,i.key,i,new _u(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Qf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Qf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:sx(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n){n=Hr(n,vn);const e=Hr(n.firestore,tl);return BV(ly(e),n._key).then(t=>ax(e,n,t))}class iw extends nx{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function wk(n){n=Hr(n,Ps);const e=Hr(n.firestore,tl),t=ly(e),i=new iw(e);return tx(n._query),qV(t,n._query).then(a=>new ix(e,i,n,a))}function Rk(n,e,t){n=Hr(n,vn);const i=Hr(n.firestore,tl),a=rx(n.converter,e);return Sy(i,[YV(hy(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,hr.none())])}function Ck(n,e,t,...i){n=Hr(n,vn);const a=Hr(n.firestore,tl),l=hy(a);let c;return c=typeof(e=yt(e))=="string"||e instanceof $h?WV(l,"updateDoc",n._key,e,t,i):XV(l,"updateDoc",n._key,e),Sy(a,[c.toMutation(n._key,hr.exists(!0))])}function Ik(n){return Sy(Hr(n.firestore,tl),[new Gg(n._key,hr.none())])}function Sy(n,e){return function(i,a){const l=new wi;return i.asyncQueue.enqueueAndForget(async()=>IV(await zV(i),a,l)),l.promise}(ly(n),e)}function ax(n,e,t){const i=t.docs.get(e._key),a=new iw(n);return new rw(n,a,e._key,i,new _u(t.hasPendingWrites,t.fromCache),e.converter)}function Dk(){return new dy("serverTimestamp")}(function(e,t=!0){(function(a){Xo=a})($o),ko(new Aa("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new tl(new WN(i.getProvider("auth-internal")),new e2(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ts(BT,qT,e),Ts(BT,qT,"esm2017")})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ng=function(){return ng=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ng.apply(this,arguments)};function ox(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}var Po="",Ru=null,$f=null,sw=null;function Ay(){Po="",Ru!==null&&Ru.disconnect(),$f!==null&&(window.clearTimeout($f),$f=null)}function z0(n){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],t=["A","AREA"];return e.includes(n.tagName)&&!n.hasAttribute("disabled")||t.includes(n.tagName)&&n.hasAttribute("href")}function B0(){var n=null;if(Po==="#")n=document.body;else{var e=Po.replace("#","");n=document.getElementById(e),n===null&&Po==="#top"&&(n=document.body)}if(n!==null){sw(n);var t=n.getAttribute("tabindex");return t===null&&!z0(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),t===null&&!z0(n)&&(n.blur(),n.removeAttribute("tabindex")),Ay(),!0}return!1}function lx(n){window.setTimeout(function(){B0()===!1&&(Ru===null&&(Ru=new MutationObserver(B0)),Ru.observe(document,{attributes:!0,childList:!0,subtree:!0}),$f=window.setTimeout(function(){Ay()},n||1e4))},0)}function aw(n){return ut.forwardRef(function(e,t){var i="";typeof e.to=="string"&&e.to.includes("#")?i="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(i=e.to.hash);var a={};n===Tg&&(a.isActive=function(d,p){return d&&d.isExact&&p.hash===i});function l(d){Ay(),Po=e.elementId?"#"+e.elementId:i,e.onClick&&e.onClick(d),Po!==""&&!d.defaultPrevented&&d.button===0&&(!e.target||e.target==="_self")&&!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)&&(sw=e.scroll||function(p){return e.smooth?p.scrollIntoView({behavior:"smooth"}):p.scrollIntoView()},lx(e.timeout))}var c=ox(e,["scroll","smooth","timeout","elementId"]);return ut.createElement(n,ng({},a,c,{onClick:l,ref:t}),e.children)})}var Ok=aw(Eg);aw(Tg);function en(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var ux=typeof Symbol=="function"&&Symbol.observable||"@@observable",q0=ux,Sm=()=>Math.random().toString(36).substring(7).split("").join("."),cx={INIT:`@@redux/INIT${Sm()}`,REPLACE:`@@redux/REPLACE${Sm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sm()}`},yh=cx;function wy(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function ow(n,e,t){if(typeof n!="function")throw new Error(en(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(en(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(en(1));return t(ow)(n,e)}let i=n,a=e,l=new Map,c=l,d=0,p=!1;function g(){c===l&&(c=new Map,l.forEach((B,$)=>{c.set($,B)}))}function _(){if(p)throw new Error(en(3));return a}function T(B){if(typeof B!="function")throw new Error(en(4));if(p)throw new Error(en(5));let $=!0;g();const G=d++;return c.set(G,B),function(){if($){if(p)throw new Error(en(6));$=!1,g(),c.delete(G),l=null}}}function b(B){if(!wy(B))throw new Error(en(7));if(typeof B.type>"u")throw new Error(en(8));if(typeof B.type!="string")throw new Error(en(17));if(p)throw new Error(en(9));try{p=!0,a=i(a,B)}finally{p=!1}return(l=c).forEach(G=>{G()}),B}function M(B){if(typeof B!="function")throw new Error(en(10));i=B,b({type:yh.REPLACE})}function D(){const B=T;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(en(11));function G(){const le=$;le.next&&le.next(_())}return G(),{unsubscribe:B(G)}},[q0](){return this}}}return b({type:yh.INIT}),{dispatch:b,subscribe:T,getState:_,replaceReducer:M,[q0]:D}}function fx(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:yh.INIT})>"u")throw new Error(en(12));if(typeof t(void 0,{type:yh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(en(13))})}function hx(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const i=Object.keys(t);let a;try{fx(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let p=!1;const g={};for(let _=0;_<i.length;_++){const T=i[_],b=t[T],M=c[T],D=b(M,d);if(typeof D>"u")throw d&&d.type,new Error(en(14));g[T]=D,p=p||D!==M}return p=p||i.length!==Object.keys(c).length,p?g:c}}function _h(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function dx(...n){return e=>(t,i)=>{const a=e(t,i);let l=()=>{throw new Error(en(15))};const c={getState:a.getState,dispatch:(p,...g)=>l(p,...g)},d=n.map(p=>p(c));return l=_h(...d)(a.dispatch),{...a,dispatch:l}}}function px(n){return wy(n)&&"type"in n&&typeof n.type=="string"}var lw=Symbol.for("immer-nothing"),F0=Symbol.for("immer-draftable"),Un=Symbol.for("immer-state");function or(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ho=Object.getPrototypeOf;function Oa(n){return!!n&&!!n[Un]}function Mi(n){var e;return n?uw(n)||Array.isArray(n)||!!n[F0]||!!((e=n.constructor)!=null&&e[F0])||Zh(n)||Jh(n):!1}var mx=Object.prototype.constructor.toString();function uw(n){if(!n||typeof n!="object")return!1;const e=Ho(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===mx}function vh(n,e){Wh(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function Wh(n){const e=n[Un];return e?e.type_:Array.isArray(n)?1:Zh(n)?2:Jh(n)?3:0}function rg(n,e){return Wh(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function cw(n,e,t){const i=Wh(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function gx(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Zh(n){return n instanceof Map}function Jh(n){return n instanceof Set}function ga(n){return n.copy_||n.base_}function ig(n,e){if(Zh(n))return new Map(n);if(Jh(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=uw(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Un];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(Ho(n),i)}else{const i=Ho(n);if(i!==null&&t)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function Ry(n,e=!1){return ed(n)||Oa(n)||!Mi(n)||(Wh(n)>1&&(n.set=n.add=n.clear=n.delete=yx),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>Ry(i,!0))),n}function yx(){or(2)}function ed(n){return Object.isFrozen(n)}var _x={};function Na(n){const e=_x[n];return e||or(0,n),e}var qu;function fw(){return qu}function vx(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function j0(n,e){e&&(Na("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function sg(n){ag(n),n.drafts_.forEach(Ex),n.drafts_=null}function ag(n){n===qu&&(qu=n.parent_)}function H0(n){return qu=vx(qu,n)}function Ex(n){const e=n[Un];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function G0(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Un].modified_&&(sg(e),or(4)),Mi(n)&&(n=Eh(e,n),e.parent_||Th(e,n)),e.patches_&&Na("Patches").generateReplacementPatches_(t[Un].base_,n,e.patches_,e.inversePatches_)):n=Eh(e,t,[]),sg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==lw?n:void 0}function Eh(n,e,t){if(ed(e))return e;const i=e[Un];if(!i)return vh(e,(a,l)=>K0(n,i,e,a,l,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return Th(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),vh(l,(d,p)=>K0(n,i,a,d,p,t,c)),Th(n,a,!1),t&&n.patches_&&Na("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function K0(n,e,t,i,a,l,c){if(Oa(a)){const d=l&&e&&e.type_!==3&&!rg(e.assigned_,i)?l.concat(i):void 0,p=Eh(n,a,d);if(cw(t,i,p),Oa(p))n.canAutoFreeze_=!1;else return}else c&&t.add(a);if(Mi(a)&&!ed(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Eh(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&Th(n,a)}}function Th(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Ry(e,t)}function Tx(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:fw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=Cy;t&&(a=[i],l=Fu);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return i.draft_=d,i.revoke_=c,d}var Cy={get(n,e){if(e===Un)return n;const t=ga(n);if(!rg(t,e))return bx(n,t,e);const i=t[e];return n.finalized_||!Mi(i)?i:i===Am(n.base_,e)?(wm(n),n.copy_[e]=lg(i,n)):i},has(n,e){return e in ga(n)},ownKeys(n){return Reflect.ownKeys(ga(n))},set(n,e,t){const i=hw(ga(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const a=Am(ga(n),e),l=a==null?void 0:a[Un];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(gx(t,a)&&(t!==void 0||rg(n.base_,e)))return!0;wm(n),og(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Am(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,wm(n),og(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ga(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){or(11)},getPrototypeOf(n){return Ho(n.base_)},setPrototypeOf(){or(12)}},Fu={};vh(Cy,(n,e)=>{Fu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Fu.deleteProperty=function(n,e){return Fu.set.call(this,n,e,void 0)};Fu.set=function(n,e,t){return Cy.set.call(this,n[0],e,t,n[0])};function Am(n,e){const t=n[Un];return(t?ga(t):n)[e]}function bx(n,e,t){var a;const i=hw(e,t);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function hw(n,e){if(!(e in n))return;let t=Ho(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Ho(t)}}function og(n){n.modified_||(n.modified_=!0,n.parent_&&og(n.parent_))}function wm(n){n.copy_||(n.copy_=ig(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Sx=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(p=l,...g){return c.produce(p,_=>t.call(this,_,...g))}}typeof t!="function"&&or(6),i!==void 0&&typeof i!="function"&&or(7);let a;if(Mi(e)){const l=H0(this),c=lg(e,void 0);let d=!0;try{a=t(c),d=!1}finally{d?sg(l):ag(l)}return j0(l,i),G0(a,l)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===lw&&(a=void 0),this.autoFreeze_&&Ry(a,!0),i){const l=[],c=[];Na("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else or(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let i,a;return[this.produce(e,t,(c,d)=>{i=c,a=d}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Mi(n)||or(8),Oa(n)&&(n=Ax(n));const e=H0(this),t=lg(n,void 0);return t[Un].isManual_=!0,ag(e),t}finishDraft(n,e){const t=n&&n[Un];(!t||!t.isManual_)&&or(9);const{scope_:i}=t;return j0(i,e),G0(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const i=Na("Patches").applyPatches_;return Oa(n)?i(n,e):this.produce(n,a=>i(a,e))}};function lg(n,e){const t=Zh(n)?Na("MapSet").proxyMap_(n,e):Jh(n)?Na("MapSet").proxySet_(n,e):Tx(n,e);return(e?e.scope_:fw()).drafts_.push(t),t}function Ax(n){return Oa(n)||or(10,n),dw(n)}function dw(n){if(!Mi(n)||ed(n))return n;const e=n[Un];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=ig(n,e.scope_.immer_.useStrictShallowCopy_)}else t=ig(n,!0);return vh(t,(i,a)=>{cw(t,i,dw(a))}),e&&(e.finalized_=!1),t}var zn=new Sx,pw=zn.produce;zn.produceWithPatches.bind(zn);zn.setAutoFreeze.bind(zn);zn.setUseStrictShallowCopy.bind(zn);zn.applyPatches.bind(zn);zn.createDraft.bind(zn);zn.finishDraft.bind(zn);function wx(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function Rx(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function Cx(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var Q0=n=>Array.isArray(n)?n:[n];function Ix(n){const e=Array.isArray(n[0])?n[0]:n;return Cx(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Dx(n,e){const t=[],{length:i}=n;for(let a=0;a<i;a++)t.push(n[a].apply(null,e));return t}var Ox=class{constructor(n){this.value=n}deref(){return this.value}},Nx=typeof WeakRef<"u"?WeakRef:Ox,Mx=0,$0=1;function Vf(){return{s:Mx,v:void 0,o:null,p:null}}function mw(n,e={}){let t=Vf();const{resultEqualityCheck:i}=e;let a,l=0;function c(){var T;let d=t;const{length:p}=arguments;for(let b=0,M=p;b<M;b++){const D=arguments[b];if(typeof D=="function"||typeof D=="object"&&D!==null){let z=d.o;z===null&&(d.o=z=new WeakMap);const B=z.get(D);B===void 0?(d=Vf(),z.set(D,d)):d=B}else{let z=d.p;z===null&&(d.p=z=new Map);const B=z.get(D);B===void 0?(d=Vf(),z.set(D,d)):d=B}}const g=d;let _;if(d.s===$0)_=d.v;else if(_=n.apply(null,arguments),l++,i){const b=((T=a==null?void 0:a.deref)==null?void 0:T.call(a))??a;b!=null&&i(b,_)&&(_=b,l!==0&&l--),a=typeof _=="object"&&_!==null||typeof _=="function"?new Nx(_):_}return g.s=$0,g.v=_,_}return c.clearCache=()=>{t=Vf(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function Vx(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...a)=>{let l=0,c=0,d,p={},g=a.pop();typeof g=="object"&&(p=g,g=a.pop()),wx(g,`createSelector expects an output function after the inputs, but received: [${typeof g}]`);const _={...t,...p},{memoize:T,memoizeOptions:b=[],argsMemoize:M=mw,argsMemoizeOptions:D=[]}=_,z=Q0(b),B=Q0(D),$=Ix(a),G=T(function(){return l++,g.apply(null,arguments)},...z),re=M(function(){c++;const ee=Dx($,arguments);return d=G.apply(null,ee),d},...B);return Object.assign(re,{resultFunc:g,memoizedResultFunc:G,dependencies:$,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:T,argsMemoize:M})};return Object.assign(i,{withTypes:()=>i}),i}var xx=Vx(mw),Px=Object.assign((n,e=xx)=>{Rx(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(l=>n[l]);return e(i,(...l)=>l.reduce((c,d,p)=>(c[t[p]]=d,c),{}))},{withTypes:()=>Px});function gw(n){return({dispatch:t,getState:i})=>a=>l=>typeof l=="function"?l(t,i,n):a(l)}var kx=gw(),Lx=gw,Ux=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_h:_h.apply(null,arguments)},zx=n=>n&&typeof n.match=="function";function Cu(n,e){function t(...i){if(e){let a=e(...i);if(!a)throw new Error(Ri(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>px(i)&&i.type===n,t}var yw=class vu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,vu.prototype)}static get[Symbol.species](){return vu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new vu(...e[0].concat(this)):new vu(...e.concat(this))}};function Y0(n){return Mi(n)?pw(n,()=>{}):n}function xf(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function Bx(n){return typeof n=="boolean"}var qx=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new yw;return t&&(Bx(t)?c.push(kx):c.push(Lx(t.extraArgument))),c},Fx="RTK_autoBatch",X0=n=>e=>{setTimeout(e,n)},jx=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let a=!0,l=!1,c=!1;const d=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:X0(10):n.type==="callback"?n.queueNotification:X0(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},i,{subscribe(_){const T=()=>a&&_(),b=i.subscribe(T);return d.add(_),()=>{b(),d.delete(_)}},dispatch(_){var T;try{return a=!((T=_==null?void 0:_.meta)!=null&&T[Fx]),l=!a,l&&(c||(c=!0,p(g))),i.dispatch(_)}finally{a=!0}}})},Hx=n=>function(t){const{autoBatch:i=!0}=t??{};let a=new yw(n);return i&&a.push(jx(typeof i=="object"?i:void 0)),a};function Nk(n){const e=qx(),{reducer:t=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(wy(t))d=hx(t);else throw new Error(Ri(1));let p;typeof i=="function"?p=i(e):p=e();let g=_h;a&&(g=Ux({trace:!1,...typeof a=="object"&&a}));const _=dx(...p),T=Hx(_);let b=typeof c=="function"?c(T):T();const M=g(...b);return ow(d,l,M)}function _w(n){const e={},t=[];let i;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Ri(28));if(d in e)throw new Error(Ri(29));return e[d]=c,a},addMatcher(l,c){return t.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return n(a),[e,t,i]}function Gx(n){return typeof n=="function"}function Kx(n,e){let[t,i,a]=_w(e),l;if(Gx(n))l=()=>Y0(n());else{const d=Y0(n);l=()=>d}function c(d=l(),p){let g=[t[p.type],...i.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[a]),g.reduce((_,T)=>{if(T)if(Oa(_)){const M=T(_,p);return M===void 0?_:M}else{if(Mi(_))return pw(_,b=>T(b,p));{const b=T(_,p);if(b===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return _},d)}return c.getInitialState=l,c}var Qx=(n,e)=>zx(n)?n.match(e):n(e);function $x(...n){return e=>n.some(t=>Qx(t,e))}var Yx="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xx=(n=21)=>{let e="",t=n;for(;t--;)e+=Yx[Math.random()*64|0];return e},Wx=["name","message","stack","code"],Rm=class{constructor(n,e){Jp(this,"_type");this.payload=n,this.meta=e}},W0=class{constructor(n,e){Jp(this,"_type");this.payload=n,this.meta=e}},Zx=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of Wx)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},Z0="External signal was aborted",Mk=(()=>{function n(e,t,i){const a=Cu(e+"/fulfilled",(p,g,_,T)=>({payload:p,meta:{...T||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),l=Cu(e+"/pending",(p,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:p,requestStatus:"pending"}})),c=Cu(e+"/rejected",(p,g,_,T,b)=>({payload:T,error:(i&&i.serializeError||Zx)(p||"Rejected"),meta:{...b||{},arg:_,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function d(p,{signal:g}={}){return(_,T,b)=>{const M=i!=null&&i.idGenerator?i.idGenerator(p):Xx(),D=new AbortController;let z,B;function $(re){B=re,D.abort()}g&&(g.aborted?$(Z0):g.addEventListener("abort",()=>$(Z0),{once:!0}));const G=async function(){var ee,pe;let re;try{let O=(ee=i==null?void 0:i.condition)==null?void 0:ee.call(i,p,{getState:T,extra:b});if(eP(O)&&(O=await O),O===!1||D.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((w,N)=>{z=()=>{N({name:"AbortError",message:B||"Aborted"})},D.signal.addEventListener("abort",z)});_(l(M,p,(pe=i==null?void 0:i.getPendingMeta)==null?void 0:pe.call(i,{requestId:M,arg:p},{getState:T,extra:b}))),re=await Promise.race([R,Promise.resolve(t(p,{dispatch:_,getState:T,extra:b,requestId:M,signal:D.signal,abort:$,rejectWithValue:(w,N)=>new Rm(w,N),fulfillWithValue:(w,N)=>new W0(w,N)})).then(w=>{if(w instanceof Rm)throw w;return w instanceof W0?a(w.payload,M,p,w.meta):a(w,M,p)})])}catch(O){re=O instanceof Rm?c(null,M,p,O.payload,O.meta):c(O,M,p)}finally{z&&D.signal.removeEventListener("abort",z)}return i&&!i.dispatchConditionRejection&&c.match(re)&&re.meta.condition||_(re),re}();return Object.assign(G,{abort:$,requestId:M,arg:p,unwrap(){return G.then(Jx)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:a,settled:$x(c,a),typePrefix:e})}return n.withTypes=()=>n,n})();function Jx(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function eP(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var tP=Symbol.for("rtk-slice-createasyncthunk");function nP(n,e){return`${n}/${e}`}function rP({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[tP];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(Ri(11));const d=(typeof a.reducers=="function"?a.reducers(sP()):a.reducers)||{},p=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(le,ee){const pe=typeof le=="string"?le:le.type;if(!pe)throw new Error(Ri(12));if(pe in g.sliceCaseReducersByType)throw new Error(Ri(13));return g.sliceCaseReducersByType[pe]=ee,_},addMatcher(le,ee){return g.sliceMatchers.push({matcher:le,reducer:ee}),_},exposeAction(le,ee){return g.actionCreators[le]=ee,_},exposeCaseReducer(le,ee){return g.sliceCaseReducersByName[le]=ee,_}};p.forEach(le=>{const ee=d[le],pe={reducerName:le,type:nP(l,le),createNotation:typeof a.reducers=="function"};oP(ee)?uP(pe,ee,_,e):aP(pe,ee,_)});function T(){const[le={},ee=[],pe=void 0]=typeof a.extraReducers=="function"?_w(a.extraReducers):[a.extraReducers],O={...le,...g.sliceCaseReducersByType};return Kx(a.initialState,R=>{for(let w in O)R.addCase(w,O[w]);for(let w of g.sliceMatchers)R.addMatcher(w.matcher,w.reducer);for(let w of ee)R.addMatcher(w.matcher,w.reducer);pe&&R.addDefaultCase(pe)})}const b=le=>le,M=new Map,D=new WeakMap;let z;function B(le,ee){return z||(z=T()),z(le,ee)}function $(){return z||(z=T()),z.getInitialState()}function G(le,ee=!1){function pe(R){let w=R[le];return typeof w>"u"&&ee&&(w=xf(D,pe,$)),w}function O(R=b){const w=xf(M,ee,()=>new WeakMap);return xf(w,R,()=>{const N={};for(const[k,x]of Object.entries(a.selectors??{}))N[k]=iP(x,R,()=>xf(D,R,$),ee);return N})}return{reducerPath:le,getSelectors:O,get selectors(){return O(pe)},selectSlice:pe}}const re={name:l,reducer:B,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:$,...G(c),injectInto(le,{reducerPath:ee,...pe}={}){const O=ee??c;return le.inject({reducerPath:O,reducer:B},pe),{...re,...G(O,!0)}}};return re}}function iP(n,e,t,i){function a(l,...c){let d=e(l);return typeof d>"u"&&i&&(d=t()),n(d,...c)}return a.unwrapped=n,a}var Vk=rP();function sP(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function aP({type:n,reducerName:e,createNotation:t},i,a){let l,c;if("reducer"in i){if(t&&!lP(i))throw new Error(Ri(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?Cu(n,c):Cu(n))}function oP(n){return n._reducerDefinitionType==="asyncThunk"}function lP(n){return n._reducerDefinitionType==="reducerWithPrepare"}function uP({type:n,reducerName:e},t,i,a){if(!a)throw new Error(Ri(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:p,settled:g,options:_}=t,T=a(n,l,_);i.exposeAction(e,T),c&&i.addCase(T.fulfilled,c),d&&i.addCase(T.pending,d),p&&i.addCase(T.rejected,p),g&&i.addMatcher(T.settled,g),i.exposeCaseReducer(e,{fulfilled:c||Pf,pending:d||Pf,rejected:p||Pf,settled:g||Pf})}function Pf(){}function Ri(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}function ug(){return ug=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ug.apply(this,arguments)}var cP={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,e){},onStringTyped:function(n,e){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,e){},onTypingResumed:function(n,e){},onReset:function(n){},onStop:function(n,e){},onStart:function(n,e){},onDestroy:function(n){}},fP=new(function(){function n(){}var e=n.prototype;return e.load=function(t,i,a){if(t.el=typeof a=="string"?document.querySelector(a):a,t.options=ug({},cP,i),t.isInput=t.el.tagName.toLowerCase()==="input",t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(g){return g.trim()}),t.stringsElement=typeof t.options.stringsElement=="string"?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var l=Array.prototype.slice.apply(t.stringsElement.children),c=l.length;if(c)for(var d=0;d<c;d+=1)t.strings.push(l[d].innerHTML.trim())}for(var p in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[p]=p;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:t.contentType==="html"?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var i="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+i+"]")){var a=document.createElement("style");a.setAttribute(i,"true"),a.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(a)}},e.appendFadeOutAnimationCss=function(t){var i="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+i+"]")){var a=document.createElement("style");a.setAttribute(i,"true"),a.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(a)}},n}()),J0=new(function(){function n(){}var e=n.prototype;return e.typeHtmlChars=function(t,i,a){if(a.contentType!=="html")return i;var l=t.substring(i).charAt(0);if(l==="<"||l==="&"){var c;for(c=l==="<"?">":";";t.substring(i+1).charAt(0)!==c&&!(1+ ++i>t.length););i++}return i},e.backSpaceHtmlChars=function(t,i,a){if(a.contentType!=="html")return i;var l=t.substring(i).charAt(0);if(l===">"||l===";"){var c;for(c=l===">"?"<":"&";t.substring(i-1).charAt(0)!==c&&!(--i<0););i--}return i},n}()),hP=function(){function n(t,i){fP.load(this,i,t),this.begin()}var e=n.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){t===void 0&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.strPos===0?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,i){var a=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var l=this.humanizer(this.typeSpeed),c=1;this.pause.status!==!0?this.timeout=setTimeout(function(){i=J0.typeHtmlChars(t,i,a);var d=0,p=t.substring(i);if(p.charAt(0)==="^"&&/^\^\d+/.test(p)){var g=1;g+=(p=/\d+/.exec(p)[0]).length,d=parseInt(p),a.temporaryPause=!0,a.options.onTypingPaused(a.arrayPos,a),t=t.substring(0,i)+t.substring(i+g),a.toggleBlinking(!0)}if(p.charAt(0)==="`"){for(;t.substring(i+c).charAt(0)!=="`"&&(c++,!(i+c>t.length)););var _=t.substring(0,i),T=t.substring(_.length+1,i+c),b=t.substring(i+c+1);t=_+T+b,c--}a.timeout=setTimeout(function(){a.toggleBlinking(!1),i>=t.length?a.doneTyping(t,i):a.keepTyping(t,i,c),a.temporaryPause&&(a.temporaryPause=!1,a.options.onTypingResumed(a.arrayPos,a))},d)},l):this.setPauseStatus(t,i,!0)},e.keepTyping=function(t,i,a){i===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var l=t.substring(0,i+=a);this.replaceText(l),this.typewrite(t,i)},e.doneTyping=function(t,i){var a=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){a.backspace(t,i)},this.backDelay))},e.backspace=function(t,i){var a=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var l=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){i=J0.backSpaceHtmlChars(t,i,a);var c=t.substring(0,i);if(a.replaceText(c),a.smartBackspace){var d=a.strings[a.arrayPos+1];a.stopNum=d&&c===d.substring(0,i)?i:0}i>a.stopNum?(i--,a.backspace(t,i)):i<=a.stopNum&&(a.arrayPos++,a.arrayPos===a.strings.length?(a.arrayPos=0,a.options.onLastStringBackspaced(),a.shuffleStringsIfNeeded(),a.begin()):a.typewrite(a.strings[a.sequence[a.arrayPos]],i))},l)}else this.setPauseStatus(t,i,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,i,a){this.pause.typewrite=a,this.pause.curString=t,this.pause.curStrPos=i},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:this.contentType==="html"?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(i){t.stop()}),this.el.addEventListener("blur",function(i){t.el.value&&t.el.value.length!==0||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n}();const xk=j.memo(({style:n,className:e,typedRef:t,parseRef:i,stopped:a,children:l,startWhenVisible:c,...d})=>{const p=j.useRef(null),g=j.useMemo(()=>{var T;return[...Object.values(d).filter(b=>typeof b=="boolean"||typeof b=="number"||typeof b=="string"),(T=d.strings)==null?void 0:T.join(",")]},[d]);j.useEffect(()=>{const T=i&&i(p)||p.current,b=new hP(T,{...d});if((a||c)&&(b==null||b.stop()),c){const M=new IntersectionObserver(([D])=>{D.isIntersecting&&(b==null||b.start(),M.disconnect())});M.observe(T)}return t&&b&&t(b),()=>{b.destroy()}},g);const _=l?ut.cloneElement(l,{ref:p}):ut.createElement("span",{style:n,ref:p});return ut.createElement("span",{style:n,className:e,"data-testid":"react-typed"},_)});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var As=function(){return As=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},As.apply(this,arguments)};function dP(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}var pP=function(){return Math.random().toString(36).substring(6)},mP=function(n){var e=n.animate,t=e===void 0?!0:e,i=n.backgroundColor,a=i===void 0?"#f5f6f7":i,l=n.backgroundOpacity,c=l===void 0?1:l,d=n.baseUrl,p=d===void 0?"":d,g=n.children,_=n.foregroundColor,T=_===void 0?"#eee":_,b=n.foregroundOpacity,M=b===void 0?1:b,D=n.gradientRatio,z=D===void 0?2:D,B=n.uniqueKey,$=n.rtl,G=$===void 0?!1:$,re=n.speed,le=re===void 0?1.2:re,ee=n.style,pe=ee===void 0?{}:ee,O=n.title,R=O===void 0?"Loading...":O,w=n.beforeMask,N=w===void 0?null:w,k=dP(n,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","style","title","beforeMask"]),x=B||pP(),C="".concat(x,"-diff"),xe="".concat(x,"-animated-diff"),Le="".concat(x,"-aria"),W=G?{transform:"scaleX(-1)"}:null,fe="".concat(le,"s"),ve="".concat(z*-1," 0"),Ue="".concat(z," 0");return j.createElement("svg",As({"aria-labelledby":Le,role:"img",style:As(As({},pe),W)},k),R?j.createElement("title",{id:Le},R):null,N&&j.isValidElement(N)?N:null,j.createElement("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url(".concat(p,"#").concat(C,")"),style:{fill:"url(".concat(p,"#").concat(xe,")")}}),j.createElement("defs",null,j.createElement("clipPath",{id:C},g),j.createElement("linearGradient",{id:xe,gradientTransform:"translate(".concat(ve,")")},j.createElement("stop",{offset:"0%",stopColor:a,stopOpacity:c}),j.createElement("stop",{offset:"50%",stopColor:T,stopOpacity:M}),j.createElement("stop",{offset:"100%",stopColor:a,stopOpacity:c}),t&&j.createElement("animateTransform",{attributeName:"gradientTransform",type:"translate",values:"".concat(ve,"; 0 0; ").concat(Ue),dur:fe,repeatCount:"indefinite"}))))},gP=function(n){return n.children?j.createElement(mP,As({},n)):j.createElement(yP,As({},n))},yP=function(n){return j.createElement(gP,As({viewBox:"0 0 476 124"},n),j.createElement("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),j.createElement("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),j.createElement("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),j.createElement("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),j.createElement("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),j.createElement("circle",{cx:"20",cy:"20",r:"20"}))},nc=n=>n.type==="checkbox",Ta=n=>n instanceof Date,_n=n=>n==null;const vw=n=>typeof n=="object";var Rt=n=>!_n(n)&&!Array.isArray(n)&&vw(n)&&!Ta(n),_P=n=>Rt(n)&&n.target?nc(n.target)?n.target.checked:n.target.value:n,vP=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,EP=(n,e)=>n.has(vP(e)),TP=n=>{const e=n.constructor&&n.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},Iy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ln(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(Iy&&(n instanceof Blob||i))&&(t||Rt(n)))if(e=t?[]:{},!t&&!TP(n))e=n;else for(const a in n)n.hasOwnProperty(a)&&(e[a]=ln(n[a]));else return n;return e}var td=n=>Array.isArray(n)?n.filter(Boolean):[],Vt=n=>n===void 0,Te=(n,e,t)=>{if(!e||!Rt(n))return t;const i=td(e.split(/[,[\].]+?/)).reduce((a,l)=>_n(a)?a:a[l],n);return Vt(i)||i===n?Vt(n[e])?t:n[e]:i},Ur=n=>typeof n=="boolean",Dy=n=>/^\w*$/.test(n),Ew=n=>td(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ft=(n,e,t)=>{let i=-1;const a=Dy(e)?[e]:Ew(e),l=a.length,c=l-1;for(;++i<l;){const d=a[i];let p=t;if(i!==c){const g=n[d];p=Rt(g)||Array.isArray(g)?g:isNaN(+a[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=p,n=n[d]}};const eb={BLUR:"blur",FOCUS_OUT:"focusout"},lr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ei={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ut.createContext(null);var bP=(n,e,t,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in n)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==lr.all&&(e._proxyFormState[c]=!i||lr.all),n[c]}});return a};const SP=typeof window<"u"?j.useLayoutEffect:j.useEffect;var zr=n=>typeof n=="string",AP=(n,e,t,i,a)=>zr(n)?(i&&e.watch.add(n),Te(t,n,a)):Array.isArray(n)?n.map(l=>(i&&e.watch.add(l),Te(t,l))):(i&&(e.watchAll=!0),t),wP=(n,e,t,i,a)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:a||!0}}:{},Iu=n=>Array.isArray(n)?n:[n],tb=()=>{let n=[];return{get observers(){return n},next:a=>{for(const l of n)l.next&&l.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(l=>l!==a)}}),unsubscribe:()=>{n=[]}}},cg=n=>_n(n)||!vw(n);function ys(n,e){if(cg(n)||cg(e))return n===e;if(Ta(n)&&Ta(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const a of t){const l=n[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=e[a];if(Ta(l)&&Ta(c)||Rt(l)&&Rt(c)||Array.isArray(l)&&Array.isArray(c)?!ys(l,c):l!==c)return!1}}return!0}var yn=n=>Rt(n)&&!Object.keys(n).length,Oy=n=>n.type==="file",ur=n=>typeof n=="function",bh=n=>{if(!Iy)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Tw=n=>n.type==="select-multiple",Ny=n=>n.type==="radio",RP=n=>Ny(n)||nc(n),Cm=n=>bh(n)&&n.isConnected;function CP(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=Vt(n)?i++:n[e[i++]];return n}function IP(n){for(const e in n)if(n.hasOwnProperty(e)&&!Vt(n[e]))return!1;return!0}function Bt(n,e){const t=Array.isArray(e)?e:Dy(e)?[e]:Ew(e),i=t.length===1?n:CP(n,t),a=t.length-1,l=t[a];return i&&delete i[l],a!==0&&(Rt(i)&&yn(i)||Array.isArray(i)&&IP(i))&&Bt(n,t.slice(0,-1)),n}var bw=n=>{for(const e in n)if(ur(n[e]))return!0;return!1};function Sh(n,e={}){const t=Array.isArray(n);if(Rt(n)||t)for(const i in n)Array.isArray(n[i])||Rt(n[i])&&!bw(n[i])?(e[i]=Array.isArray(n[i])?[]:{},Sh(n[i],e[i])):_n(n[i])||(e[i]=!0);return e}function Sw(n,e,t){const i=Array.isArray(n);if(Rt(n)||i)for(const a in n)Array.isArray(n[a])||Rt(n[a])&&!bw(n[a])?Vt(e)||cg(t[a])?t[a]=Array.isArray(n[a])?Sh(n[a],[]):{...Sh(n[a])}:Sw(n[a],_n(e)?{}:e[a],t[a]):t[a]=!ys(n[a],e[a]);return t}var fu=(n,e)=>Sw(n,e,Sh(e));const nb={value:!1,isValid:!1},rb={value:!0,isValid:!0};var Aw=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Vt(n[0].attributes.value)?Vt(n[0].value)||n[0].value===""?rb:{value:n[0].value,isValid:!0}:rb:nb}return nb},ww=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>Vt(n)?n:e?n===""?NaN:n&&+n:t&&zr(n)?new Date(n):i?i(n):n;const ib={isValid:!1,value:null};var Rw=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ib):ib;function sb(n){const e=n.ref;return Oy(e)?e.files:Ny(e)?Rw(n.refs).value:Tw(e)?[...e.selectedOptions].map(({value:t})=>t):nc(e)?Aw(n.refs).value:ww(Vt(e.value)?n.ref.value:e.value,n)}var DP=(n,e,t,i)=>{const a={};for(const l of n){const c=Te(e,l);c&&ft(a,l,c._f)}return{criteriaMode:t,names:[...n],fields:a,shouldUseNativeValidation:i}},Ah=n=>n instanceof RegExp,hu=n=>Vt(n)?n:Ah(n)?n.source:Rt(n)?Ah(n.value)?n.value.source:n.value:n,ab=n=>({isOnSubmit:!n||n===lr.onSubmit,isOnBlur:n===lr.onBlur,isOnChange:n===lr.onChange,isOnAll:n===lr.all,isOnTouch:n===lr.onTouched});const ob="AsyncFunction";var OP=n=>!!n&&!!n.validate&&!!(ur(n.validate)&&n.validate.constructor.name===ob||Rt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===ob)),NP=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),lb=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const Du=(n,e,t,i)=>{for(const a of t||Object.keys(n)){const l=Te(n,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(Du(d,e))break}else if(Rt(d)&&Du(d,e))break}}};function ub(n,e,t){const i=Te(n,t);if(i||Dy(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),c=Te(e,l),d=Te(n,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(d&&d.type)return{name:l,error:d};a.pop()}return{name:t}}var MP=(n,e,t,i)=>{t(n);const{name:a,...l}=n;return yn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!i||lr.all))},VP=(n,e,t)=>!n||!e||n===e||Iu(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),xP=(n,e,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||n):(t?i.isOnBlur:a.isOnBlur)?!n:(t?i.isOnChange:a.isOnChange)?n:!0,PP=(n,e)=>!td(Te(n,e)).length&&Bt(n,e),kP=(n,e,t)=>{const i=Iu(Te(n,t));return ft(i,"root",e[t]),ft(n,t,i),n},Yf=n=>zr(n);function cb(n,e,t="validate"){if(Yf(n)||Array.isArray(n)&&n.every(Yf)||Ur(n)&&!n)return{type:t,message:Yf(n)?n:"",ref:e}}var Ao=n=>Rt(n)&&!Ah(n)?n:{value:n,message:""},fb=async(n,e,t,i,a,l)=>{const{ref:c,refs:d,required:p,maxLength:g,minLength:_,min:T,max:b,pattern:M,validate:D,name:z,valueAsNumber:B,mount:$}=n._f,G=Te(t,z);if(!$||e.has(z))return{};const re=d?d[0]:c,le=x=>{a&&re.reportValidity&&(re.setCustomValidity(Ur(x)?"":x||""),re.reportValidity())},ee={},pe=Ny(c),O=nc(c),R=pe||O,w=(B||Oy(c))&&Vt(c.value)&&Vt(G)||bh(c)&&c.value===""||G===""||Array.isArray(G)&&!G.length,N=wP.bind(null,z,i,ee),k=(x,C,xe,Le=Ei.maxLength,W=Ei.minLength)=>{const fe=x?C:xe;ee[z]={type:x?Le:W,message:fe,ref:c,...N(x?Le:W,fe)}};if(l?!Array.isArray(G)||!G.length:p&&(!R&&(w||_n(G))||Ur(G)&&!G||O&&!Aw(d).isValid||pe&&!Rw(d).isValid)){const{value:x,message:C}=Yf(p)?{value:!!p,message:p}:Ao(p);if(x&&(ee[z]={type:Ei.required,message:C,ref:re,...N(Ei.required,C)},!i))return le(C),ee}if(!w&&(!_n(T)||!_n(b))){let x,C;const xe=Ao(b),Le=Ao(T);if(!_n(G)&&!isNaN(G)){const W=c.valueAsNumber||G&&+G;_n(xe.value)||(x=W>xe.value),_n(Le.value)||(C=W<Le.value)}else{const W=c.valueAsDate||new Date(G),fe=P=>new Date(new Date().toDateString()+" "+P),ve=c.type=="time",Ue=c.type=="week";zr(xe.value)&&G&&(x=ve?fe(G)>fe(xe.value):Ue?G>xe.value:W>new Date(xe.value)),zr(Le.value)&&G&&(C=ve?fe(G)<fe(Le.value):Ue?G<Le.value:W<new Date(Le.value))}if((x||C)&&(k(!!x,xe.message,Le.message,Ei.max,Ei.min),!i))return le(ee[z].message),ee}if((g||_)&&!w&&(zr(G)||l&&Array.isArray(G))){const x=Ao(g),C=Ao(_),xe=!_n(x.value)&&G.length>+x.value,Le=!_n(C.value)&&G.length<+C.value;if((xe||Le)&&(k(xe,x.message,C.message),!i))return le(ee[z].message),ee}if(M&&!w&&zr(G)){const{value:x,message:C}=Ao(M);if(Ah(x)&&!G.match(x)&&(ee[z]={type:Ei.pattern,message:C,ref:c,...N(Ei.pattern,C)},!i))return le(C),ee}if(D){if(ur(D)){const x=await D(G,t),C=cb(x,re);if(C&&(ee[z]={...C,...N(Ei.validate,C.message)},!i))return le(C.message),ee}else if(Rt(D)){let x={};for(const C in D){if(!yn(x)&&!i)break;const xe=cb(await D[C](G,t),re,C);xe&&(x={...xe,...N(C,xe.message)},le(xe.message),i&&(ee[z]=x))}if(!yn(x)&&(ee[z]={ref:re,...x},!i))return ee}}return le(!0),ee};const LP={mode:lr.onSubmit,reValidateMode:lr.onChange,shouldFocusError:!0};function UP(n={}){let e={...LP,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:ur(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const i={};let a=Rt(e.defaultValues)||Rt(e.values)?ln(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:ln(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let T={..._};const b={array:tb(),state:tb()},M=ab(e.mode),D=ab(e.reValidateMode),z=e.criteriaMode===lr.all,B=V=>K=>{clearTimeout(g),g=setTimeout(V,K)},$=async V=>{if(!e.disabled&&(_.isValid||T.isValid||V)){const K=e.resolver?yn((await w()).errors):await k(i,!0);K!==t.isValid&&b.state.next({isValid:K})}},G=(V,K)=>{!e.disabled&&(_.isValidating||_.validatingFields||T.isValidating||T.validatingFields)&&((V||Array.from(d.mount)).forEach(Z=>{Z&&(K?ft(t.validatingFields,Z,K):Bt(t.validatingFields,Z))}),b.state.next({validatingFields:t.validatingFields,isValidating:!yn(t.validatingFields)}))},re=(V,K=[],Z,ge,ue=!0,ne=!0)=>{if(ge&&Z&&!e.disabled){if(c.action=!0,ne&&Array.isArray(Te(i,V))){const me=Z(Te(i,V),ge.argA,ge.argB);ue&&ft(i,V,me)}if(ne&&Array.isArray(Te(t.errors,V))){const me=Z(Te(t.errors,V),ge.argA,ge.argB);ue&&ft(t.errors,V,me),PP(t.errors,V)}if((_.touchedFields||T.touchedFields)&&ne&&Array.isArray(Te(t.touchedFields,V))){const me=Z(Te(t.touchedFields,V),ge.argA,ge.argB);ue&&ft(t.touchedFields,V,me)}(_.dirtyFields||T.dirtyFields)&&(t.dirtyFields=fu(a,l)),b.state.next({name:V,isDirty:C(V,K),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ft(l,V,K)},le=(V,K)=>{ft(t.errors,V,K),b.state.next({errors:t.errors})},ee=V=>{t.errors=V,b.state.next({errors:t.errors,isValid:!1})},pe=(V,K,Z,ge)=>{const ue=Te(i,V);if(ue){const ne=Te(l,V,Vt(Z)?Te(a,V):Z);Vt(ne)||ge&&ge.defaultChecked||K?ft(l,V,K?ne:sb(ue._f)):W(V,ne),c.mount&&$()}},O=(V,K,Z,ge,ue)=>{let ne=!1,me=!1;const Ce={name:V};if(!e.disabled){if(!Z||ge){(_.isDirty||T.isDirty)&&(me=t.isDirty,t.isDirty=Ce.isDirty=C(),ne=me!==Ce.isDirty);const ct=ys(Te(a,V),K);me=!!Te(t.dirtyFields,V),ct?Bt(t.dirtyFields,V):ft(t.dirtyFields,V,!0),Ce.dirtyFields=t.dirtyFields,ne=ne||(_.dirtyFields||T.dirtyFields)&&me!==!ct}if(Z){const ct=Te(t.touchedFields,V);ct||(ft(t.touchedFields,V,Z),Ce.touchedFields=t.touchedFields,ne=ne||(_.touchedFields||T.touchedFields)&&ct!==Z)}ne&&ue&&b.state.next(Ce)}return ne?Ce:{}},R=(V,K,Z,ge)=>{const ue=Te(t.errors,V),ne=(_.isValid||T.isValid)&&Ur(K)&&t.isValid!==K;if(e.delayError&&Z?(p=B(()=>le(V,Z)),p(e.delayError)):(clearTimeout(g),p=null,Z?ft(t.errors,V,Z):Bt(t.errors,V)),(Z?!ys(ue,Z):ue)||!yn(ge)||ne){const me={...ge,...ne&&Ur(K)?{isValid:K}:{},errors:t.errors,name:V};t={...t,...me},b.state.next(me)}},w=async V=>{G(V,!0);const K=await e.resolver(l,e.context,DP(V||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return G(V),K},N=async V=>{const{errors:K}=await w(V);if(V)for(const Z of V){const ge=Te(K,Z);ge?ft(t.errors,Z,ge):Bt(t.errors,Z)}else t.errors=K;return K},k=async(V,K,Z={valid:!0})=>{for(const ge in V){const ue=V[ge];if(ue){const{_f:ne,...me}=ue;if(ne){const Ce=d.array.has(ne.name),ct=ue._f&&OP(ue._f);ct&&_.validatingFields&&G([ge],!0);const Ct=await fb(ue,d.disabled,l,z,e.shouldUseNativeValidation&&!K,Ce);if(ct&&_.validatingFields&&G([ge]),Ct[ne.name]&&(Z.valid=!1,K))break;!K&&(Te(Ct,ne.name)?Ce?kP(t.errors,Ct,ne.name):ft(t.errors,ne.name,Ct[ne.name]):Bt(t.errors,ne.name))}!yn(me)&&await k(me,K,Z)}}return Z.valid},x=()=>{for(const V of d.unMount){const K=Te(i,V);K&&(K._f.refs?K._f.refs.every(Z=>!Cm(Z)):!Cm(K._f.ref))&&En(V)}d.unMount=new Set},C=(V,K)=>!e.disabled&&(V&&K&&ft(l,V,K),!ys(de(),a)),xe=(V,K,Z)=>AP(V,d,{...c.mount?l:Vt(K)?a:zr(V)?{[V]:K}:K},Z,K),Le=V=>td(Te(c.mount?l:a,V,e.shouldUnregister?Te(a,V,[]):[])),W=(V,K,Z={})=>{const ge=Te(i,V);let ue=K;if(ge){const ne=ge._f;ne&&(!ne.disabled&&ft(l,V,ww(K,ne)),ue=bh(ne.ref)&&_n(K)?"":K,Tw(ne.ref)?[...ne.ref.options].forEach(me=>me.selected=ue.includes(me.value)):ne.refs?nc(ne.ref)?ne.refs.length>1?ne.refs.forEach(me=>(!me.defaultChecked||!me.disabled)&&(me.checked=Array.isArray(ue)?!!ue.find(Ce=>Ce===me.value):ue===me.value)):ne.refs[0]&&(ne.refs[0].checked=!!ue):ne.refs.forEach(me=>me.checked=me.value===ue):Oy(ne.ref)?ne.ref.value="":(ne.ref.value=ue,ne.ref.type||b.state.next({name:V,values:ln(l)})))}(Z.shouldDirty||Z.shouldTouch)&&O(V,ue,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&oe(V)},fe=(V,K,Z)=>{for(const ge in K){const ue=K[ge],ne=`${V}.${ge}`,me=Te(i,ne);(d.array.has(V)||Rt(ue)||me&&!me._f)&&!Ta(ue)?fe(ne,ue,Z):W(ne,ue,Z)}},ve=(V,K,Z={})=>{const ge=Te(i,V),ue=d.array.has(V),ne=ln(K);ft(l,V,ne),ue?(b.array.next({name:V,values:ln(l)}),(_.isDirty||_.dirtyFields||T.isDirty||T.dirtyFields)&&Z.shouldDirty&&b.state.next({name:V,dirtyFields:fu(a,l),isDirty:C(V,ne)})):ge&&!ge._f&&!_n(ne)?fe(V,ne,Z):W(V,ne,Z),lb(V,d)&&b.state.next({...t}),b.state.next({name:c.mount?V:void 0,values:ln(l)})},Ue=async V=>{c.mount=!0;const K=V.target;let Z=K.name,ge=!0;const ue=Te(i,Z),ne=me=>{ge=Number.isNaN(me)||Ta(me)&&isNaN(me.getTime())||ys(me,Te(l,Z,me))};if(ue){let me,Ce;const ct=K.type?sb(ue._f):_P(V),Ct=V.type===eb.BLUR||V.type===eb.FOCUS_OUT,Kr=!NP(ue._f)&&!e.resolver&&!Te(t.errors,Z)&&!ue._f.deps||xP(Ct,Te(t.touchedFields,Z),t.isSubmitted,D,M),er=lb(Z,d,Ct);ft(l,Z,ct),Ct?(ue._f.onBlur&&ue._f.onBlur(V),p&&p(0)):ue._f.onChange&&ue._f.onChange(V);const tr=O(Z,ct,Ct),Cn=!yn(tr)||er;if(!Ct&&b.state.next({name:Z,type:V.type,values:ln(l)}),Kr)return(_.isValid||T.isValid)&&(e.mode==="onBlur"?Ct&&$():Ct||$()),Cn&&b.state.next({name:Z,...er?{}:tr});if(!Ct&&er&&b.state.next({...t}),e.resolver){const{errors:Qr}=await w([Z]);if(ne(ct),ge){const $r=ub(t.errors,i,Z),Li=ub(Qr,i,$r.name||Z);me=Li.error,Z=Li.name,Ce=yn(Qr)}}else G([Z],!0),me=(await fb(ue,d.disabled,l,z,e.shouldUseNativeValidation))[Z],G([Z]),ne(ct),ge&&(me?Ce=!1:(_.isValid||T.isValid)&&(Ce=await k(i,!0)));ge&&(ue._f.deps&&oe(ue._f.deps),R(Z,Ce,me,tr))}},P=(V,K)=>{if(Te(t.errors,K)&&V.focus)return V.focus(),1},oe=async(V,K={})=>{let Z,ge;const ue=Iu(V);if(e.resolver){const ne=await N(Vt(V)?V:ue);Z=yn(ne),ge=V?!ue.some(me=>Te(ne,me)):Z}else V?(ge=(await Promise.all(ue.map(async ne=>{const me=Te(i,ne);return await k(me&&me._f?{[ne]:me}:me)}))).every(Boolean),!(!ge&&!t.isValid)&&$()):ge=Z=await k(i);return b.state.next({...!zr(V)||(_.isValid||T.isValid)&&Z!==t.isValid?{}:{name:V},...e.resolver||!V?{isValid:Z}:{},errors:t.errors}),K.shouldFocus&&!ge&&Du(i,P,V?ue:d.mount),ge},de=V=>{const K={...c.mount?l:a};return Vt(V)?K:zr(V)?Te(K,V):V.map(Z=>Te(K,Z))},ce=(V,K)=>({invalid:!!Te((K||t).errors,V),isDirty:!!Te((K||t).dirtyFields,V),error:Te((K||t).errors,V),isValidating:!!Te(t.validatingFields,V),isTouched:!!Te((K||t).touchedFields,V)}),Se=V=>{V&&Iu(V).forEach(K=>Bt(t.errors,K)),b.state.next({errors:V?t.errors:{}})},Pe=(V,K,Z)=>{const ge=(Te(i,V,{_f:{}})._f||{}).ref,ue=Te(t.errors,V)||{},{ref:ne,message:me,type:Ce,...ct}=ue;ft(t.errors,V,{...ct,...K,ref:ge}),b.state.next({name:V,errors:t.errors,isValid:!1}),Z&&Z.shouldFocus&&ge&&ge.focus&&ge.focus()},Oe=(V,K)=>ur(V)?b.state.subscribe({next:Z=>V(xe(void 0,K),Z)}):xe(V,K,!0),Tt=V=>b.state.subscribe({next:K=>{VP(V.name,K.name,V.exact)&&MP(K,V.formState||_,Us,V.reRenderRoot)&&V.callback({values:{...l},...t,...K})}}).unsubscribe,nt=V=>(c.mount=!0,T={...T,...V.formState},Tt({...V,formState:T})),En=(V,K={})=>{for(const Z of V?Iu(V):d.mount)d.mount.delete(Z),d.array.delete(Z),K.keepValue||(Bt(i,Z),Bt(l,Z)),!K.keepError&&Bt(t.errors,Z),!K.keepDirty&&Bt(t.dirtyFields,Z),!K.keepTouched&&Bt(t.touchedFields,Z),!K.keepIsValidating&&Bt(t.validatingFields,Z),!e.shouldUnregister&&!K.keepDefaultValue&&Bt(a,Z);b.state.next({values:ln(l)}),b.state.next({...t,...K.keepDirty?{isDirty:C()}:{}}),!K.keepIsValid&&$()},Jn=({disabled:V,name:K})=>{(Ur(V)&&c.mount||V||d.disabled.has(K))&&(V?d.disabled.add(K):d.disabled.delete(K))},Rn=(V,K={})=>{let Z=Te(i,V);const ge=Ur(K.disabled)||Ur(e.disabled);return ft(i,V,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:V}},name:V,mount:!0,...K}}),d.mount.add(V),Z?Jn({disabled:Ur(K.disabled)?K.disabled:e.disabled,name:V}):pe(V,!0,K.value),{...ge?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:hu(K.min),max:hu(K.max),minLength:hu(K.minLength),maxLength:hu(K.maxLength),pattern:hu(K.pattern)}:{},name:V,onChange:Ue,onBlur:Ue,ref:ue=>{if(ue){Rn(V,K),Z=Te(i,V);const ne=Vt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,me=RP(ne),Ce=Z._f.refs||[];if(me?Ce.find(ct=>ct===ne):ne===Z._f.ref)return;ft(i,V,{_f:{...Z._f,...me?{refs:[...Ce.filter(Cm),ne,...Array.isArray(Te(a,V))?[{}]:[]],ref:{type:ne.type,name:V}}:{ref:ne}}}),pe(V,!1,void 0,ne)}else Z=Te(i,V,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(EP(d.array,V)&&c.action)&&d.unMount.add(V)}}},_r=()=>e.shouldFocusError&&Du(i,P,d.mount),Gr=V=>{Ur(V)&&(b.state.next({disabled:V}),Du(i,(K,Z)=>{const ge=Te(i,Z);ge&&(K.disabled=ge._f.disabled||V,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(ue=>{ue.disabled=ge._f.disabled||V}))},0,!1))},vr=(V,K)=>async Z=>{let ge;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ue=ln(l);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:me}=await w();t.errors=ne,ue=me}else await k(i);if(d.disabled.size)for(const ne of d.disabled)ft(ue,ne,void 0);if(Bt(t.errors,"root"),yn(t.errors)){b.state.next({errors:{}});try{await V(ue,Z)}catch(ne){ge=ne}}else K&&await K({...t.errors},Z),_r(),setTimeout(_r);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yn(t.errors)&&!ge,submitCount:t.submitCount+1,errors:t.errors}),ge)throw ge},ks=(V,K={})=>{Te(i,V)&&(Vt(K.defaultValue)?ve(V,ln(Te(a,V))):(ve(V,K.defaultValue),ft(a,V,ln(K.defaultValue))),K.keepTouched||Bt(t.touchedFields,V),K.keepDirty||(Bt(t.dirtyFields,V),t.isDirty=K.defaultValue?C(V,ln(Te(a,V))):C()),K.keepError||(Bt(t.errors,V),_.isValid&&$()),b.state.next({...t}))},Ls=(V,K={})=>{const Z=V?ln(V):a,ge=ln(Z),ue=yn(V),ne=ue?a:ge;if(K.keepDefaultValues||(a=Z),!K.keepValues){if(K.keepDirtyValues){const me=new Set([...d.mount,...Object.keys(fu(a,l))]);for(const Ce of Array.from(me))Te(t.dirtyFields,Ce)?ft(ne,Ce,Te(l,Ce)):ve(Ce,Te(ne,Ce))}else{if(Iy&&Vt(V))for(const me of d.mount){const Ce=Te(i,me);if(Ce&&Ce._f){const ct=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(bh(ct)){const Ct=ct.closest("form");if(Ct){Ct.reset();break}}}}for(const me of d.mount)ve(me,Te(ne,me))}l=ln(ne),b.array.next({values:{...ne}}),b.state.next({values:{...ne}})}d={mount:K.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!K.keepIsValid||!!K.keepDirtyValues,c.watch=!!e.shouldUnregister,b.state.next({submitCount:K.keepSubmitCount?t.submitCount:0,isDirty:ue?!1:K.keepDirty?t.isDirty:!!(K.keepDefaultValues&&!ys(V,a)),isSubmitted:K.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ue?{}:K.keepDirtyValues?K.keepDefaultValues&&l?fu(a,l):t.dirtyFields:K.keepDefaultValues&&V?fu(a,V):K.keepDirty?t.dirtyFields:{},touchedFields:K.keepTouched?t.touchedFields:{},errors:K.keepErrors?t.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},hn=(V,K)=>Ls(ur(V)?V(l):V,K),nl=(V,K={})=>{const Z=Te(i,V),ge=Z&&Z._f;if(ge){const ue=ge.refs?ge.refs[0]:ge.ref;ue.focus&&(ue.focus(),K.shouldSelect&&ur(ue.select)&&ue.select())}},Us=V=>{t={...t,...V}},Er={control:{register:Rn,unregister:En,getFieldState:ce,handleSubmit:vr,setError:Pe,_subscribe:Tt,_runSchema:w,_getWatch:xe,_getDirty:C,_setValid:$,_setFieldArray:re,_setDisabledField:Jn,_setErrors:ee,_getFieldArray:Le,_reset:Ls,_resetDefaultValues:()=>ur(e.defaultValues)&&e.defaultValues().then(V=>{hn(V,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:x,_disableForm:Gr,_subjects:b,_proxyFormState:_,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(V){c=V},get _defaultValues(){return a},get _names(){return d},set _names(V){d=V},get _formState(){return t},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:nt,trigger:oe,register:Rn,handleSubmit:vr,watch:Oe,setValue:ve,getValues:de,reset:hn,resetField:ks,clearErrors:Se,unregister:En,setError:Pe,setFocus:nl,getFieldState:ce};return{...Er,formControl:Er}}function Pk(n={}){const e=ut.useRef(void 0),t=ut.useRef(void 0),[i,a]=ut.useState({isDirty:!1,isValidating:!1,isLoading:ur(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:ur(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...n.formControl?n.formControl:UP(n),formState:i},n.formControl&&n.defaultValues&&!ur(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions));const l=e.current.control;return l._options=n,SP(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),ut.useEffect(()=>l._disableForm(n.disabled),[l,n.disabled]),ut.useEffect(()=>{n.mode&&(l._options.mode=n.mode),n.reValidateMode&&(l._options.reValidateMode=n.reValidateMode),n.errors&&!yn(n.errors)&&l._setErrors(n.errors)},[l,n.errors,n.mode,n.reValidateMode]),ut.useEffect(()=>{n.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,n.shouldUnregister]),ut.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),ut.useEffect(()=>{n.values&&!ys(n.values,t.current)?(l._reset(n.values,l._options.resetOptions),t.current=n.values,a(c=>({...c}))):l._resetDefaultValues()},[l,n.values]),ut.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=bP(i,l),e.current}function wh(){return wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wh.apply(null,arguments)}function My(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function fg(n,e){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},fg(n,e)}function Vy(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,fg(n,e)}function zP(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function BP(n,e){n.classList?n.classList.add(e):zP(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function hb(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function qP(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=hb(n.className,e):n.setAttribute("class",hb(n.className&&n.className.baseVal||"",e))}const db={disabled:!1},Rh=ut.createContext(null);var Cw=function(e){return e.scrollTop},Eu="unmounted",ya="exited",_a="entering",Oo="entered",hg="exiting",ki=function(n){Vy(e,n);function e(i,a){var l;l=n.call(this,i,a)||this;var c=a,d=c&&!c.isMounting?i.enter:i.appear,p;return l.appearStatus=null,i.in?d?(p=ya,l.appearStatus=_a):p=Oo:i.unmountOnExit||i.mountOnEnter?p=Eu:p=ya,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===Eu?{status:ya}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==_a&&c!==Oo&&(l=_a):(c===_a||c===Oo)&&(l=hg)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,l,c,d;return l=c=d=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,d=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:d}},t.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===_a){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Rf.findDOMNode(this);c&&Cw(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ya&&this.setState({status:Eu})},t.performEnter=function(a){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:a,p=this.props.nodeRef?[d]:[Rf.findDOMNode(this),d],g=p[0],_=p[1],T=this.getTimeouts(),b=d?T.appear:T.enter;if(!a&&!c||db.disabled){this.safeSetState({status:Oo},function(){l.props.onEntered(g)});return}this.props.onEnter(g,_),this.safeSetState({status:_a},function(){l.props.onEntering(g,_),l.onTransitionEnd(b,function(){l.safeSetState({status:Oo},function(){l.props.onEntered(g,_)})})})},t.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:Rf.findDOMNode(this);if(!l||db.disabled){this.safeSetState({status:ya},function(){a.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:hg},function(){a.props.onExiting(d),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:ya},function(){a.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},t.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,a(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Rf.findDOMNode(this),d=a==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],_=p[1];this.props.addEndListener(g,_)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===Eu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=My(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ut.createElement(Rh.Provider,{value:null},typeof c=="function"?c(a,d):ut.cloneElement(ut.Children.only(c),d))},e}(ut.Component);ki.contextType=Rh;ki.propTypes={};function wo(){}ki.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wo,onEntering:wo,onEntered:wo,onExit:wo,onExiting:wo,onExited:wo};ki.UNMOUNTED=Eu;ki.EXITED=ya;ki.ENTERING=_a;ki.ENTERED=Oo;ki.EXITING=hg;var FP=function(e,t){return e&&t&&t.split(" ").forEach(function(i){return BP(e,i)})},Im=function(e,t){return e&&t&&t.split(" ").forEach(function(i){return qP(e,i)})},Iw=function(n){Vy(e,n);function e(){for(var i,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return i=n.call.apply(n,[this].concat(l))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(d,p){var g=i.resolveArguments(d,p),_=g[0],T=g[1];i.removeClasses(_,"exit"),i.addClass(_,T?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(d,p)},i.onEntering=function(d,p){var g=i.resolveArguments(d,p),_=g[0],T=g[1],b=T?"appear":"enter";i.addClass(_,b,"active"),i.props.onEntering&&i.props.onEntering(d,p)},i.onEntered=function(d,p){var g=i.resolveArguments(d,p),_=g[0],T=g[1],b=T?"appear":"enter";i.removeClasses(_,b),i.addClass(_,b,"done"),i.props.onEntered&&i.props.onEntered(d,p)},i.onExit=function(d){var p=i.resolveArguments(d),g=p[0];i.removeClasses(g,"appear"),i.removeClasses(g,"enter"),i.addClass(g,"exit","base"),i.props.onExit&&i.props.onExit(d)},i.onExiting=function(d){var p=i.resolveArguments(d),g=p[0];i.addClass(g,"exit","active"),i.props.onExiting&&i.props.onExiting(d)},i.onExited=function(d){var p=i.resolveArguments(d),g=p[0];i.removeClasses(g,"exit"),i.addClass(g,"exit","done"),i.props.onExited&&i.props.onExited(d)},i.resolveArguments=function(d,p){return i.props.nodeRef?[i.props.nodeRef.current,d]:[d,p]},i.getClassNames=function(d){var p=i.props.classNames,g=typeof p=="string",_=g&&p?p+"-":"",T=g?""+_+d:p[d],b=g?T+"-active":p[d+"Active"],M=g?T+"-done":p[d+"Done"];return{baseClassName:T,activeClassName:b,doneClassName:M}},i}var t=e.prototype;return t.addClass=function(a,l,c){var d=this.getClassNames(l)[c+"ClassName"],p=this.getClassNames("enter"),g=p.doneClassName;l==="appear"&&c==="done"&&g&&(d+=" "+g),c==="active"&&a&&Cw(a),d&&(this.appliedClasses[l][c]=d,FP(a,d))},t.removeClasses=function(a,l){var c=this.appliedClasses[l],d=c.base,p=c.active,g=c.done;this.appliedClasses[l]={},d&&Im(a,d),p&&Im(a,p),g&&Im(a,g)},t.render=function(){var a=this.props;a.classNames;var l=My(a,["classNames"]);return ut.createElement(ki,wh({},l,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(ut.Component);Iw.defaultProps={classNames:""};Iw.propTypes={};function jP(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xy(n,e){var t=function(l){return e&&j.isValidElement(l)?e(l):l},i=Object.create(null);return n&&j.Children.map(n,function(a){return a}).forEach(function(a){i[a.key]=t(a)}),i}function HP(n,e){n=n||{},e=e||{};function t(_){return _ in e?e[_]:n[_]}var i=Object.create(null),a=[];for(var l in n)l in e?a.length&&(i[l]=a,a=[]):a.push(l);var c,d={};for(var p in e){if(i[p])for(c=0;c<i[p].length;c++){var g=i[p][c];d[i[p][c]]=t(g)}d[p]=t(p)}for(c=0;c<a.length;c++)d[a[c]]=t(a[c]);return d}function ba(n,e,t){return t[e]!=null?t[e]:n.props[e]}function GP(n,e){return xy(n.children,function(t){return j.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:ba(t,"appear",n),enter:ba(t,"enter",n),exit:ba(t,"exit",n)})})}function KP(n,e,t){var i=xy(n.children),a=HP(e,i);return Object.keys(a).forEach(function(l){var c=a[l];if(j.isValidElement(c)){var d=l in e,p=l in i,g=e[l],_=j.isValidElement(g)&&!g.props.in;p&&(!d||_)?a[l]=j.cloneElement(c,{onExited:t.bind(null,c),in:!0,exit:ba(c,"exit",n),enter:ba(c,"enter",n)}):!p&&d&&!_?a[l]=j.cloneElement(c,{in:!1}):p&&d&&j.isValidElement(g)&&(a[l]=j.cloneElement(c,{onExited:t.bind(null,c),in:g.props.in,exit:ba(c,"exit",n),enter:ba(c,"enter",n)}))}}),a}var QP=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},$P={component:"div",childFactory:function(e){return e}},Dw=function(n){Vy(e,n);function e(i,a){var l;l=n.call(this,i,a)||this;var c=l.handleExited.bind(jP(l));return l.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},l}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,l){var c=l.children,d=l.handleExited,p=l.firstRender;return{children:p?GP(a,d):KP(a,c,d),firstRender:!1}},t.handleExited=function(a,l){var c=xy(this.props.children);a.key in c||(a.props.onExited&&a.props.onExited(l),this.mounted&&this.setState(function(d){var p=wh({},d.children);return delete p[a.key],{children:p}}))},t.render=function(){var a=this.props,l=a.component,c=a.childFactory,d=My(a,["component","childFactory"]),p=this.state.contextValue,g=QP(this.state.children).map(c);return delete d.appear,delete d.enter,delete d.exit,l===null?ut.createElement(Rh.Provider,{value:p},g):ut.createElement(Rh.Provider,{value:p},ut.createElement(l,d,g))},e}(ut.Component);Dw.propTypes={};Dw.defaultProps=$P;export{ZP as A,mk as B,gP as C,sk as D,Yo as E,fk as F,ps as G,ak as H,pk as I,Ik as J,Sb as K,Eg as L,Pk as M,Ok as N,hk as O,Iw as P,ek as Q,xk as R,JC as S,Dw as T,JP as U,tk as V,Nk as W,WP as X,nk as Y,gk as a,Ak as b,_k as c,vk as d,wk as e,Mk as f,Ek as g,ok as h,bD as i,ck as j,Dk as k,Sk as l,uk as m,lk as n,bk as o,dk as p,Tk as q,Vk as r,Rk as s,XP as t,Ck as u,xx as v,j as w,ik as x,rk as y,Ms as z};
